/*! jQuery v1.7.2 jquery.com | jquery.org/license */
(function (a, b) {
    function cy(a) {
        return f.isWindow(a) ? a : a.nodeType === 9 ? a.defaultView || a.parentWindow : !1
    }

    function cu(a) {
        if (!cj[a]) {
            var b = c.body,
                d = f("<" + a + ">")
                .appendTo(b),
                e = d.css("display");
            d.remove();
            if (e === "none" || e === "") {
                ck || (ck = c.createElement("iframe"), ck.frameBorder = ck.width = ck.height = 0), b.appendChild(ck);
                if (!cl || !ck.createElement) {
                    cl = (ck.contentWindow || ck.contentDocument)
                        .document, cl.write((f.support.boxModel ? "<!doctype html>" : "") + "<html><body>"), cl.close()
                }
                d = cl.createElement(a), cl.body.appendChild(d), e = f.css(d, "display"), b.removeChild(ck)
            }
            cj[a] = e
        }
        return cj[a]
    }

    function ct(a, b) {
        var c = {};
        f.each(cp.concat.apply([], cp.slice(0, b)), function () {
            c[this] = a
        });
        return c
    }

    function cs() {
        cq = b
    }

    function cr() {
        setTimeout(cs, 0);
        return cq = f.now()
    }

    function ci() {
        try {
            return new a.ActiveXObject("Microsoft.XMLHTTP")
        } catch (b) {}
    }

    function ch() {
        try {
            return new a.XMLHttpRequest
        } catch (b) {}
    }

    function cb(a, c) {
        a.dataFilter && (c = a.dataFilter(c, a.dataType));
        var d = a.dataTypes,
            e = {},
            g, h, i = d.length,
            j, k = d[0],
            l, m, n, o, p;
        for (g = 1; g < i; g++) {
            if (g === 1) {
                for (h in a.converters) {
                    typeof h == "string" && (e[h.toLowerCase()] = a.converters[h])
                }
            }
            l = k, k = d[g];
            if (k === "*") {
                k = l
            } else {
                if (l !== "*" && l !== k) {
                    m = l + " " + k, n = e[m] || e["* " + k];
                    if (!n) {
                        p = b;
                        for (o in e) {
                            j = o.split(" ");
                            if (j[0] === l || j[0] === "*") {
                                p = e[j[1] + " " + k];
                                if (p) {
                                    o = e[o], o === !0 ? n = p : p === !0 && (n = o);
                                    break
                                }
                            }
                        }
                    }!n && !p && f.error("No conversion from " + m.replace(" ", " to ")), n !== !0 && (c = n ? n(c) : p(o(c)))
                }
            }
        }
        return c
    }

    function ca(a, c, d) {
        var e = a.contents,
            f = a.dataTypes,
            g = a.responseFields,
            h, i, j, k;
        for (i in g) {
            i in d && (c[g[i]] = d[i])
        }
        while (f[0] === "*") {
            f.shift(), h === b && (h = a.mimeType || c.getResponseHeader("content-type"))
        }
        if (h) {
            for (i in e) {
                if (e[i] && e[i].test(h)) {
                    f.unshift(i);
                    break
                }
            }
        }
        if (f[0] in d) {
            j = f[0]
        } else {
            for (i in d) {
                if (!f[0] || a.converters[i + " " + f[0]]) {
                    j = i;
                    break
                }
                k || (k = i)
            }
            j = j || k
        }
        if (j) {
            j !== f[0] && f.unshift(j);
            return d[j]
        }
    }

    function b_(a, b, c, d) {
        if (f.isArray(b)) {
            f.each(b, function (b, e) {
                c || bD.test(a) ? d(a, e) : b_(a + "[" + (typeof e == "object" ? b : "") + "]", e, c, d)
            })
        } else {
            if (!c && f.type(b) === "object") {
                for (var e in b) {
                    b_(a + "[" + e + "]", b[e], c, d)
                }
            } else {
                d(a, b)
            }
        }
    }

    function b$(a, c) {
        var d, e, g = f.ajaxSettings.flatOptions || {};
        for (d in c) {
            c[d] !== b && ((g[d] ? a : e || (e = {}))[d] = c[d])
        }
        e && f.extend(!0, a, e)
    }

    function bZ(a, c, d, e, f, g) {
        f = f || c.dataTypes[0], g = g || {}, g[f] = !0;
        var h = a[f],
            i = 0,
            j = h ? h.length : 0,
            k = a === bS,
            l;
        for (; i < j && (k || !l); i++) {
            l = h[i](c, d, e), typeof l == "string" && (!k || g[l] ? l = b : (c.dataTypes.unshift(l), l = bZ(a, c, d, e, l, g)))
        }(k || !l) && !g["*"] && (l = bZ(a, c, d, e, "*", g));
        return l
    }

    function bY(a) {
        return function (b, c) {
            typeof b != "string" && (c = b, b = "*");
            if (f.isFunction(c)) {
                var d = b.toLowerCase()
                    .split(bO),
                    e = 0,
                    g = d.length,
                    h, i, j;
                for (; e < g; e++) {
                    h = d[e], j = /^\+/.test(h), j && (h = h.substr(1) || "*"), i = a[h] = a[h] || [], i[j ? "unshift" : "push"](c)
                }
            }
        }
    }

    function bB(a, b, c) {
        var d = b === "width" ? a.offsetWidth : a.offsetHeight,
            e = b === "width" ? 1 : 0,
            g = 4;
        if (d > 0) {
            if (c !== "border") {
                for (; e < g; e += 2) {
                    c || (d -= parseFloat(f.css(a, "padding" + bx[e])) || 0), c === "margin" ? d += parseFloat(f.css(a, c + bx[e])) || 0 : d -=
                        parseFloat(f.css(a, "border" + bx[e] + "Width")) || 0
                }
            }
            return d + "px"
        }
        d = by(a, b);
        if (d < 0 || d == null) {
            d = a.style[b]
        }
        if (bt.test(d)) {
            return d
        }
        d = parseFloat(d) || 0;
        if (c) {
            for (; e < g; e += 2) {
                d += parseFloat(f.css(a, "padding" + bx[e])) || 0, c !== "padding" && (d += parseFloat(f.css(a, "border" + bx[e] + "Width")) || 0), c ===
                    "margin" && (d += parseFloat(f.css(a, c + bx[e])) || 0)
            }
        }
        return d + "px"
    }

    function bo(a) {
        var b = c.createElement("div");
        bh.appendChild(b), b.innerHTML = a.outerHTML;
        return b.firstChild
    }

    function bn(a) {
        var b = (a.nodeName || "")
            .toLowerCase();
        b === "input" ? bm(a) : b !== "script" && typeof a.getElementsByTagName != "undefined" && f.grep(a.getElementsByTagName("input"), bm)
    }

    function bm(a) {
        if (a.type === "checkbox" || a.type === "radio") {
            a.defaultChecked = a.checked
        }
    }

    function bl(a) {
        return typeof a.getElementsByTagName != "undefined" ? a.getElementsByTagName("*") : typeof a.querySelectorAll != "undefined" ? a.querySelectorAll(
            "*") : []
    }

    function bk(a, b) {
        var c;
        b.nodeType === 1 && (b.clearAttributes && b.clearAttributes(), b.mergeAttributes && b.mergeAttributes(a), c = b.nodeName.toLowerCase(), c ===
            "object" ? b.outerHTML = a.outerHTML : c !== "input" || a.type !== "checkbox" && a.type !== "radio" ? c === "option" ? b.selected = a.defaultSelected :
            c === "input" || c === "textarea" ? b.defaultValue = a.defaultValue : c === "script" && b.text !== a.text && (b.text = a.text) : (a.checked &&
                (b.defaultChecked = b.checked = a.checked), b.value !== a.value && (b.value = a.value)), b.removeAttribute(f.expando), b.removeAttribute(
                "_submit_attached"), b.removeAttribute("_change_attached"))
    }

    function bj(a, b) {
        if (b.nodeType === 1 && !!f.hasData(a)) {
            var c, d, e, g = f._data(a),
                h = f._data(b, g),
                i = g.events;
            if (i) {
                delete h.handle, h.events = {};
                for (c in i) {
                    for (d = 0, e = i[c].length; d < e; d++) {
                        f.event.add(b, c, i[c][d])
                    }
                }
            }
            h.data && (h.data = f.extend({}, h.data))
        }
    }

    function bi(a, b) {
        return f.nodeName(a, "table") ? a.getElementsByTagName("tbody")[0] || a.appendChild(a.ownerDocument.createElement("tbody")) : a
    }

    function U(a) {
        var b = V.split("|"),
            c = a.createDocumentFragment();
        if (c.createElement) {
            while (b.length) {
                c.createElement(b.pop())
            }
        }
        return c
    }

    function T(a, b, c) {
        b = b || 0;
        if (f.isFunction(b)) {
            return f.grep(a, function (a, d) {
                var e = !!b.call(a, d, a);
                return e === c
            })
        }
        if (b.nodeType) {
            return f.grep(a, function (a, d) {
                return a === b === c
            })
        }
        if (typeof b == "string") {
            var d = f.grep(a, function (a) {
                return a.nodeType === 1
            });
            if (O.test(b)) {
                return f.filter(b, d, !c)
            }
            b = f.filter(b, d)
        }
        return f.grep(a, function (a, d) {
            return f.inArray(a, b) >= 0 === c
        })
    }

    function S(a) {
        return !a || !a.parentNode || a.parentNode.nodeType === 11
    }

    function K() {
        return !0
    }

    function J() {
        return !1
    }

    function n(a, b, c) {
        var d = b + "defer",
            e = b + "queue",
            g = b + "mark",
            h = f._data(a, d);
        h && (c === "queue" || !f._data(a, e)) && (c === "mark" || !f._data(a, g)) && setTimeout(function () {
            !f._data(a, e) && !f._data(a, g) && (f.removeData(a, d, !0), h.fire())
        }, 0)
    }

    function m(a) {
        for (var b in a) {
            if (b === "data" && f.isEmptyObject(a[b])) {
                continue
            }
            if (b !== "toJSON") {
                return !1
            }
        }
        return !0
    }

    function l(a, c, d) {
        if (d === b && a.nodeType === 1) {
            var e = "data-" + c.replace(k, "-$1")
                .toLowerCase();
            d = a.getAttribute(e);
            if (typeof d == "string") {
                try {
                    d = d === "true" ? !0 : d === "false" ? !1 : d === "null" ? null : f.isNumeric(d) ? +d : j.test(d) ? f.parseJSON(d) : d
                } catch (g) {}
                f.data(a, c, d)
            } else {
                d = b
            }
        }
        return d
    }

    function h(a) {
        var b = g[a] = {},
            c, d;
        a = a.split(/\s+/);
        for (c = 0, d = a.length; c < d; c++) {
            b[a[c]] = !0
        }
        return b
    }
    var c = a.document,
        d = a.navigator,
        e = a.location,
        f = function () {
            function J() {
                if (!e.isReady) {
                    try {
                        c.documentElement.doScroll("left")
                    } catch (a) {
                        setTimeout(J, 1);
                        return
                    }
                    e.ready()
                }
            }
            var e = function (a, b) {
                    return new e.fn.init(a, b, h)
                },
                f = a.jQuery,
                g = a.$,
                h, i = /^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,
                j = /\S/,
                k = /^\s+/,
                l = /\s+$/,
                m = /^<(\w+)\s*\/?>(?:<\/\1>)?$/,
                n = /^[\],:{}\s]*$/,
                o = /\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,
                p = /"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
                q = /(?:^|:|,)(?:\s*\[)+/g,
                r = /(webkit)[ \/]([\w.]+)/,
                s = /(opera)(?:.*version)?[ \/]([\w.]+)/,
                t = /(msie) ([\w.]+)/,
                u = /(mozilla)(?:.*? rv:([\w.]+))?/,
                v = /-([a-z]|[0-9])/ig,
                w = /^-ms-/,
                x = function (a, b) {
                    return (b + "")
                        .toUpperCase()
                },
                y = d.userAgent,
                z, A, B, C = Object.prototype.toString,
                D = Object.prototype.hasOwnProperty,
                E = Array.prototype.push,
                F = Array.prototype.slice,
                G = String.prototype.trim,
                H = Array.prototype.indexOf,
                I = {};
            e.fn = e.prototype = {
                    constructor: e,
                    init: function (a, d, f) {
                        var g, h, j, k;
                        if (!a) {
                            return this
                        }
                        if (a.nodeType) {
                            this.context = this[0] = a, this.length = 1;
                            return this
                        }
                        if (a === "body" && !d && c.body) {
                            this.context = c, this[0] = c.body, this.selector = a, this.length = 1;
                            return this
                        }
                        if (typeof a == "string") {
                            a.charAt(0) !== "<" || a.charAt(a.length - 1) !== ">" || a.length < 3 ? g = i.exec(a) : g = [null, a, null];
                            if (g && (g[1] || !d)) {
                                if (g[1]) {
                                    d = d instanceof e ? d[0] : d, k = d ? d.ownerDocument || d : c, j = m.exec(a), j ? e.isPlainObject(d) ? (a = [c.createElement(
                                        j[1])], e.fn.attr.call(a, d, !0)) : a = [k.createElement(j[1])] : (j = e.buildFragment([g[1]], [k]), a = (j
                                            .cacheable ? e.clone(j.fragment) : j.fragment)
                                        .childNodes);
                                    return e.merge(this, a)
                                }
                                h = c.getElementById(g[2]);
                                if (h && h.parentNode) {
                                    if (h.id !== g[2]) {
                                        return f.find(a)
                                    }
                                    this.length = 1, this[0] = h
                                }
                                this.context = c, this.selector = a;
                                return this
                            }
                            return !d || d.jquery ? (d || f)
                                .find(a) : this.constructor(d)
                                .find(a)
                        }
                        if (e.isFunction(a)) {
                            return f.ready(a)
                        }
                        a.selector !== b && (this.selector = a.selector, this.context = a.context);
                        return e.makeArray(a, this)
                    },
                    selector: "",
                    jquery: "1.7.2",
                    length: 0,
                    size: function () {
                        return this.length
                    },
                    toArray: function () {
                        return F.call(this, 0)
                    },
                    get: function (a) {
                        return a == null ? this.toArray() : a < 0 ? this[this.length + a] : this[a]
                    },
                    pushStack: function (a, b, c) {
                        var d = this.constructor();
                        e.isArray(a) ? E.apply(d, a) : e.merge(d, a), d.prevObject = this, d.context = this.context, b === "find" ? d.selector = this.selector +
                            (this.selector ? " " : "") + c : b && (d.selector = this.selector + "." + b + "(" + c + ")");
                        return d
                    },
                    each: function (a, b) {
                        return e.each(this, a, b)
                    },
                    ready: function (a) {
                        e.bindReady(), A.add(a);
                        return this
                    },
                    eq: function (a) {
                        a = +a;
                        return a === -1 ? this.slice(a) : this.slice(a, a + 1)
                    },
                    first: function () {
                        return this.eq(0)
                    },
                    last: function () {
                        return this.eq(-1)
                    },
                    slice: function () {
                        return this.pushStack(F.apply(this, arguments), "slice", F.call(arguments)
                            .join(","))
                    },
                    map: function (a) {
                        return this.pushStack(e.map(this, function (b, c) {
                            return a.call(b, c, b)
                        }))
                    },
                    end: function () {
                        return this.prevObject || this.constructor(null)
                    },
                    push: E,
                    sort: [].sort,
                    splice: [].splice
                }, e.fn.init.prototype = e.fn, e.extend = e.fn.extend = function () {
                    var a, c, d, f, g, h, i = arguments[0] || {},
                        j = 1,
                        k = arguments.length,
                        l = !1;
                    typeof i == "boolean" && (l = i, i = arguments[1] || {}, j = 2), typeof i != "object" && !e.isFunction(i) && (i = {}), k === j && (i =
                        this, --j);
                    for (; j < k; j++) {
                        if ((a = arguments[j]) != null) {
                            for (c in a) {
                                d = i[c], f = a[c];
                                if (i === f) {
                                    continue
                                }
                                l && f && (e.isPlainObject(f) || (g = e.isArray(f))) ? (g ? (g = !1, h = d && e.isArray(d) ? d : []) : h = d && e.isPlainObject(
                                    d) ? d : {}, i[c] = e.extend(l, h, f)) : f !== b && (i[c] = f)
                            }
                        }
                    }
                    return i
                }, e.extend({
                    noConflict: function (b) {
                        a.$ === e && (a.$ = g), b && a.jQuery === e && (a.jQuery = f);
                        return e
                    },
                    isReady: !1,
                    readyWait: 1,
                    holdReady: function (a) {
                        a ? e.readyWait++ : e.ready(!0)
                    },
                    ready: function (a) {
                        if (a === !0 && !--e.readyWait || a !== !0 && !e.isReady) {
                            if (!c.body) {
                                return setTimeout(e.ready, 1)
                            }
                            e.isReady = !0;
                            if (a !== !0 && --e.readyWait > 0) {
                                return
                            }
                            A.fireWith(c, [e]), e.fn.trigger && e(c)
                                .trigger("ready")
                                .off("ready")
                        }
                    },
                    bindReady: function () {
                        if (!A) {
                            A = e.Callbacks("once memory");
                            if (c.readyState === "complete") {
                                return setTimeout(e.ready, 1)
                            }
                            if (c.addEventListener) {
                                c.addEventListener("DOMContentLoaded", B, !1), a.addEventListener("load", e.ready, !1)
                            } else {
                                if (c.attachEvent) {
                                    c.attachEvent("onreadystatechange", B), a.attachEvent("onload", e.ready);
                                    var b = !1;
                                    try {
                                        b = a.frameElement == null
                                    } catch (d) {}
                                    c.documentElement.doScroll && b && J()
                                }
                            }
                        }
                    },
                    isFunction: function (a) {
                        return e.type(a) === "function"
                    },
                    isArray: Array.isArray || function (a) {
                        return e.type(a) === "array"
                    },
                    isWindow: function (a) {
                        return a != null && a == a.window
                    },
                    isNumeric: function (a) {
                        return !isNaN(parseFloat(a)) && isFinite(a)
                    },
                    type: function (a) {
                        return a == null ? String(a) : I[C.call(a)] || "object"
                    },
                    isPlainObject: function (a) {
                        if (!a || e.type(a) !== "object" || a.nodeType || e.isWindow(a)) {
                            return !1
                        }
                        try {
                            if (a.constructor && !D.call(a, "constructor") && !D.call(a.constructor.prototype, "isPrototypeOf")) {
                                return !1
                            }
                        } catch (c) {
                            return !1
                        }
                        var d;
                        for (d in a) {}
                        return d === b || D.call(a, d)
                    },
                    isEmptyObject: function (a) {
                        for (var b in a) {
                            return !1
                        }
                        return !0
                    },
                    error: function (a) {
                        throw new Error(a)
                    },
                    parseJSON: function (b) {
                        if (typeof b != "string" || !b) {
                            return null
                        }
                        b = e.trim(b);
                        if (a.JSON && a.JSON.parse) {
                            return a.JSON.parse(b)
                        }
                        if (n.test(b.replace(o, "@")
                                .replace(p, "]")
                                .replace(q, ""))) {
                            return (new Function("return " + b))()
                        }
                        e.error("Invalid JSON: " + b)
                    },
                    parseXML: function (c) {
                        if (typeof c != "string" || !c) {
                            return null
                        }
                        var d, f;
                        try {
                            a.DOMParser ? (f = new DOMParser, d = f.parseFromString(c, "text/xml")) : (d = new ActiveXObject("Microsoft.XMLDOM"), d
                                .async = "false", d.loadXML(c))
                        } catch (g) {
                            d = b
                        }(!d || !d.documentElement || d.getElementsByTagName("parsererror")
                            .length) && e.error("Invalid XML: " + c);
                        return d
                    },
                    noop: function () {},
                    globalEval: function (b) {
                        b && j.test(b) && (a.execScript || function (b) {
                            a.eval.call(a, b)
                        })(b)
                    },
                    camelCase: function (a) {
                        return a.replace(w, "ms-")
                            .replace(v, x)
                    },
                    nodeName: function (a, b) {
                        return a.nodeName && a.nodeName.toUpperCase() === b.toUpperCase()
                    },
                    each: function (a, c, d) {
                        var f, g = 0,
                            h = a.length,
                            i = h === b || e.isFunction(a);
                        if (d) {
                            if (i) {
                                for (f in a) {
                                    if (c.apply(a[f], d) === !1) {
                                        break
                                    }
                                }
                            } else {
                                for (; g < h;) {
                                    if (c.apply(a[g++], d) === !1) {
                                        break
                                    }
                                }
                            }
                        } else {
                            if (i) {
                                for (f in a) {
                                    if (c.call(a[f], f, a[f]) === !1) {
                                        break
                                    }
                                }
                            } else {
                                for (; g < h;) {
                                    if (c.call(a[g], g, a[g++]) === !1) {
                                        break
                                    }
                                }
                            }
                        }
                        return a
                    },
                    trim: G ? function (a) {
                        return a == null ? "" : G.call(a)
                    } : function (a) {
                        return a == null ? "" : (a + "")
                            .replace(k, "")
                            .replace(l, "")
                    },
                    makeArray: function (a, b) {
                        var c = b || [];
                        if (a != null) {
                            var d = e.type(a);
                            a.length == null || d === "string" || d === "function" || d === "regexp" || e.isWindow(a) ? E.call(c, a) : e.merge(c, a)
                        }
                        return c
                    },
                    inArray: function (a, b, c) {
                        var d;
                        if (b) {
                            if (H) {
                                return H.call(b, a, c)
                            }
                            d = b.length, c = c ? c < 0 ? Math.max(0, d + c) : c : 0;
                            for (; c < d; c++) {
                                if (c in b && b[c] === a) {
                                    return c
                                }
                            }
                        }
                        return -1
                    },
                    merge: function (a, c) {
                        var d = a.length,
                            e = 0;
                        if (typeof c.length == "number") {
                            for (var f = c.length; e < f; e++) {
                                a[d++] = c[e]
                            }
                        } else {
                            while (c[e] !== b) {
                                a[d++] = c[e++]
                            }
                        }
                        a.length = d;
                        return a
                    },
                    grep: function (a, b, c) {
                        var d = [],
                            e;
                        c = !!c;
                        for (var f = 0, g = a.length; f < g; f++) {
                            e = !!b(a[f], f), c !== e && d.push(a[f])
                        }
                        return d
                    },
                    map: function (a, c, d) {
                        var f, g, h = [],
                            i = 0,
                            j = a.length,
                            k = a instanceof e || j !== b && typeof j == "number" && (j > 0 && a[0] && a[j - 1] || j === 0 || e.isArray(a));
                        if (k) {
                            for (; i < j; i++) {
                                f = c(a[i], i, d), f != null && (h[h.length] = f)
                            }
                        } else {
                            for (g in a) {
                                f = c(a[g], g, d), f != null && (h[h.length] = f)
                            }
                        }
                        return h.concat.apply([], h)
                    },
                    guid: 1,
                    proxy: function (a, c) {
                        if (typeof c == "string") {
                            var d = a[c];
                            c = a, a = d
                        }
                        if (!e.isFunction(a)) {
                            return b
                        }
                        var f = F.call(arguments, 2),
                            g = function () {
                                return a.apply(c, f.concat(F.call(arguments)))
                            };
                        g.guid = a.guid = a.guid || g.guid || e.guid++;
                        return g
                    },
                    access: function (a, c, d, f, g, h, i) {
                        var j, k = d == null,
                            l = 0,
                            m = a.length;
                        if (d && typeof d == "object") {
                            for (l in d) {
                                e.access(a, c, l, d[l], 1, h, f)
                            }
                            g = 1
                        } else {
                            if (f !== b) {
                                j = i === b && e.isFunction(f), k && (j ? (j = c, c = function (a, b, c) {
                                    return j.call(e(a), c)
                                }) : (c.call(a, f), c = null));
                                if (c) {
                                    for (; l < m; l++) {
                                        c(a[l], d, j ? f.call(a[l], l, c(a[l], d)) : f, i)
                                    }
                                }
                                g = 1
                            }
                        }
                        return g ? a : k ? c.call(a) : m ? c(a[0], d) : h
                    },
                    now: function () {
                        return (new Date)
                            .getTime()
                    },
                    uaMatch: function (a) {
                        a = a.toLowerCase();
                        var b = r.exec(a) || s.exec(a) || t.exec(a) || a.indexOf("compatible") < 0 && u.exec(a) || [];
                        return {
                            browser: b[1] || "",
                            version: b[2] || "0"
                        }
                    },
                    sub: function () {
                        function a(b, c) {
                            return new a.fn.init(b, c)
                        }
                        e.extend(!0, a, this), a.superclass = this, a.fn = a.prototype = this(), a.fn.constructor = a, a.sub = this.sub, a.fn.init =
                            function (d, f) {
                                f && f instanceof e && !(f instanceof a) && (f = a(f));
                                return e.fn.init.call(this, d, f, b)
                            }, a.fn.init.prototype = a.fn;
                        var b = a(c);
                        return a
                    },
                    browser: {}
                }), e.each("Boolean Number String Function Array Date RegExp Object".split(" "), function (a, b) {
                    I["[object " + b + "]"] = b.toLowerCase()
                }), z = e.uaMatch(y), z.browser && (e.browser[z.browser] = !0, e.browser.version = z.version), e.browser.webkit && (e.browser.safari = !0),
                j.test(" ") && (k = /^[\s\xA0]+/, l = /[\s\xA0]+$/), h = e(c), c.addEventListener ? B = function () {
                    c.removeEventListener("DOMContentLoaded", B, !1), e.ready()
                } : c.attachEvent && (B = function () {
                    c.readyState === "complete" && (c.detachEvent("onreadystatechange", B), e.ready())
                });
            return e
        }(),
        g = {};
    f.Callbacks = function (a) {
        a = a ? g[a] || h(a) : {};
        var c = [],
            d = [],
            e, i, j, k, l, m, n = function (b) {
                var d, e, g, h, i;
                for (d = 0, e = b.length; d < e; d++) {
                    g = b[d], h = f.type(g), h === "array" ? n(g) : h === "function" && (!a.unique || !p.has(g)) && c.push(g)
                }
            },
            o = function (b, f) {
                f = f || [], e = !a.memory || [b, f], i = !0, j = !0, m = k || 0, k = 0, l = c.length;
                for (; c && m < l; m++) {
                    if (c[m].apply(b, f) === !1 && a.stopOnFalse) {
                        e = !0;
                        break
                    }
                }
                j = !1, c && (a.once ? e === !0 ? p.disable() : c = [] : d && d.length && (e = d.shift(), p.fireWith(e[0], e[1])))
            },
            p = {
                add: function () {
                    if (c) {
                        var a = c.length;
                        n(arguments), j ? l = c.length : e && e !== !0 && (k = a, o(e[0], e[1]))
                    }
                    return this
                },
                remove: function () {
                    if (c) {
                        var b = arguments,
                            d = 0,
                            e = b.length;
                        for (; d < e; d++) {
                            for (var f = 0; f < c.length; f++) {
                                if (b[d] === c[f]) {
                                    j && f <= l && (l--, f <= m && m--), c.splice(f--, 1);
                                    if (a.unique) {
                                        break
                                    }
                                }
                            }
                        }
                    }
                    return this
                },
                has: function (a) {
                    if (c) {
                        var b = 0,
                            d = c.length;
                        for (; b < d; b++) {
                            if (a === c[b]) {
                                return !0
                            }
                        }
                    }
                    return !1
                },
                empty: function () {
                    c = [];
                    return this
                },
                disable: function () {
                    c = d = e = b;
                    return this
                },
                disabled: function () {
                    return !c
                },
                lock: function () {
                    d = b, (!e || e === !0) && p.disable();
                    return this
                },
                locked: function () {
                    return !d
                },
                fireWith: function (b, c) {
                    d && (j ? a.once || d.push([b, c]) : (!a.once || !e) && o(b, c));
                    return this
                },
                fire: function () {
                    p.fireWith(this, arguments);
                    return this
                },
                fired: function () {
                    return !!i
                }
            };
        return p
    };
    var i = [].slice;
    f.extend({
        Deferred: function (a) {
            var b = f.Callbacks("once memory"),
                c = f.Callbacks("once memory"),
                d = f.Callbacks("memory"),
                e = "pending",
                g = {
                    resolve: b,
                    reject: c,
                    notify: d
                },
                h = {
                    done: b.add,
                    fail: c.add,
                    progress: d.add,
                    state: function () {
                        return e
                    },
                    isResolved: b.fired,
                    isRejected: c.fired,
                    then: function (a, b, c) {
                        i.done(a)
                            .fail(b)
                            .progress(c);
                        return this
                    },
                    always: function () {
                        i.done.apply(i, arguments)
                            .fail.apply(i, arguments);
                        return this
                    },
                    pipe: function (a, b, c) {
                        return f.Deferred(function (d) {
                                f.each({
                                    done: [a, "resolve"],
                                    fail: [b, "reject"],
                                    progress: [c, "notify"]
                                }, function (a, b) {
                                    var c = b[0],
                                        e = b[1],
                                        g;
                                    f.isFunction(c) ? i[a](function () {
                                        g = c.apply(this, arguments), g && f.isFunction(g.promise) ? g.promise()
                                            .then(d.resolve, d.reject, d.notify) : d[e + "With"](this === i ? d : this, [
                                                g])
                                    }) : i[a](d[e])
                                })
                            })
                            .promise()
                    },
                    promise: function (a) {
                        if (a == null) {
                            a = h
                        } else {
                            for (var b in h) {
                                a[b] = h[b]
                            }
                        }
                        return a
                    }
                },
                i = h.promise({}),
                j;
            for (j in g) {
                i[j] = g[j].fire, i[j + "With"] = g[j].fireWith
            }
            i.done(function () {
                    e = "resolved"
                }, c.disable, d.lock)
                .fail(function () {
                    e = "rejected"
                }, b.disable, d.lock), a && a.call(i, i);
            return i
        },
        when: function (a) {
            function m(a) {
                return function (b) {
                    e[a] = arguments.length > 1 ? i.call(arguments, 0) : b, j.notifyWith(k, e)
                }
            }

            function l(a) {
                return function (c) {
                    b[a] = arguments.length > 1 ? i.call(arguments, 0) : c, --g || j.resolveWith(j, b)
                }
            }
            var b = i.call(arguments, 0),
                c = 0,
                d = b.length,
                e = Array(d),
                g = d,
                h = d,
                j = d <= 1 && a && f.isFunction(a.promise) ? a : f.Deferred(),
                k = j.promise();
            if (d > 1) {
                for (; c < d; c++) {
                    b[c] && b[c].promise && f.isFunction(b[c].promise) ? b[c].promise()
                        .then(l(c), j.reject, m(c)) : --g
                }
                g || j.resolveWith(j, b)
            } else {
                j !== a && j.resolveWith(j, d ? [a] : [])
            }
            return k
        }
    }), f.support = function () {
        var b, d, e, g, h, i, j, k, l, m, n, o, p = c.createElement("div"),
            q = c.documentElement;
        p.setAttribute("className", "t"), p.innerHTML =
            "   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>", d = p.getElementsByTagName(
                "*"), e = p.getElementsByTagName("a")[0];
        if (!d || !d.length || !e) {
            return {}
        }
        g = c.createElement("select"), h = g.appendChild(c.createElement("option")), i = p.getElementsByTagName("input")[0], b = {
                leadingWhitespace: p.firstChild.nodeType === 3,
                tbody: !p.getElementsByTagName("tbody")
                    .length,
                htmlSerialize: !!p.getElementsByTagName("link")
                    .length,
                style: /top/.test(e.getAttribute("style")),
                hrefNormalized: e.getAttribute("href") === "/a",
                opacity: /^0.55/.test(e.style.opacity),
                cssFloat: !!e.style.cssFloat,
                checkOn: i.value === "on",
                optSelected: h.selected,
                getSetAttribute: p.className !== "t",
                enctype: !!c.createElement("form")
                    .enctype,
                html5Clone: c.createElement("nav")
                    .cloneNode(!0)
                    .outerHTML !== "<:nav></:nav>",
                submitBubbles: !0,
                changeBubbles: !0,
                focusinBubbles: !1,
                deleteExpando: !0,
                noCloneEvent: !0,
                inlineBlockNeedsLayout: !1,
                shrinkWrapBlocks: !1,
                reliableMarginRight: !0,
                pixelMargin: !0
            }, f.boxModel = b.boxModel = c.compatMode === "CSS1Compat", i.checked = !0, b.noCloneChecked = i.cloneNode(!0)
            .checked, g.disabled = !0, b.optDisabled = !h.disabled;
        try {
            delete p.test
        } catch (r) {
            b.deleteExpando = !1
        }!p.addEventListener && p.attachEvent && p.fireEvent && (p.attachEvent("onclick", function () {
                    b.noCloneEvent = !1
                }), p.cloneNode(!0)
                .fireEvent("onclick")), i = c.createElement("input"), i.value = "t", i.setAttribute("type", "radio"), b.radioValue = i.value === "t", i
            .setAttribute("checked", "checked"), i.setAttribute("name", "t"), p.appendChild(i), j = c.createDocumentFragment(), j.appendChild(p.lastChild),
            b.checkClone = j.cloneNode(!0)
            .cloneNode(!0)
            .lastChild.checked, b.appendChecked = i.checked, j.removeChild(i), j.appendChild(p);
        if (p.attachEvent) {
            for (n in {
                    submit: 1,
                    change: 1,
                    focusin: 1
                }) {
                m = "on" + n, o = m in p, o || (p.setAttribute(m, "return;"), o = typeof p[m] == "function"), b[n + "Bubbles"] = o
            }
        }
        j.removeChild(p), j = g = h = p = i = null, f(function () {
            var d, e, g, h, i, j, l, m, n, q, r, s, t, u = c.getElementsByTagName("body")[0];
            !u || (m = 1, t = "padding:0;margin:0;border:", r = "position:absolute;top:0;left:0;width:1px;height:1px;", s = t +
                "0;visibility:hidden;", n = "style='" + r + t + "5px solid #000;", q = "<div " + n + "display:block;'><div style='" + t +
                "0;display:block;overflow:hidden;'></div></div><table " + n +
                "' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>", d = c.createElement("div"), d.style.cssText = s +
                "width:0;height:0;position:static;top:0;margin-top:" + m + "px", u.insertBefore(d, u.firstChild), p = c.createElement("div"),
                d.appendChild(p), p.innerHTML = "<table><tr><td style='" + t + "0;display:none'></td><td>t</td></tr></table>", k = p.getElementsByTagName(
                    "td"), o = k[0].offsetHeight === 0, k[0].style.display = "", k[1].style.display = "none", b.reliableHiddenOffsets = o &&
                k[0].offsetHeight === 0, a.getComputedStyle && (p.innerHTML = "", l = c.createElement("div"), l.style.width = "0", l.style.marginRight =
                    "0", p.style.width = "2px", p.appendChild(l), b.reliableMarginRight = (parseInt((a.getComputedStyle(l, null) || {
                            marginRight: 0
                        })
                        .marginRight, 10) || 0) === 0), typeof p.style.zoom != "undefined" && (p.innerHTML = "", p.style.width = p.style.padding =
                    "1px", p.style.border = 0, p.style.overflow = "hidden", p.style.display = "inline", p.style.zoom = 1, b.inlineBlockNeedsLayout =
                    p.offsetWidth === 3, p.style.display = "block", p.style.overflow = "visible", p.innerHTML =
                    "<div style='width:5px;'></div>", b.shrinkWrapBlocks = p.offsetWidth !== 3), p.style.cssText = r + s, p.innerHTML = q,
                e = p.firstChild, g = e.firstChild, i = e.nextSibling.firstChild.firstChild, j = {
                    doesNotAddBorder: g.offsetTop !== 5,
                    doesAddBorderForTableAndCells: i.offsetTop === 5
                }, g.style.position = "fixed", g.style.top = "20px", j.fixedPosition = g.offsetTop === 20 || g.offsetTop === 15, g.style.position =
                g.style.top = "", e.style.overflow = "hidden", e.style.position = "relative", j.subtractsBorderForOverflowNotVisible = g.offsetTop ===
                -5, j.doesNotIncludeMarginInBodyOffset = u.offsetTop !== m, a.getComputedStyle && (p.style.marginTop = "1%", b.pixelMargin =
                    (a.getComputedStyle(p, null) || {
                        marginTop: 0
                    })
                    .marginTop !== "1%"), typeof d.style.zoom != "undefined" && (d.style.zoom = 1), u.removeChild(d), l = p = d = null, f.extend(
                    b, j))
        });
        return b
    }();
    var j = /^(?:\{.*\}|\[.*\])$/,
        k = /([A-Z])/g;
    f.extend({
        cache: {},
        uuid: 0,
        expando: "jQuery" + (f.fn.jquery + Math.random())
            .replace(/\D/g, ""),
        noData: {
            embed: !0,
            object: "clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",
            applet: !0
        },
        hasData: function (a) {
            a = a.nodeType ? f.cache[a[f.expando]] : a[f.expando];
            return !!a && !m(a)
        },
        data: function (a, c, d, e) {
            if (!!f.acceptData(a)) {
                var g, h, i, j = f.expando,
                    k = typeof c == "string",
                    l = a.nodeType,
                    m = l ? f.cache : a,
                    n = l ? a[j] : a[j] && j,
                    o = c === "events";
                if ((!n || !m[n] || !o && !e && !m[n].data) && k && d === b) {
                    return
                }
                n || (l ? a[j] = n = ++f.uuid : n = j), m[n] || (m[n] = {}, l || (m[n].toJSON = f.noop));
                if (typeof c == "object" || typeof c == "function") {
                    e ? m[n] = f.extend(m[n], c) : m[n].data = f.extend(m[n].data, c)
                }
                g = h = m[n], e || (h.data || (h.data = {}), h = h.data), d !== b && (h[f.camelCase(c)] = d);
                if (o && !h[c]) {
                    return g.events
                }
                k ? (i = h[c], i == null && (i = h[f.camelCase(c)])) : i = h;
                return i
            }
        },
        removeData: function (a, b, c) {
            if (!!f.acceptData(a)) {
                var d, e, g, h = f.expando,
                    i = a.nodeType,
                    j = i ? f.cache : a,
                    k = i ? a[h] : h;
                if (!j[k]) {
                    return
                }
                if (b) {
                    d = c ? j[k] : j[k].data;
                    if (d) {
                        f.isArray(b) || (b in d ? b = [b] : (b = f.camelCase(b), b in d ? b = [b] : b = b.split(" ")));
                        for (e = 0, g = b.length; e < g; e++) {
                            delete d[b[e]]
                        }
                        if (!(c ? m : f.isEmptyObject)(d)) {
                            return
                        }
                    }
                }
                if (!c) {
                    delete j[k].data;
                    if (!m(j[k])) {
                        return
                    }
                }
                f.support.deleteExpando || !j.setInterval ? delete j[k] : j[k] = null, i && (f.support.deleteExpando ? delete a[h] : a.removeAttribute ?
                    a.removeAttribute(h) : a[h] = null)
            }
        },
        _data: function (a, b, c) {
            return f.data(a, b, c, !0)
        },
        acceptData: function (a) {
            if (a.nodeName) {
                var b = f.noData[a.nodeName.toLowerCase()];
                if (b) {
                    return b !== !0 && a.getAttribute("classid") === b
                }
            }
            return !0
        }
    }), f.fn.extend({
        data: function (a, c) {
            var d, e, g, h, i, j = this[0],
                k = 0,
                m = null;
            if (a === b) {
                if (this.length) {
                    m = f.data(j);
                    if (j.nodeType === 1 && !f._data(j, "parsedAttrs")) {
                        g = j.attributes;
                        for (i = g.length; k < i; k++) {
                            h = g[k].name, h.indexOf("data-") === 0 && (h = f.camelCase(h.substring(5)), l(j, h, m[h]))
                        }
                        f._data(j, "parsedAttrs", !0)
                    }
                }
                return m
            }
            if (typeof a == "object") {
                return this.each(function () {
                    f.data(this, a)
                })
            }
            d = a.split(".", 2), d[1] = d[1] ? "." + d[1] : "", e = d[1] + "!";
            return f.access(this, function (c) {
                if (c === b) {
                    m = this.triggerHandler("getData" + e, [d[0]]), m === b && j && (m = f.data(j, a), m = l(j, a, m));
                    return m === b && d[1] ? this.data(d[0]) : m
                }
                d[1] = c, this.each(function () {
                    var b = f(this);
                    b.triggerHandler("setData" + e, d), f.data(this, a, c), b.triggerHandler("changeData" + e, d)
                })
            }, null, c, arguments.length > 1, null, !1)
        },
        removeData: function (a) {
            return this.each(function () {
                f.removeData(this, a)
            })
        }
    }), f.extend({
        _mark: function (a, b) {
            a && (b = (b || "fx") + "mark", f._data(a, b, (f._data(a, b) || 0) + 1))
        },
        _unmark: function (a, b, c) {
            a !== !0 && (c = b, b = a, a = !1);
            if (b) {
                c = c || "fx";
                var d = c + "mark",
                    e = a ? 0 : (f._data(b, d) || 1) - 1;
                e ? f._data(b, d, e) : (f.removeData(b, d, !0), n(b, c, "mark"))
            }
        },
        queue: function (a, b, c) {
            var d;
            if (a) {
                b = (b || "fx") + "queue", d = f._data(a, b), c && (!d || f.isArray(c) ? d = f._data(a, b, f.makeArray(c)) : d.push(c));
                return d || []
            }
        },
        dequeue: function (a, b) {
            b = b || "fx";
            var c = f.queue(a, b),
                d = c.shift(),
                e = {};
            d === "inprogress" && (d = c.shift()), d && (b === "fx" && c.unshift("inprogress"), f._data(a, b + ".run", e), d.call(a, function () {
                f.dequeue(a, b)
            }, e)), c.length || (f.removeData(a, b + "queue " + b + ".run", !0), n(a, b, "queue"))
        }
    }), f.fn.extend({
        queue: function (a, c) {
            var d = 2;
            typeof a != "string" && (c = a, a = "fx", d--);
            if (arguments.length < d) {
                return f.queue(this[0], a)
            }
            return c === b ? this : this.each(function () {
                var b = f.queue(this, a, c);
                a === "fx" && b[0] !== "inprogress" && f.dequeue(this, a)
            })
        },
        dequeue: function (a) {
            return this.each(function () {
                f.dequeue(this, a)
            })
        },
        delay: function (a, b) {
            a = f.fx ? f.fx.speeds[a] || a : a, b = b || "fx";
            return this.queue(b, function (b, c) {
                var d = setTimeout(b, a);
                c.stop = function () {
                    clearTimeout(d)
                }
            })
        },
        clearQueue: function (a) {
            return this.queue(a || "fx", [])
        },
        promise: function (a, c) {
            function m() {
                --h || d.resolveWith(e, [e])
            }
            typeof a != "string" && (c = a, a = b), a = a || "fx";
            var d = f.Deferred(),
                e = this,
                g = e.length,
                h = 1,
                i = a + "defer",
                j = a + "queue",
                k = a + "mark",
                l;
            while (g--) {
                if (l = f.data(e[g], i, b, !0) || (f.data(e[g], j, b, !0) || f.data(e[g], k, b, !0)) && f.data(e[g], i, f.Callbacks(
                        "once memory"), !0)) {
                    h++, l.add(m)
                }
            }
            m();
            return d.promise(c)
        }
    });
    var o = /[\n\t\r]/g,
        p = /\s+/,
        q = /\r/g,
        r = /^(?:button|input)$/i,
        s = /^(?:button|input|object|select|textarea)$/i,
        t = /^a(?:rea)?$/i,
        u = /^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,
        v = f.support.getSetAttribute,
        w, x, y;
    f.fn.extend({
        attr: function (a, b) {
            return f.access(this, f.attr, a, b, arguments.length > 1)
        },
        removeAttr: function (a) {
            return this.each(function () {
                f.removeAttr(this, a)
            })
        },
        prop: function (a, b) {
            return f.access(this, f.prop, a, b, arguments.length > 1)
        },
        removeProp: function (a) {
            a = f.propFix[a] || a;
            return this.each(function () {
                try {
                    this[a] = b, delete this[a]
                } catch (c) {}
            })
        },
        addClass: function (a) {
            var b, c, d, e, g, h, i;
            if (f.isFunction(a)) {
                return this.each(function (b) {
                    f(this)
                        .addClass(a.call(this, b, this.className))
                })
            }
            if (a && typeof a == "string") {
                b = a.split(p);
                for (c = 0, d = this.length; c < d; c++) {
                    e = this[c];
                    if (e.nodeType === 1) {
                        if (!e.className && b.length === 1) {
                            e.className = a
                        } else {
                            g = " " + e.className + " ";
                            for (h = 0, i = b.length; h < i; h++) {
                                ~g.indexOf(" " + b[h] + " ") || (g += b[h] + " ")
                            }
                            e.className = f.trim(g)
                        }
                    }
                }
            }
            return this
        },
        removeClass: function (a) {
            var c, d, e, g, h, i, j;
            if (f.isFunction(a)) {
                return this.each(function (b) {
                    f(this)
                        .removeClass(a.call(this, b, this.className))
                })
            }
            if (a && typeof a == "string" || a === b) {
                c = (a || "")
                    .split(p);
                for (d = 0, e = this.length; d < e; d++) {
                    g = this[d];
                    if (g.nodeType === 1 && g.className) {
                        if (a) {
                            h = (" " + g.className + " ")
                                .replace(o, " ");
                            for (i = 0, j = c.length; i < j; i++) {
                                h = h.replace(" " + c[i] + " ", " ")
                            }
                            g.className = f.trim(h)
                        } else {
                            g.className = ""
                        }
                    }
                }
            }
            return this
        },
        toggleClass: function (a, b) {
            var c = typeof a,
                d = typeof b == "boolean";
            if (f.isFunction(a)) {
                return this.each(function (c) {
                    f(this)
                        .toggleClass(a.call(this, c, this.className, b), b)
                })
            }
            return this.each(function () {
                if (c === "string") {
                    var e, g = 0,
                        h = f(this),
                        i = b,
                        j = a.split(p);
                    while (e = j[g++]) {
                        i = d ? i : !h.hasClass(e), h[i ? "addClass" : "removeClass"](e)
                    }
                } else {
                    if (c === "undefined" || c === "boolean") {
                        this.className && f._data(this, "__className__", this.className), this.className = this.className || a === !1 ?
                            "" : f._data(this, "__className__") || ""
                    }
                }
            })
        },
        hasClass: function (a) {
            var b = " " + a + " ",
                c = 0,
                d = this.length;
            for (; c < d; c++) {
                if (this[c].nodeType === 1 && (" " + this[c].className + " ")
                    .replace(o, " ")
                    .indexOf(b) > -1) {
                    return !0
                }
            }
            return !1
        },
        val: function (a) {
            var c, d, e, g = this[0];
            if (!!arguments.length) {
                e = f.isFunction(a);
                return this.each(function (d) {
                    var g = f(this),
                        h;
                    if (this.nodeType === 1) {
                        e ? h = a.call(this, d, g.val()) : h = a, h == null ? h = "" : typeof h == "number" ? h += "" : f.isArray(h) &&
                            (h = f.map(h, function (a) {
                                return a == null ? "" : a + ""
                            })), c = f.valHooks[this.type] || f.valHooks[this.nodeName.toLowerCase()];
                        if (!c || !("set" in c) || c.set(this, h, "value") === b) {
                            this.value = h
                        }
                    }
                })
            }
            if (g) {
                c = f.valHooks[g.type] || f.valHooks[g.nodeName.toLowerCase()];
                if (c && "get" in c && (d = c.get(g, "value")) !== b) {
                    return d
                }
                d = g.value;
                return typeof d == "string" ? d.replace(q, "") : d == null ? "" : d
            }
        }
    }), f.extend({
        valHooks: {
            option: {
                get: function (a) {
                    var b = a.attributes.value;
                    return !b || b.specified ? a.value : a.text
                }
            },
            select: {
                get: function (a) {
                    var b, c, d, e, g = a.selectedIndex,
                        h = [],
                        i = a.options,
                        j = a.type === "select-one";
                    if (g < 0) {
                        return null
                    }
                    c = j ? g : 0, d = j ? g + 1 : i.length;
                    for (; c < d; c++) {
                        e = i[c];
                        if (e.selected && (f.support.optDisabled ? !e.disabled : e.getAttribute("disabled") === null) && (!e.parentNode.disabled ||
                                !f.nodeName(e.parentNode, "optgroup"))) {
                            b = f(e)
                                .val();
                            if (j) {
                                return b
                            }
                            h.push(b)
                        }
                    }
                    if (j && !h.length && i.length) {
                        return f(i[g])
                            .val()
                    }
                    return h
                },
                set: function (a, b) {
                    var c = f.makeArray(b);
                    f(a)
                        .find("option")
                        .each(function () {
                            this.selected = f.inArray(f(this)
                                .val(), c) >= 0
                        }), c.length || (a.selectedIndex = -1);
                    return c
                }
            }
        },
        attrFn: {
            val: !0,
            css: !0,
            html: !0,
            text: !0,
            data: !0,
            width: !0,
            height: !0,
            offset: !0
        },
        attr: function (a, c, d, e) {
            var g, h, i, j = a.nodeType;
            if (!!a && j !== 3 && j !== 8 && j !== 2) {
                if (e && c in f.attrFn) {
                    return f(a)[c](d)
                }
                if (typeof a.getAttribute == "undefined") {
                    return f.prop(a, c, d)
                }
                i = j !== 1 || !f.isXMLDoc(a), i && (c = c.toLowerCase(), h = f.attrHooks[c] || (u.test(c) ? x : w));
                if (d !== b) {
                    if (d === null) {
                        f.removeAttr(a, c);
                        return
                    }
                    if (h && "set" in h && i && (g = h.set(a, d, c)) !== b) {
                        return g
                    }
                    a.setAttribute(c, "" + d);
                    return d
                }
                if (h && "get" in h && i && (g = h.get(a, c)) !== null) {
                    return g
                }
                g = a.getAttribute(c);
                return g === null ? b : g
            }
        },
        removeAttr: function (a, b) {
            var c, d, e, g, h, i = 0;
            if (b && a.nodeType === 1) {
                d = b.toLowerCase()
                    .split(p), g = d.length;
                for (; i < g; i++) {
                    e = d[i], e && (c = f.propFix[e] || e, h = u.test(e), h || f.attr(a, e, ""), a.removeAttribute(v ? e : c), h && c in a && (
                        a[c] = !1))
                }
            }
        },
        attrHooks: {
            type: {
                set: function (a, b) {
                    if (r.test(a.nodeName) && a.parentNode) {
                        f.error("type property can't be changed")
                    } else {
                        if (!f.support.radioValue && b === "radio" && f.nodeName(a, "input")) {
                            var c = a.value;
                            a.setAttribute("type", b), c && (a.value = c);
                            return b
                        }
                    }
                }
            },
            value: {
                get: function (a, b) {
                    if (w && f.nodeName(a, "button")) {
                        return w.get(a, b)
                    }
                    return b in a ? a.value : null
                },
                set: function (a, b, c) {
                    if (w && f.nodeName(a, "button")) {
                        return w.set(a, b, c)
                    }
                    a.value = b
                }
            }
        },
        propFix: {
            tabindex: "tabIndex",
            readonly: "readOnly",
            "for": "htmlFor",
            "class": "className",
            maxlength: "maxLength",
            cellspacing: "cellSpacing",
            cellpadding: "cellPadding",
            rowspan: "rowSpan",
            colspan: "colSpan",
            usemap: "useMap",
            frameborder: "frameBorder",
            contenteditable: "contentEditable"
        },
        prop: function (a, c, d) {
            var e, g, h, i = a.nodeType;
            if (!!a && i !== 3 && i !== 8 && i !== 2) {
                h = i !== 1 || !f.isXMLDoc(a), h && (c = f.propFix[c] || c, g = f.propHooks[c]);
                return d !== b ? g && "set" in g && (e = g.set(a, d, c)) !== b ? e : a[c] = d : g && "get" in g && (e = g.get(a, c)) !== null ?
                    e : a[c]
            }
        },
        propHooks: {
            tabIndex: {
                get: function (a) {
                    var c = a.getAttributeNode("tabindex");
                    return c && c.specified ? parseInt(c.value, 10) : s.test(a.nodeName) || t.test(a.nodeName) && a.href ? 0 : b
                }
            }
        }
    }), f.attrHooks.tabindex = f.propHooks.tabIndex, x = {
        get: function (a, c) {
            var d, e = f.prop(a, c);
            return e === !0 || typeof e != "boolean" && (d = a.getAttributeNode(c)) && d.nodeValue !== !1 ? c.toLowerCase() : b
        },
        set: function (a, b, c) {
            var d;
            b === !1 ? f.removeAttr(a, c) : (d = f.propFix[c] || c, d in a && (a[d] = !0), a.setAttribute(c, c.toLowerCase()));
            return c
        }
    }, v || (y = {
        name: !0,
        id: !0,
        coords: !0
    }, w = f.valHooks.button = {
        get: function (a, c) {
            var d;
            d = a.getAttributeNode(c);
            return d && (y[c] ? d.nodeValue !== "" : d.specified) ? d.nodeValue : b
        },
        set: function (a, b, d) {
            var e = a.getAttributeNode(d);
            e || (e = c.createAttribute(d), a.setAttributeNode(e));
            return e.nodeValue = b + ""
        }
    }, f.attrHooks.tabindex.set = w.set, f.each(["width", "height"], function (a, b) {
        f.attrHooks[b] = f.extend(f.attrHooks[b], {
            set: function (a, c) {
                if (c === "") {
                    a.setAttribute(b, "auto");
                    return c
                }
            }
        })
    }), f.attrHooks.contenteditable = {
        get: w.get,
        set: function (a, b, c) {
            b === "" && (b = "false"), w.set(a, b, c)
        }
    }), f.support.hrefNormalized || f.each(["href", "src", "width", "height"], function (a, c) {
        f.attrHooks[c] = f.extend(f.attrHooks[c], {
            get: function (a) {
                var d = a.getAttribute(c, 2);
                return d === null ? b : d
            }
        })
    }), f.support.style || (f.attrHooks.style = {
        get: function (a) {
            return a.style.cssText.toLowerCase() || b
        },
        set: function (a, b) {
            return a.style.cssText = "" + b
        }
    }), f.support.optSelected || (f.propHooks.selected = f.extend(f.propHooks.selected, {
        get: function (a) {
            var b = a.parentNode;
            b && (b.selectedIndex, b.parentNode && b.parentNode.selectedIndex);
            return null
        }
    })), f.support.enctype || (f.propFix.enctype = "encoding"), f.support.checkOn || f.each(["radio", "checkbox"], function () {
        f.valHooks[this] = {
            get: function (a) {
                return a.getAttribute("value") === null ? "on" : a.value
            }
        }
    }), f.each(["radio", "checkbox"], function () {
        f.valHooks[this] = f.extend(f.valHooks[this], {
            set: function (a, b) {
                if (f.isArray(b)) {
                    return a.checked = f.inArray(f(a)
                        .val(), b) >= 0
                }
            }
        })
    });
    var z = /^(?:textarea|input|select)$/i,
        A = /^([^\.]*)?(?:\.(.+))?$/,
        B = /(?:^|\s)hover(\.\S+)?\b/,
        C = /^key/,
        D = /^(?:mouse|contextmenu)|click/,
        E = /^(?:focusinfocus|focusoutblur)$/,
        F = /^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,
        G = function (a) {
            var b = F.exec(a);
            b && (b[1] = (b[1] || "")
                .toLowerCase(), b[3] = b[3] && new RegExp("(?:^|\\s)" + b[3] + "(?:\\s|$)"));
            return b
        },
        H = function (a, b) {
            var c = a.attributes || {};
            return (!b[1] || a.nodeName.toLowerCase() === b[1]) && (!b[2] || (c.id || {})
                .value === b[2]) && (!b[3] || b[3].test((c["class"] || {})
                .value))
        },
        I = function (a) {
            return f.event.special.hover ? a : a.replace(B, "mouseenter$1 mouseleave$1")
        };
    f.event = {
            add: function (a, c, d, e, g) {
                var h, i, j, k, l, m, n, o, p, q, r, s;
                if (!(a.nodeType === 3 || a.nodeType === 8 || !c || !d || !(h = f._data(a)))) {
                    d.handler && (p = d, d = p.handler, g = p.selector), d.guid || (d.guid = f.guid++), j = h.events, j || (h.events = j = {}), i = h.handle,
                        i || (h.handle = i = function (a) {
                            return typeof f != "undefined" && (!a || f.event.triggered !== a.type) ? f.event.dispatch.apply(i.elem, arguments) : b
                        }, i.elem = a), c = f.trim(I(c))
                        .split(" ");
                    for (k = 0; k < c.length; k++) {
                        l = A.exec(c[k]) || [], m = l[1], n = (l[2] || "")
                            .split(".")
                            .sort(), s = f.event.special[m] || {}, m = (g ? s.delegateType : s.bindType) || m, s = f.event.special[m] || {}, o = f.extend({
                                type: m,
                                origType: l[1],
                                data: e,
                                handler: d,
                                guid: d.guid,
                                selector: g,
                                quick: g && G(g),
                                namespace: n.join(".")
                            }, p), r = j[m];
                        if (!r) {
                            r = j[m] = [], r.delegateCount = 0;
                            if (!s.setup || s.setup.call(a, e, n, i) === !1) {
                                a.addEventListener ? a.addEventListener(m, i, !1) : a.attachEvent && a.attachEvent("on" + m, i)
                            }
                        }
                        s.add && (s.add.call(a, o), o.handler.guid || (o.handler.guid = d.guid)), g ? r.splice(r.delegateCount++, 0, o) : r.push(o), f.event
                            .global[m] = !0
                    }
                    a = null
                }
            },
            global: {},
            remove: function (a, b, c, d, e) {
                var g = f.hasData(a) && f._data(a),
                    h, i, j, k, l, m, n, o, p, q, r, s;
                if (!!g && !!(o = g.events)) {
                    b = f.trim(I(b || ""))
                        .split(" ");
                    for (h = 0; h < b.length; h++) {
                        i = A.exec(b[h]) || [], j = k = i[1], l = i[2];
                        if (!j) {
                            for (j in o) {
                                f.event.remove(a, j + b[h], c, d, !0)
                            }
                            continue
                        }
                        p = f.event.special[j] || {}, j = (d ? p.delegateType : p.bindType) || j, r = o[j] || [], m = r.length, l = l ? new RegExp(
                            "(^|\\.)" + l.split(".")
                            .sort()
                            .join("\\.(?:.*\\.)?") + "(\\.|$)") : null;
                        for (n = 0; n < r.length; n++) {
                            s = r[n], (e || k === s.origType) && (!c || c.guid === s.guid) && (!l || l.test(s.namespace)) && (!d || d === s.selector ||
                                d === "**" && s.selector) && (r.splice(n--, 1), s.selector && r.delegateCount--, p.remove && p.remove.call(a, s))
                        }
                        r.length === 0 && m !== r.length && ((!p.teardown || p.teardown.call(a, l) === !1) && f.removeEvent(a, j, g.handle), delete o[j])
                    }
                    f.isEmptyObject(o) && (q = g.handle, q && (q.elem = null), f.removeData(a, ["events", "handle"], !0))
                }
            },
            customEvent: {
                getData: !0,
                setData: !0,
                changeData: !0
            },
            trigger: function (c, d, e, g) {
                if (!e || e.nodeType !== 3 && e.nodeType !== 8) {
                    var h = c.type || c,
                        i = [],
                        j, k, l, m, n, o, p, q, r, s;
                    if (E.test(h + f.event.triggered)) {
                        return
                    }
                    h.indexOf("!") >= 0 && (h = h.slice(0, -1), k = !0), h.indexOf(".") >= 0 && (i = h.split("."), h = i.shift(), i.sort());
                    if ((!e || f.event.customEvent[h]) && !f.event.global[h]) {
                        return
                    }
                    c = typeof c == "object" ? c[f.expando] ? c : new f.Event(h, c) : new f.Event(h), c.type = h, c.isTrigger = !0, c.exclusive = k, c.namespace =
                        i.join("."), c.namespace_re = c.namespace ? new RegExp("(^|\\.)" + i.join("\\.(?:.*\\.)?") + "(\\.|$)") : null, o = h.indexOf(
                            ":") < 0 ? "on" + h : "";
                    if (!e) {
                        j = f.cache;
                        for (l in j) {
                            j[l].events && j[l].events[h] && f.event.trigger(c, d, j[l].handle.elem, !0)
                        }
                        return
                    }
                    c.result = b, c.target || (c.target = e), d = d != null ? f.makeArray(d) : [], d.unshift(c), p = f.event.special[h] || {};
                    if (p.trigger && p.trigger.apply(e, d) === !1) {
                        return
                    }
                    r = [[e, p.bindType || h]];
                    if (!g && !p.noBubble && !f.isWindow(e)) {
                        s = p.delegateType || h, m = E.test(s + h) ? e : e.parentNode, n = null;
                        for (; m; m = m.parentNode) {
                            r.push([m, s]), n = m
                        }
                        n && n === e.ownerDocument && r.push([n.defaultView || n.parentWindow || a, s])
                    }
                    for (l = 0; l < r.length && !c.isPropagationStopped(); l++) {
                        m = r[l][0], c.type = r[l][1], q = (f._data(m, "events") || {})[c.type] && f._data(m, "handle"), q && q.apply(m, d), q = o && m[
                            o], q && f.acceptData(m) && q.apply(m, d) === !1 && c.preventDefault()
                    }
                    c.type = h, !g && !c.isDefaultPrevented() && (!p._default || p._default.apply(e.ownerDocument, d) === !1) && (h !== "click" || !f.nodeName(
                            e, "a")) && f.acceptData(e) && o && e[h] && (h !== "focus" && h !== "blur" || c.target.offsetWidth !== 0) && !f.isWindow(e) &&
                        (n = e[o], n && (e[o] = null), f.event.triggered = h, e[h](), f.event.triggered = b, n && (e[o] = n));
                    return c.result
                }
            },
            dispatch: function (c) {
                c = f.event.fix(c || a.event);
                var d = (f._data(this, "events") || {})[c.type] || [],
                    e = d.delegateCount,
                    g = [].slice.call(arguments, 0),
                    h = !c.exclusive && !c.namespace,
                    i = f.event.special[c.type] || {},
                    j = [],
                    k, l, m, n, o, p, q, r, s, t, u;
                g[0] = c, c.delegateTarget = this;
                if (!i.preDispatch || i.preDispatch.call(this, c) !== !1) {
                    if (e && (!c.button || c.type !== "click")) {
                        n = f(this), n.context = this.ownerDocument || this;
                        for (m = c.target; m != this; m = m.parentNode || this) {
                            if (m.disabled !== !0) {
                                p = {}, r = [], n[0] = m;
                                for (k = 0; k < e; k++) {
                                    s = d[k], t = s.selector, p[t] === b && (p[t] = s.quick ? H(m, s.quick) : n.is(t)), p[t] && r.push(s)
                                }
                                r.length && j.push({
                                    elem: m,
                                    matches: r
                                })
                            }
                        }
                    }
                    d.length > e && j.push({
                        elem: this,
                        matches: d.slice(e)
                    });
                    for (k = 0; k < j.length && !c.isPropagationStopped(); k++) {
                        q = j[k], c.currentTarget = q.elem;
                        for (l = 0; l < q.matches.length && !c.isImmediatePropagationStopped(); l++) {
                            s = q.matches[l];
                            if (h || !c.namespace && !s.namespace || c.namespace_re && c.namespace_re.test(s.namespace)) {
                                c.data = s.data, c.handleObj = s, o = ((f.event.special[s.origType] || {})
                                        .handle || s.handler)
                                    .apply(q.elem, g), o !== b && (c.result = o, o === !1 && (c.preventDefault(), c.stopPropagation()))
                            }
                        }
                    }
                    i.postDispatch && i.postDispatch.call(this, c);
                    return c.result
                }
            },
            props: "attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which"
                .split(" "),
            fixHooks: {},
            keyHooks: {
                props: "char charCode key keyCode".split(" "),
                filter: function (a, b) {
                    a.which == null && (a.which = b.charCode != null ? b.charCode : b.keyCode);
                    return a
                }
            },
            mouseHooks: {
                props: "button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),
                filter: function (a, d) {
                    var e, f, g, h = d.button,
                        i = d.fromElement;
                    a.pageX == null && d.clientX != null && (e = a.target.ownerDocument || c, f = e.documentElement, g = e.body, a.pageX = d.clientX +
                        (f && f.scrollLeft || g && g.scrollLeft || 0) - (f && f.clientLeft || g && g.clientLeft || 0), a.pageY = d.clientY + (f &&
                            f.scrollTop || g && g.scrollTop || 0) - (f && f.clientTop || g && g.clientTop || 0)), !a.relatedTarget && i && (a.relatedTarget =
                        i === a.target ? d.toElement : i), !a.which && h !== b && (a.which = h & 1 ? 1 : h & 2 ? 3 : h & 4 ? 2 : 0);
                    return a
                }
            },
            fix: function (a) {
                if (a[f.expando]) {
                    return a
                }
                var d, e, g = a,
                    h = f.event.fixHooks[a.type] || {},
                    i = h.props ? this.props.concat(h.props) : this.props;
                a = f.Event(g);
                for (d = i.length; d;) {
                    e = i[--d], a[e] = g[e]
                }
                a.target || (a.target = g.srcElement || c), a.target.nodeType === 3 && (a.target = a.target.parentNode), a.metaKey === b && (a.metaKey =
                    a.ctrlKey);
                return h.filter ? h.filter(a, g) : a
            },
            special: {
                ready: {
                    setup: f.bindReady
                },
                load: {
                    noBubble: !0
                },
                focus: {
                    delegateType: "focusin"
                },
                blur: {
                    delegateType: "focusout"
                },
                beforeunload: {
                    setup: function (a, b, c) {
                        f.isWindow(this) && (this.onbeforeunload = c)
                    },
                    teardown: function (a, b) {
                        this.onbeforeunload === b && (this.onbeforeunload = null)
                    }
                }
            },
            simulate: function (a, b, c, d) {
                var e = f.extend(new f.Event, c, {
                    type: a,
                    isSimulated: !0,
                    originalEvent: {}
                });
                d ? f.event.trigger(e, null, b) : f.event.dispatch.call(b, e), e.isDefaultPrevented() && c.preventDefault()
            }
        }, f.event.handle = f.event.dispatch, f.removeEvent = c.removeEventListener ? function (a, b, c) {
            a.removeEventListener && a.removeEventListener(b, c, !1)
        } : function (a, b, c) {
            a.detachEvent && a.detachEvent("on" + b, c)
        }, f.Event = function (a, b) {
            if (!(this instanceof f.Event)) {
                return new f.Event(a, b)
            }
            a && a.type ? (this.originalEvent = a, this.type = a.type, this.isDefaultPrevented = a.defaultPrevented || a.returnValue === !1 || a.getPreventDefault &&
                    a.getPreventDefault() ? K : J) : this.type = a, b && f.extend(this, b), this.timeStamp = a && a.timeStamp || f.now(), this[f.expando] = !
                0
        }, f.Event.prototype = {
            preventDefault: function () {
                this.isDefaultPrevented = K;
                var a = this.originalEvent;
                !a || (a.preventDefault ? a.preventDefault() : a.returnValue = !1)
            },
            stopPropagation: function () {
                this.isPropagationStopped = K;
                var a = this.originalEvent;
                !a || (a.stopPropagation && a.stopPropagation(), a.cancelBubble = !0)
            },
            stopImmediatePropagation: function () {
                this.isImmediatePropagationStopped = K, this.stopPropagation()
            },
            isDefaultPrevented: J,
            isPropagationStopped: J,
            isImmediatePropagationStopped: J
        }, f.each({
            mouseenter: "mouseover",
            mouseleave: "mouseout"
        }, function (a, b) {
            f.event.special[a] = {
                delegateType: b,
                bindType: b,
                handle: function (a) {
                    var c = this,
                        d = a.relatedTarget,
                        e = a.handleObj,
                        g = e.selector,
                        h;
                    if (!d || d !== c && !f.contains(c, d)) {
                        a.type = e.origType, h = e.handler.apply(this, arguments), a.type = b
                    }
                    return h
                }
            }
        }), f.support.submitBubbles || (f.event.special.submit = {
            setup: function () {
                if (f.nodeName(this, "form")) {
                    return !1
                }
                f.event.add(this, "click._submit keypress._submit", function (a) {
                    var c = a.target,
                        d = f.nodeName(c, "input") || f.nodeName(c, "button") ? c.form : b;
                    d && !d._submit_attached && (f.event.add(d, "submit._submit", function (a) {
                        a._submit_bubble = !0
                    }), d._submit_attached = !0)
                })
            },
            postDispatch: function (a) {
                a._submit_bubble && (delete a._submit_bubble, this.parentNode && !a.isTrigger && f.event.simulate("submit", this.parentNode, a, !0))
            },
            teardown: function () {
                if (f.nodeName(this, "form")) {
                    return !1
                }
                f.event.remove(this, "._submit")
            }
        }), f.support.changeBubbles || (f.event.special.change = {
            setup: function () {
                if (z.test(this.nodeName)) {
                    if (this.type === "checkbox" || this.type === "radio") {
                        f.event.add(this, "propertychange._change", function (a) {
                            a.originalEvent.propertyName === "checked" && (this._just_changed = !0)
                        }), f.event.add(this, "click._change", function (a) {
                            this._just_changed && !a.isTrigger && (this._just_changed = !1, f.event.simulate("change", this, a, !0))
                        })
                    }
                    return !1
                }
                f.event.add(this, "beforeactivate._change", function (a) {
                    var b = a.target;
                    z.test(b.nodeName) && !b._change_attached && (f.event.add(b, "change._change", function (a) {
                        this.parentNode && !a.isSimulated && !a.isTrigger && f.event.simulate("change", this.parentNode, a, !0)
                    }), b._change_attached = !0)
                })
            },
            handle: function (a) {
                var b = a.target;
                if (this !== b || a.isSimulated || a.isTrigger || b.type !== "radio" && b.type !== "checkbox") {
                    return a.handleObj.handler.apply(this, arguments)
                }
            },
            teardown: function () {
                f.event.remove(this, "._change");
                return z.test(this.nodeName)
            }
        }), f.support.focusinBubbles || f.each({
            focus: "focusin",
            blur: "focusout"
        }, function (a, b) {
            var d = 0,
                e = function (a) {
                    f.event.simulate(b, a.target, f.event.fix(a), !0)
                };
            f.event.special[b] = {
                setup: function () {
                    d++ === 0 && c.addEventListener(a, e, !0)
                },
                teardown: function () {
                    --d === 0 && c.removeEventListener(a, e, !0)
                }
            }
        }), f.fn.extend({
            on: function (a, c, d, e, g) {
                var h, i;
                if (typeof a == "object") {
                    typeof c != "string" && (d = d || c, c = b);
                    for (i in a) {
                        this.on(i, c, d, a[i], g)
                    }
                    return this
                }
                d == null && e == null ? (e = c, d = c = b) : e == null && (typeof c == "string" ? (e = d, d = b) : (e = d, d = c, c = b));
                if (e === !1) {
                    e = J
                } else {
                    if (!e) {
                        return this
                    }
                }
                g === 1 && (h = e, e = function (a) {
                    f()
                        .off(a);
                    return h.apply(this, arguments)
                }, e.guid = h.guid || (h.guid = f.guid++));
                return this.each(function () {
                    f.event.add(this, a, e, d, c)
                })
            },
            one: function (a, b, c, d) {
                return this.on(a, b, c, d, 1)
            },
            off: function (a, c, d) {
                if (a && a.preventDefault && a.handleObj) {
                    var e = a.handleObj;
                    f(a.delegateTarget)
                        .off(e.namespace ? e.origType + "." + e.namespace : e.origType, e.selector, e.handler);
                    return this
                }
                if (typeof a == "object") {
                    for (var g in a) {
                        this.off(g, c, a[g])
                    }
                    return this
                }
                if (c === !1 || typeof c == "function") {
                    d = c, c = b
                }
                d === !1 && (d = J);
                return this.each(function () {
                    f.event.remove(this, a, d, c)
                })
            },
            bind: function (a, b, c) {
                return this.on(a, null, b, c)
            },
            unbind: function (a, b) {
                return this.off(a, null, b)
            },
            live: function (a, b, c) {
                f(this.context)
                    .on(a, this.selector, b, c);
                return this
            },
            die: function (a, b) {
                f(this.context)
                    .off(a, this.selector || "**", b);
                return this
            },
            delegate: function (a, b, c, d) {
                return this.on(b, a, c, d)
            },
            undelegate: function (a, b, c) {
                return arguments.length == 1 ? this.off(a, "**") : this.off(b, a, c)
            },
            trigger: function (a, b) {
                return this.each(function () {
                    f.event.trigger(a, b, this)
                })
            },
            triggerHandler: function (a, b) {
                if (this[0]) {
                    return f.event.trigger(a, b, this[0], !0)
                }
            },
            toggle: function (a) {
                var b = arguments,
                    c = a.guid || f.guid++,
                    d = 0,
                    e = function (c) {
                        var e = (f._data(this, "lastToggle" + a.guid) || 0) % d;
                        f._data(this, "lastToggle" + a.guid, e + 1), c.preventDefault();
                        return b[e].apply(this, arguments) || !1
                    };
                e.guid = c;
                while (d < b.length) {
                    b[d++].guid = c
                }
                return this.click(e)
            },
            hover: function (a, b) {
                return this.mouseenter(a)
                    .mouseleave(b || a)
            }
        }), f.each(
            "blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu"
            .split(" "),
            function (a, b) {
                f.fn[b] = function (a, c) {
                    c == null && (c = a, a = null);
                    return arguments.length > 0 ? this.on(b, null, a, c) : this.trigger(b)
                }, f.attrFn && (f.attrFn[b] = !0), C.test(b) && (f.event.fixHooks[b] = f.event.keyHooks), D.test(b) && (f.event.fixHooks[b] = f.event.mouseHooks)
            }),
        function () {
            function x(a, b, c, e, f, g) {
                for (var h = 0, i = e.length; h < i; h++) {
                    var j = e[h];
                    if (j) {
                        var k = !1;
                        j = j[a];
                        while (j) {
                            if (j[d] === c) {
                                k = e[j.sizset];
                                break
                            }
                            if (j.nodeType === 1) {
                                g || (j[d] = c, j.sizset = h);
                                if (typeof b != "string") {
                                    if (j === b) {
                                        k = !0;
                                        break
                                    }
                                } else {
                                    if (m.filter(b, [j])
                                        .length > 0) {
                                        k = j;
                                        break
                                    }
                                }
                            }
                            j = j[a]
                        }
                        e[h] = k
                    }
                }
            }

            function w(a, b, c, e, f, g) {
                for (var h = 0, i = e.length; h < i; h++) {
                    var j = e[h];
                    if (j) {
                        var k = !1;
                        j = j[a];
                        while (j) {
                            if (j[d] === c) {
                                k = e[j.sizset];
                                break
                            }
                            j.nodeType === 1 && !g && (j[d] = c, j.sizset = h);
                            if (j.nodeName.toLowerCase() === b) {
                                k = j;
                                break
                            }
                            j = j[a]
                        }
                        e[h] = k
                    }
                }
            }
            var a = /((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,
                d = "sizcache" + (Math.random() + "")
                .replace(".", ""),
                e = 0,
                g = Object.prototype.toString,
                h = !1,
                i = !0,
                j = /\\/g,
                k = /\r\n/g,
                l = /\W/;
            [0, 0].sort(function () {
                i = !1;
                return 0
            });
            var m = function (b, d, e, f) {
                e = e || [], d = d || c;
                var h = d;
                if (d.nodeType !== 1 && d.nodeType !== 9) {
                    return []
                }
                if (!b || typeof b != "string") {
                    return e
                }
                var i, j, k, l, n, q, r, t, u = !0,
                    v = m.isXML(d),
                    w = [],
                    x = b;
                do {
                    a.exec(""), i = a.exec(x);
                    if (i) {
                        x = i[3], w.push(i[1]);
                        if (i[2]) {
                            l = i[3];
                            break
                        }
                    }
                } while (i);
                if (w.length > 1 && p.exec(b)) {
                    if (w.length === 2 && o.relative[w[0]]) {
                        j = y(w[0] + w[1], d, f)
                    } else {
                        j = o.relative[w[0]] ? [d] : m(w.shift(), d);
                        while (w.length) {
                            b = w.shift(), o.relative[b] && (b += w.shift()), j = y(b, j, f)
                        }
                    }
                } else {
                    !f && w.length > 1 && d.nodeType === 9 && !v && o.match.ID.test(w[0]) && !o.match.ID.test(w[w.length - 1]) && (n = m.find(w.shift(),
                        d, v), d = n.expr ? m.filter(n.expr, n.set)[0] : n.set[0]);
                    if (d) {
                        n = f ? {
                                expr: w.pop(),
                                set: s(f)
                            } : m.find(w.pop(), w.length === 1 && (w[0] === "~" || w[0] === "+") && d.parentNode ? d.parentNode : d, v), j = n.expr ? m
                            .filter(n.expr, n.set) : n.set, w.length > 0 ? k = s(j) : u = !1;
                        while (w.length) {
                            q = w.pop(), r = q, o.relative[q] ? r = w.pop() : q = "", r == null && (r = d), o.relative[q](k, r, v)
                        }
                    } else {
                        k = w = []
                    }
                }
                k || (k = j), k || m.error(q || b);
                if (g.call(k) === "[object Array]") {
                    if (!u) {
                        e.push.apply(e, k)
                    } else {
                        if (d && d.nodeType === 1) {
                            for (t = 0; k[t] != null; t++) {
                                k[t] && (k[t] === !0 || k[t].nodeType === 1 && m.contains(d, k[t])) && e.push(j[t])
                            }
                        } else {
                            for (t = 0; k[t] != null; t++) {
                                k[t] && k[t].nodeType === 1 && e.push(j[t])
                            }
                        }
                    }
                } else {
                    s(k, e)
                }
                l && (m(l, h, e, f), m.uniqueSort(e));
                return e
            };
            m.uniqueSort = function (a) {
                if (u) {
                    h = i, a.sort(u);
                    if (h) {
                        for (var b = 1; b < a.length; b++) {
                            a[b] === a[b - 1] && a.splice(b--, 1)
                        }
                    }
                }
                return a
            }, m.matches = function (a, b) {
                return m(a, null, null, b)
            }, m.matchesSelector = function (a, b) {
                return m(b, null, null, [a])
                    .length > 0
            }, m.find = function (a, b, c) {
                var d, e, f, g, h, i;
                if (!a) {
                    return []
                }
                for (e = 0, f = o.order.length; e < f; e++) {
                    h = o.order[e];
                    if (g = o.leftMatch[h].exec(a)) {
                        i = g[1], g.splice(1, 1);
                        if (i.substr(i.length - 1) !== "\\") {
                            g[1] = (g[1] || "")
                                .replace(j, ""), d = o.find[h](g, b, c);
                            if (d != null) {
                                a = a.replace(o.match[h], "");
                                break
                            }
                        }
                    }
                }
                d || (d = typeof b.getElementsByTagName != "undefined" ? b.getElementsByTagName("*") : []);
                return {
                    set: d,
                    expr: a
                }
            }, m.filter = function (a, c, d, e) {
                var f, g, h, i, j, k, l, n, p, q = a,
                    r = [],
                    s = c,
                    t = c && c[0] && m.isXML(c[0]);
                while (a && c.length) {
                    for (h in o.filter) {
                        if ((f = o.leftMatch[h].exec(a)) != null && f[2]) {
                            k = o.filter[h], l = f[1], g = !1, f.splice(1, 1);
                            if (l.substr(l.length - 1) === "\\") {
                                continue
                            }
                            s === r && (r = []);
                            if (o.preFilter[h]) {
                                f = o.preFilter[h](f, s, d, r, e, t);
                                if (!f) {
                                    g = i = !0
                                } else {
                                    if (f === !0) {
                                        continue
                                    }
                                }
                            }
                            if (f) {
                                for (n = 0;
                                    (j = s[n]) != null; n++) {
                                    j && (i = k(j, f, n, s), p = e ^ i, d && i != null ? p ? g = !0 : s[n] = !1 : p && (r.push(j), g = !0))
                                }
                            }
                            if (i !== b) {
                                d || (s = r), a = a.replace(o.match[h], "");
                                if (!g) {
                                    return []
                                }
                                break
                            }
                        }
                    }
                    if (a === q) {
                        if (g == null) {
                            m.error(a)
                        } else {
                            break
                        }
                    }
                    q = a
                }
                return s
            }, m.error = function (a) {
                throw new Error("Syntax error, unrecognized expression: " + a)
            };
            var n = m.getText = function (a) {
                    var b, c, d = a.nodeType,
                        e = "";
                    if (d) {
                        if (d === 1 || d === 9 || d === 11) {
                            if (typeof a.textContent == "string") {
                                return a.textContent
                            }
                            if (typeof a.innerText == "string") {
                                return a.innerText.replace(k, "")
                            }
                            for (a = a.firstChild; a; a = a.nextSibling) {
                                e += n(a)
                            }
                        } else {
                            if (d === 3 || d === 4) {
                                return a.nodeValue
                            }
                        }
                    } else {
                        for (b = 0; c = a[b]; b++) {
                            c.nodeType !== 8 && (e += n(c))
                        }
                    }
                    return e
                },
                o = m.selectors = {
                    order: ["ID", "NAME", "TAG"],
                    match: {
                        ID: /#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,
                        CLASS: /\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,
                        NAME: /\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,
                        ATTR: /\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,
                        TAG: /^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,
                        CHILD: /:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,
                        POS: /:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,
                        PSEUDO: /:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/
                    },
                    leftMatch: {},
                    attrMap: {
                        "class": "className",
                        "for": "htmlFor"
                    },
                    attrHandle: {
                        href: function (a) {
                            return a.getAttribute("href")
                        },
                        type: function (a) {
                            return a.getAttribute("type")
                        }
                    },
                    relative: {
                        "+": function (a, b) {
                            var c = typeof b == "string",
                                d = c && !l.test(b),
                                e = c && !d;
                            d && (b = b.toLowerCase());
                            for (var f = 0, g = a.length, h; f < g; f++) {
                                if (h = a[f]) {
                                    while ((h = h.previousSibling) && h.nodeType !== 1) {}
                                    a[f] = e || h && h.nodeName.toLowerCase() === b ? h || !1 : h === b
                                }
                            }
                            e && m.filter(b, a, !0)
                        },
                        ">": function (a, b) {
                            var c, d = typeof b == "string",
                                e = 0,
                                f = a.length;
                            if (d && !l.test(b)) {
                                b = b.toLowerCase();
                                for (; e < f; e++) {
                                    c = a[e];
                                    if (c) {
                                        var g = c.parentNode;
                                        a[e] = g.nodeName.toLowerCase() === b ? g : !1
                                    }
                                }
                            } else {
                                for (; e < f; e++) {
                                    c = a[e], c && (a[e] = d ? c.parentNode : c.parentNode === b)
                                }
                                d && m.filter(b, a, !0)
                            }
                        },
                        "": function (a, b, c) {
                            var d, f = e++,
                                g = x;
                            typeof b == "string" && !l.test(b) && (b = b.toLowerCase(), d = b, g = w), g("parentNode", b, f, a, d, c)
                        },
                        "~": function (a, b, c) {
                            var d, f = e++,
                                g = x;
                            typeof b == "string" && !l.test(b) && (b = b.toLowerCase(), d = b, g = w), g("previousSibling", b, f, a, d, c)
                        }
                    },
                    find: {
                        ID: function (a, b, c) {
                            if (typeof b.getElementById != "undefined" && !c) {
                                var d = b.getElementById(a[1]);
                                return d && d.parentNode ? [d] : []
                            }
                        },
                        NAME: function (a, b) {
                            if (typeof b.getElementsByName != "undefined") {
                                var c = [],
                                    d = b.getElementsByName(a[1]);
                                for (var e = 0, f = d.length; e < f; e++) {
                                    d[e].getAttribute("name") === a[1] && c.push(d[e])
                                }
                                return c.length === 0 ? null : c
                            }
                        },
                        TAG: function (a, b) {
                            if (typeof b.getElementsByTagName != "undefined") {
                                return b.getElementsByTagName(a[1])
                            }
                        }
                    },
                    preFilter: {
                        CLASS: function (a, b, c, d, e, f) {
                            a = " " + a[1].replace(j, "") + " ";
                            if (f) {
                                return a
                            }
                            for (var g = 0, h;
                                (h = b[g]) != null; g++) {
                                h && (e ^ (h.className && (" " + h.className + " ")
                                    .replace(/[\t\n\r]/g, " ")
                                    .indexOf(a) >= 0) ? c || d.push(h) : c && (b[g] = !1))
                            }
                            return !1
                        },
                        ID: function (a) {
                            return a[1].replace(j, "")
                        },
                        TAG: function (a, b) {
                            return a[1].replace(j, "")
                                .toLowerCase()
                        },
                        CHILD: function (a) {
                            if (a[1] === "nth") {
                                a[2] || m.error(a[0]), a[2] = a[2].replace(/^\+|\s*/g, "");
                                var b = /(-?)(\d*)(?:n([+\-]?\d*))?/.exec(a[2] === "even" && "2n" || a[2] === "odd" && "2n+1" || !/\D/.test(a[2]) &&
                                    "0n+" + a[2] || a[2]);
                                a[2] = b[1] + (b[2] || 1) - 0, a[3] = b[3] - 0
                            } else {
                                a[2] && m.error(a[0])
                            }
                            a[0] = e++;
                            return a
                        },
                        ATTR: function (a, b, c, d, e, f) {
                            var g = a[1] = a[1].replace(j, "");
                            !f && o.attrMap[g] && (a[1] = o.attrMap[g]), a[4] = (a[4] || a[5] || "")
                                .replace(j, ""), a[2] === "~=" && (a[4] = " " + a[4] + " ");
                            return a
                        },
                        PSEUDO: function (b, c, d, e, f) {
                            if (b[1] === "not") {
                                if ((a.exec(b[3]) || "")
                                    .length > 1 || /^\w/.test(b[3])) {
                                    b[3] = m(b[3], null, null, c)
                                } else {
                                    var g = m.filter(b[3], c, d, !0 ^ f);
                                    d || e.push.apply(e, g);
                                    return !1
                                }
                            } else {
                                if (o.match.POS.test(b[0]) || o.match.CHILD.test(b[0])) {
                                    return !0
                                }
                            }
                            return b
                        },
                        POS: function (a) {
                            a.unshift(!0);
                            return a
                        }
                    },
                    filters: {
                        enabled: function (a) {
                            return a.disabled === !1 && a.type !== "hidden"
                        },
                        disabled: function (a) {
                            return a.disabled === !0
                        },
                        checked: function (a) {
                            return a.checked === !0
                        },
                        selected: function (a) {
                            a.parentNode && a.parentNode.selectedIndex;
                            return a.selected === !0
                        },
                        parent: function (a) {
                            return !!a.firstChild
                        },
                        empty: function (a) {
                            return !a.firstChild
                        },
                        has: function (a, b, c) {
                            return !!m(c[3], a)
                                .length
                        },
                        header: function (a) {
                            return /h\d/i.test(a.nodeName)
                        },
                        text: function (a) {
                            var b = a.getAttribute("type"),
                                c = a.type;
                            return a.nodeName.toLowerCase() === "input" && "text" === c && (b === c || b === null)
                        },
                        radio: function (a) {
                            return a.nodeName.toLowerCase() === "input" && "radio" === a.type
                        },
                        checkbox: function (a) {
                            return a.nodeName.toLowerCase() === "input" && "checkbox" === a.type
                        },
                        file: function (a) {
                            return a.nodeName.toLowerCase() === "input" && "file" === a.type
                        },
                        password: function (a) {
                            return a.nodeName.toLowerCase() === "input" && "password" === a.type
                        },
                        submit: function (a) {
                            var b = a.nodeName.toLowerCase();
                            return (b === "input" || b === "button") && "submit" === a.type
                        },
                        image: function (a) {
                            return a.nodeName.toLowerCase() === "input" && "image" === a.type
                        },
                        reset: function (a) {
                            var b = a.nodeName.toLowerCase();
                            return (b === "input" || b === "button") && "reset" === a.type
                        },
                        button: function (a) {
                            var b = a.nodeName.toLowerCase();
                            return b === "input" && "button" === a.type || b === "button"
                        },
                        input: function (a) {
                            return /input|select|textarea|button/i.test(a.nodeName)
                        },
                        focus: function (a) {
                            return a === a.ownerDocument.activeElement
                        }
                    },
                    setFilters: {
                        first: function (a, b) {
                            return b === 0
                        },
                        last: function (a, b, c, d) {
                            return b === d.length - 1
                        },
                        even: function (a, b) {
                            return b % 2 === 0
                        },
                        odd: function (a, b) {
                            return b % 2 === 1
                        },
                        lt: function (a, b, c) {
                            return b < c[3] - 0
                        },
                        gt: function (a, b, c) {
                            return b > c[3] - 0
                        },
                        nth: function (a, b, c) {
                            return c[3] - 0 === b
                        },
                        eq: function (a, b, c) {
                            return c[3] - 0 === b
                        }
                    },
                    filter: {
                        PSEUDO: function (a, b, c, d) {
                            var e = b[1],
                                f = o.filters[e];
                            if (f) {
                                return f(a, c, b, d)
                            }
                            if (e === "contains") {
                                return (a.textContent || a.innerText || n([a]) || "")
                                    .indexOf(b[3]) >= 0
                            }
                            if (e === "not") {
                                var g = b[3];
                                for (var h = 0, i = g.length; h < i; h++) {
                                    if (g[h] === a) {
                                        return !1
                                    }
                                }
                                return !0
                            }
                            m.error(e)
                        },
                        CHILD: function (a, b) {
                            var c, e, f, g, h, i, j, k = b[1],
                                l = a;
                            switch (k) {
                            case "only":
                            case "first":
                                while (l = l.previousSibling) {
                                    if (l.nodeType === 1) {
                                        return !1
                                    }
                                }
                                if (k === "first") {
                                    return !0
                                }
                                l = a;
                            case "last":
                                while (l = l.nextSibling) {
                                    if (l.nodeType === 1) {
                                        return !1
                                    }
                                }
                                return !0;
                            case "nth":
                                c = b[2], e = b[3];
                                if (c === 1 && e === 0) {
                                    return !0
                                }
                                f = b[0], g = a.parentNode;
                                if (g && (g[d] !== f || !a.nodeIndex)) {
                                    i = 0;
                                    for (l = g.firstChild; l; l = l.nextSibling) {
                                        l.nodeType === 1 && (l.nodeIndex = ++i)
                                    }
                                    g[d] = f
                                }
                                j = a.nodeIndex - e;
                                return c === 0 ? j === 0 : j % c === 0 && j / c >= 0
                            }
                        },
                        ID: function (a, b) {
                            return a.nodeType === 1 && a.getAttribute("id") === b
                        },
                        TAG: function (a, b) {
                            return b === "*" && a.nodeType === 1 || !!a.nodeName && a.nodeName.toLowerCase() === b
                        },
                        CLASS: function (a, b) {
                            return (" " + (a.className || a.getAttribute("class")) + " ")
                                .indexOf(b) > -1
                        },
                        ATTR: function (a, b) {
                            var c = b[1],
                                d = m.attr ? m.attr(a, c) : o.attrHandle[c] ? o.attrHandle[c](a) : a[c] != null ? a[c] : a.getAttribute(c),
                                e = d + "",
                                f = b[2],
                                g = b[4];
                            return d == null ? f === "!=" : !f && m.attr ? d != null : f === "=" ? e === g : f === "*=" ? e.indexOf(g) >= 0 : f ===
                                "~=" ? (" " + e + " ")
                                .indexOf(g) >= 0 : g ? f === "!=" ? e !== g : f === "^=" ? e.indexOf(g) === 0 : f === "$=" ? e.substr(e.length - g.length) ===
                                g : f === "|=" ? e === g || e.substr(0, g.length + 1) === g + "-" : !1 : e && d !== !1
                        },
                        POS: function (a, b, c, d) {
                            var e = b[2],
                                f = o.setFilters[e];
                            if (f) {
                                return f(a, c, b, d)
                            }
                        }
                    }
                },
                p = o.match.POS,
                q = function (a, b) {
                    return "\\" + (b - 0 + 1)
                };
            for (var r in o.match) {
                o.match[r] = new RegExp(o.match[r].source + /(?![^\[]*\])(?![^\(]*\))/.source), o.leftMatch[r] = new RegExp(/(^(?:.|\r|\n)*?)/.source + o.match[
                    r].source.replace(/\\(\d+)/g, q))
            }
            o.match.globalPOS = p;
            var s = function (a, b) {
                a = Array.prototype.slice.call(a, 0);
                if (b) {
                    b.push.apply(b, a);
                    return b
                }
                return a
            };
            try {
                Array.prototype.slice.call(c.documentElement.childNodes, 0)[0].nodeType
            } catch (t) {
                s = function (a, b) {
                    var c = 0,
                        d = b || [];
                    if (g.call(a) === "[object Array]") {
                        Array.prototype.push.apply(d, a)
                    } else {
                        if (typeof a.length == "number") {
                            for (var e = a.length; c < e; c++) {
                                d.push(a[c])
                            }
                        } else {
                            for (; a[c]; c++) {
                                d.push(a[c])
                            }
                        }
                    }
                    return d
                }
            }
            var u, v;
            c.documentElement.compareDocumentPosition ? u = function (a, b) {
                    if (a === b) {
                        h = !0;
                        return 0
                    }
                    if (!a.compareDocumentPosition || !b.compareDocumentPosition) {
                        return a.compareDocumentPosition ? -1 : 1
                    }
                    return a.compareDocumentPosition(b) & 4 ? -1 : 1
                } : (u = function (a, b) {
                    if (a === b) {
                        h = !0;
                        return 0
                    }
                    if (a.sourceIndex && b.sourceIndex) {
                        return a.sourceIndex - b.sourceIndex
                    }
                    var c, d, e = [],
                        f = [],
                        g = a.parentNode,
                        i = b.parentNode,
                        j = g;
                    if (g === i) {
                        return v(a, b)
                    }
                    if (!g) {
                        return -1
                    }
                    if (!i) {
                        return 1
                    }
                    while (j) {
                        e.unshift(j), j = j.parentNode
                    }
                    j = i;
                    while (j) {
                        f.unshift(j), j = j.parentNode
                    }
                    c = e.length, d = f.length;
                    for (var k = 0; k < c && k < d; k++) {
                        if (e[k] !== f[k]) {
                            return v(e[k], f[k])
                        }
                    }
                    return k === c ? v(a, f[k], -1) : v(e[k], b, 1)
                }, v = function (a, b, c) {
                    if (a === b) {
                        return c
                    }
                    var d = a.nextSibling;
                    while (d) {
                        if (d === b) {
                            return -1
                        }
                        d = d.nextSibling
                    }
                    return 1
                }),
                function () {
                    var a = c.createElement("div"),
                        d = "script" + (new Date)
                        .getTime(),
                        e = c.documentElement;
                    a.innerHTML = "<a name='" + d + "'/>", e.insertBefore(a, e.firstChild), c.getElementById(d) && (o.find.ID = function (a, c, d) {
                        if (typeof c.getElementById != "undefined" && !d) {
                            var e = c.getElementById(a[1]);
                            return e ? e.id === a[1] || typeof e.getAttributeNode != "undefined" && e.getAttributeNode("id")
                                .nodeValue === a[1] ? [e] : b : []
                        }
                    }, o.filter.ID = function (a, b) {
                        var c = typeof a.getAttributeNode != "undefined" && a.getAttributeNode("id");
                        return a.nodeType === 1 && c && c.nodeValue === b
                    }), e.removeChild(a), e = a = null
                }(),
                function () {
                    var a = c.createElement("div");
                    a.appendChild(c.createComment("")), a.getElementsByTagName("*")
                        .length > 0 && (o.find.TAG = function (a, b) {
                            var c = b.getElementsByTagName(a[1]);
                            if (a[1] === "*") {
                                var d = [];
                                for (var e = 0; c[e]; e++) {
                                    c[e].nodeType === 1 && d.push(c[e])
                                }
                                c = d
                            }
                            return c
                        }), a.innerHTML = "<a href='#'></a>", a.firstChild && typeof a.firstChild.getAttribute != "undefined" && a.firstChild.getAttribute(
                            "href") !== "#" && (o.attrHandle.href = function (a) {
                            return a.getAttribute("href", 2)
                        }), a = null
                }(), c.querySelectorAll && function () {
                    var a = m,
                        b = c.createElement("div"),
                        d = "__sizzle__";
                    b.innerHTML = "<p class='TEST'></p>";
                    if (!b.querySelectorAll || b.querySelectorAll(".TEST")
                        .length !== 0) {
                        m = function (b, e, f, g) {
                            e = e || c;
                            if (!g && !m.isXML(e)) {
                                var h = /^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(b);
                                if (h && (e.nodeType === 1 || e.nodeType === 9)) {
                                    if (h[1]) {
                                        return s(e.getElementsByTagName(b), f)
                                    }
                                    if (h[2] && o.find.CLASS && e.getElementsByClassName) {
                                        return s(e.getElementsByClassName(h[2]), f)
                                    }
                                }
                                if (e.nodeType === 9) {
                                    if (b === "body" && e.body) {
                                        return s([e.body], f)
                                    }
                                    if (h && h[3]) {
                                        var i = e.getElementById(h[3]);
                                        if (!i || !i.parentNode) {
                                            return s([], f)
                                        }
                                        if (i.id === h[3]) {
                                            return s([i], f)
                                        }
                                    }
                                    try {
                                        return s(e.querySelectorAll(b), f)
                                    } catch (j) {}
                                } else {
                                    if (e.nodeType === 1 && e.nodeName.toLowerCase() !== "object") {
                                        var k = e,
                                            l = e.getAttribute("id"),
                                            n = l || d,
                                            p = e.parentNode,
                                            q = /^\s*[+~]/.test(b);
                                        l ? n = n.replace(/'/g, "\\$&") : e.setAttribute("id", n), q && p && (e = e.parentNode);
                                        try {
                                            if (!q || p) {
                                                return s(e.querySelectorAll("[id='" + n + "'] " + b), f)
                                            }
                                        } catch (r) {} finally {
                                            l || k.removeAttribute("id")
                                        }
                                    }
                                }
                            }
                            return a(b, e, f, g)
                        };
                        for (var e in a) {
                            m[e] = a[e]
                        }
                        b = null
                    }
                }(),
                function () {
                    var a = c.documentElement,
                        b = a.matchesSelector || a.mozMatchesSelector || a.webkitMatchesSelector || a.msMatchesSelector;
                    if (b) {
                        var d = !b.call(c.createElement("div"), "div"),
                            e = !1;
                        try {
                            b.call(c.documentElement, "[test!='']:sizzle")
                        } catch (f) {
                            e = !0
                        }
                        m.matchesSelector = function (a, c) {
                            c = c.replace(/\=\s*([^'"\]]*)\s*\]/g, "='$1']");
                            if (!m.isXML(a)) {
                                try {
                                    if (e || !o.match.PSEUDO.test(c) && !/!=/.test(c)) {
                                        var f = b.call(a, c);
                                        if (f || !d || a.document && a.document.nodeType !== 11) {
                                            return f
                                        }
                                    }
                                } catch (g) {}
                            }
                            return m(c, null, null, [a])
                                .length > 0
                        }
                    }
                }(),
                function () {
                    var a = c.createElement("div");
                    a.innerHTML = "<div class='test e'></div><div class='test'></div>";
                    if (!!a.getElementsByClassName && a.getElementsByClassName("e")
                        .length !== 0) {
                        a.lastChild.className = "e";
                        if (a.getElementsByClassName("e")
                            .length === 1) {
                            return
                        }
                        o.order.splice(1, 0, "CLASS"), o.find.CLASS = function (a, b, c) {
                            if (typeof b.getElementsByClassName != "undefined" && !c) {
                                return b.getElementsByClassName(a[1])
                            }
                        }, a = null
                    }
                }(), c.documentElement.contains ? m.contains = function (a, b) {
                    return a !== b && (a.contains ? a.contains(b) : !0)
                } : c.documentElement.compareDocumentPosition ? m.contains = function (a, b) {
                    return !!(a.compareDocumentPosition(b) & 16)
                } : m.contains = function () {
                    return !1
                }, m.isXML = function (a) {
                    var b = (a ? a.ownerDocument || a : 0)
                        .documentElement;
                    return b ? b.nodeName !== "HTML" : !1
                };
            var y = function (a, b, c) {
                var d, e = [],
                    f = "",
                    g = b.nodeType ? [b] : b;
                while (d = o.match.PSEUDO.exec(a)) {
                    f += d[0], a = a.replace(o.match.PSEUDO, "")
                }
                a = o.relative[a] ? a + "*" : a;
                for (var h = 0, i = g.length; h < i; h++) {
                    m(a, g[h], e, c)
                }
                return m.filter(f, e)
            };
            m.attr = f.attr, m.selectors.attrMap = {}, f.find = m, f.expr = m.selectors, f.expr[":"] = f.expr.filters, f.unique = m.uniqueSort, f.text = m.getText,
                f.isXMLDoc = m.isXML, f.contains = m.contains
        }();
    var L = /Until$/,
        M = /^(?:parents|prevUntil|prevAll)/,
        N = /,/,
        O = /^.[^:#\[\.,]*$/,
        P = Array.prototype.slice,
        Q = f.expr.match.globalPOS,
        R = {
            children: !0,
            contents: !0,
            next: !0,
            prev: !0
        };
    f.fn.extend({
        find: function (a) {
            var b = this,
                c, d;
            if (typeof a != "string") {
                return f(a)
                    .filter(function () {
                        for (c = 0, d = b.length; c < d; c++) {
                            if (f.contains(b[c], this)) {
                                return !0
                            }
                        }
                    })
            }
            var e = this.pushStack("", "find", a),
                g, h, i;
            for (c = 0, d = this.length; c < d; c++) {
                g = e.length, f.find(a, this[c], e);
                if (c > 0) {
                    for (h = g; h < e.length; h++) {
                        for (i = 0; i < g; i++) {
                            if (e[i] === e[h]) {
                                e.splice(h--, 1);
                                break
                            }
                        }
                    }
                }
            }
            return e
        },
        has: function (a) {
            var b = f(a);
            return this.filter(function () {
                for (var a = 0, c = b.length; a < c; a++) {
                    if (f.contains(this, b[a])) {
                        return !0
                    }
                }
            })
        },
        not: function (a) {
            return this.pushStack(T(this, a, !1), "not", a)
        },
        filter: function (a) {
            return this.pushStack(T(this, a, !0), "filter", a)
        },
        is: function (a) {
            return !!a && (typeof a == "string" ? Q.test(a) ? f(a, this.context)
                .index(this[0]) >= 0 : f.filter(a, this)
                .length > 0 : this.filter(a)
                .length > 0)
        },
        closest: function (a, b) {
            var c = [],
                d, e, g = this[0];
            if (f.isArray(a)) {
                var h = 1;
                while (g && g.ownerDocument && g !== b) {
                    for (d = 0; d < a.length; d++) {
                        f(g)
                            .is(a[d]) && c.push({
                                selector: a[d],
                                elem: g,
                                level: h
                            })
                    }
                    g = g.parentNode, h++
                }
                return c
            }
            var i = Q.test(a) || typeof a != "string" ? f(a, b || this.context) : 0;
            for (d = 0, e = this.length; d < e; d++) {
                g = this[d];
                while (g) {
                    if (i ? i.index(g) > -1 : f.find.matchesSelector(g, a)) {
                        c.push(g);
                        break
                    }
                    g = g.parentNode;
                    if (!g || !g.ownerDocument || g === b || g.nodeType === 11) {
                        break
                    }
                }
            }
            c = c.length > 1 ? f.unique(c) : c;
            return this.pushStack(c, "closest", a)
        },
        index: function (a) {
            if (!a) {
                return this[0] && this[0].parentNode ? this.prevAll()
                    .length : -1
            }
            if (typeof a == "string") {
                return f.inArray(this[0], f(a))
            }
            return f.inArray(a.jquery ? a[0] : a, this)
        },
        add: function (a, b) {
            var c = typeof a == "string" ? f(a, b) : f.makeArray(a && a.nodeType ? [a] : a),
                d = f.merge(this.get(), c);
            return this.pushStack(S(c[0]) || S(d[0]) ? d : f.unique(d))
        },
        andSelf: function () {
            return this.add(this.prevObject)
        }
    }), f.each({
        parent: function (a) {
            var b = a.parentNode;
            return b && b.nodeType !== 11 ? b : null
        },
        parents: function (a) {
            return f.dir(a, "parentNode")
        },
        parentsUntil: function (a, b, c) {
            return f.dir(a, "parentNode", c)
        },
        next: function (a) {
            return f.nth(a, 2, "nextSibling")
        },
        prev: function (a) {
            return f.nth(a, 2, "previousSibling")
        },
        nextAll: function (a) {
            return f.dir(a, "nextSibling")
        },
        prevAll: function (a) {
            return f.dir(a, "previousSibling")
        },
        nextUntil: function (a, b, c) {
            return f.dir(a, "nextSibling", c)
        },
        prevUntil: function (a, b, c) {
            return f.dir(a, "previousSibling", c)
        },
        siblings: function (a) {
            return f.sibling((a.parentNode || {})
                .firstChild, a)
        },
        children: function (a) {
            return f.sibling(a.firstChild)
        },
        contents: function (a) {
            return f.nodeName(a, "iframe") ? a.contentDocument || a.contentWindow.document : f.makeArray(a.childNodes)
        }
    }, function (a, b) {
        f.fn[a] = function (c, d) {
            var e = f.map(this, b, c);
            L.test(a) || (d = c), d && typeof d == "string" && (e = f.filter(d, e)), e = this.length > 1 && !R[a] ? f.unique(e) : e, (this.length >
                1 || N.test(d)) && M.test(a) && (e = e.reverse());
            return this.pushStack(e, a, P.call(arguments)
                .join(","))
        }
    }), f.extend({
        filter: function (a, b, c) {
            c && (a = ":not(" + a + ")");
            return b.length === 1 ? f.find.matchesSelector(b[0], a) ? [b[0]] : [] : f.find.matches(a, b)
        },
        dir: function (a, c, d) {
            var e = [],
                g = a[c];
            while (g && g.nodeType !== 9 && (d === b || g.nodeType !== 1 || !f(g)
                    .is(d))) {
                g.nodeType === 1 && e.push(g), g = g[c]
            }
            return e
        },
        nth: function (a, b, c, d) {
            b = b || 1;
            var e = 0;
            for (; a; a = a[c]) {
                if (a.nodeType === 1 && ++e === b) {
                    break
                }
            }
            return a
        },
        sibling: function (a, b) {
            var c = [];
            for (; a; a = a.nextSibling) {
                a.nodeType === 1 && a !== b && c.push(a)
            }
            return c
        }
    });
    var V =
        "abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",
        W = / jQuery\d+="(?:\d+|null)"/g,
        X = /^\s+/,
        Y = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,
        Z = /<([\w:]+)/,
        $ = /<tbody/i,
        _ = /<|&#?\w+;/,
        ba = /<(?:script|style)/i,
        bb = /<(?:script|object|embed|option|style)/i,
        bc = new RegExp("<(?:" + V + ")[\\s/>]", "i"),
        bd = /checked\s*(?:[^=]|=\s*.checked.)/i,
        be = /\/(java|ecma)script/i,
        bf = /^\s*<!(?:\[CDATA\[|\-\-)/,
        bg = {
            option: [1, "<select multiple='multiple'>", "</select>"],
            legend: [1, "<fieldset>", "</fieldset>"],
            thead: [1, "<table>", "</table>"],
            tr: [2, "<table><tbody>", "</tbody></table>"],
            td: [3, "<table><tbody><tr>", "</tr></tbody></table>"],
            col: [2, "<table><tbody></tbody><colgroup>", "</colgroup></table>"],
            area: [1, "<map>", "</map>"],
            _default: [0, "", ""]
        },
        bh = U(c);
    bg.optgroup = bg.option, bg.tbody = bg.tfoot = bg.colgroup = bg.caption = bg.thead, bg.th = bg.td, f.support.htmlSerialize || (bg._default = [1,
        "div<div>", "</div>"]), f.fn.extend({
        text: function (a) {
            return f.access(this, function (a) {
                return a === b ? f.text(this) : this.empty()
                    .append((this[0] && this[0].ownerDocument || c)
                        .createTextNode(a))
            }, null, a, arguments.length)
        },
        wrapAll: function (a) {
            if (f.isFunction(a)) {
                return this.each(function (b) {
                    f(this)
                        .wrapAll(a.call(this, b))
                })
            }
            if (this[0]) {
                var b = f(a, this[0].ownerDocument)
                    .eq(0)
                    .clone(!0);
                this[0].parentNode && b.insertBefore(this[0]), b.map(function () {
                        var a = this;
                        while (a.firstChild && a.firstChild.nodeType === 1) {
                            a = a.firstChild
                        }
                        return a
                    })
                    .append(this)
            }
            return this
        },
        wrapInner: function (a) {
            if (f.isFunction(a)) {
                return this.each(function (b) {
                    f(this)
                        .wrapInner(a.call(this, b))
                })
            }
            return this.each(function () {
                var b = f(this),
                    c = b.contents();
                c.length ? c.wrapAll(a) : b.append(a)
            })
        },
        wrap: function (a) {
            var b = f.isFunction(a);
            return this.each(function (c) {
                f(this)
                    .wrapAll(b ? a.call(this, c) : a)
            })
        },
        unwrap: function () {
            return this.parent()
                .each(function () {
                    f.nodeName(this, "body") || f(this)
                        .replaceWith(this.childNodes)
                })
                .end()
        },
        append: function () {
            return this.domManip(arguments, !0, function (a) {
                this.nodeType === 1 && this.appendChild(a)
            })
        },
        prepend: function () {
            return this.domManip(arguments, !0, function (a) {
                this.nodeType === 1 && this.insertBefore(a, this.firstChild)
            })
        },
        before: function () {
            if (this[0] && this[0].parentNode) {
                return this.domManip(arguments, !1, function (a) {
                    this.parentNode.insertBefore(a, this)
                })
            }
            if (arguments.length) {
                var a = f.clean(arguments);
                a.push.apply(a, this.toArray());
                return this.pushStack(a, "before", arguments)
            }
        },
        after: function () {
            if (this[0] && this[0].parentNode) {
                return this.domManip(arguments, !1, function (a) {
                    this.parentNode.insertBefore(a, this.nextSibling)
                })
            }
            if (arguments.length) {
                var a = this.pushStack(this, "after", arguments);
                a.push.apply(a, f.clean(arguments));
                return a
            }
        },
        remove: function (a, b) {
            for (var c = 0, d;
                (d = this[c]) != null; c++) {
                if (!a || f.filter(a, [d])
                    .length) {
                    !b && d.nodeType === 1 && (f.cleanData(d.getElementsByTagName("*")), f.cleanData([d])), d.parentNode && d.parentNode.removeChild(
                        d)
                }
            }
            return this
        },
        empty: function () {
            for (var a = 0, b;
                (b = this[a]) != null; a++) {
                b.nodeType === 1 && f.cleanData(b.getElementsByTagName("*"));
                while (b.firstChild) {
                    b.removeChild(b.firstChild)
                }
            }
            return this
        },
        clone: function (a, b) {
            a = a == null ? !1 : a, b = b == null ? a : b;
            return this.map(function () {
                return f.clone(this, a, b)
            })
        },
        html: function (a) {
            return f.access(this, function (a) {
                var c = this[0] || {},
                    d = 0,
                    e = this.length;
                if (a === b) {
                    return c.nodeType === 1 ? c.innerHTML.replace(W, "") : null
                }
                if (typeof a == "string" && !ba.test(a) && (f.support.leadingWhitespace || !X.test(a)) && !bg[(Z.exec(a) || ["", ""])[1]
                        .toLowerCase()]) {
                    a = a.replace(Y, "<$1></$2>");
                    try {
                        for (; d < e; d++) {
                            c = this[d] || {}, c.nodeType === 1 && (f.cleanData(c.getElementsByTagName("*")), c.innerHTML = a)
                        }
                        c = 0
                    } catch (g) {}
                }
                c && this.empty()
                    .append(a)
            }, null, a, arguments.length)
        },
        replaceWith: function (a) {
            if (this[0] && this[0].parentNode) {
                if (f.isFunction(a)) {
                    return this.each(function (b) {
                        var c = f(this),
                            d = c.html();
                        c.replaceWith(a.call(this, b, d))
                    })
                }
                typeof a != "string" && (a = f(a)
                    .detach());
                return this.each(function () {
                    var b = this.nextSibling,
                        c = this.parentNode;
                    f(this)
                        .remove(), b ? f(b)
                        .before(a) : f(c)
                        .append(a)
                })
            }
            return this.length ? this.pushStack(f(f.isFunction(a) ? a() : a), "replaceWith", a) : this
        },
        detach: function (a) {
            return this.remove(a, !0)
        },
        domManip: function (a, c, d) {
            var e, g, h, i, j = a[0],
                k = [];
            if (!f.support.checkClone && arguments.length === 3 && typeof j == "string" && bd.test(j)) {
                return this.each(function () {
                    f(this)
                        .domManip(a, c, d, !0)
                })
            }
            if (f.isFunction(j)) {
                return this.each(function (e) {
                    var g = f(this);
                    a[0] = j.call(this, e, c ? g.html() : b), g.domManip(a, c, d)
                })
            }
            if (this[0]) {
                i = j && j.parentNode, f.support.parentNode && i && i.nodeType === 11 && i.childNodes.length === this.length ? e = {
                    fragment: i
                } : e = f.buildFragment(a, this, k), h = e.fragment, h.childNodes.length === 1 ? g = h = h.firstChild : g = h.firstChild;
                if (g) {
                    c = c && f.nodeName(g, "tr");
                    for (var l = 0, m = this.length, n = m - 1; l < m; l++) {
                        d.call(c ? bi(this[l], g) : this[l], e.cacheable || m > 1 && l < n ? f.clone(h, !0, !0) : h)
                    }
                }
                k.length && f.each(k, function (a, b) {
                    b.src ? f.ajax({
                        type: "GET",
                        global: !1,
                        url: b.src,
                        async: !1,
                        dataType: "script"
                    }) : f.globalEval((b.text || b.textContent || b.innerHTML || "")
                        .replace(bf, "/*$0*/")), b.parentNode && b.parentNode.removeChild(b)
                })
            }
            return this
        }
    }), f.buildFragment = function (a, b, d) {
        var e, g, h, i, j = a[0];
        b && b[0] && (i = b[0].ownerDocument || b[0]), i.createDocumentFragment || (i = c), a.length === 1 && typeof j == "string" && j.length < 512 &&
            i === c && j.charAt(0) === "<" && !bb.test(j) && (f.support.checkClone || !bd.test(j)) && (f.support.html5Clone || !bc.test(j)) && (g = !0,
                h = f.fragments[j], h && h !== 1 && (e = h)), e || (e = i.createDocumentFragment(), f.clean(a, i, e, d)), g && (f.fragments[j] = h ? e :
                1);
        return {
            fragment: e,
            cacheable: g
        }
    }, f.fragments = {}, f.each({
        appendTo: "append",
        prependTo: "prepend",
        insertBefore: "before",
        insertAfter: "after",
        replaceAll: "replaceWith"
    }, function (a, b) {
        f.fn[a] = function (c) {
            var d = [],
                e = f(c),
                g = this.length === 1 && this[0].parentNode;
            if (g && g.nodeType === 11 && g.childNodes.length === 1 && e.length === 1) {
                e[b](this[0]);
                return this
            }
            for (var h = 0, i = e.length; h < i; h++) {
                var j = (h > 0 ? this.clone(!0) : this)
                    .get();
                f(e[h])[b](j), d = d.concat(j)
            }
            return this.pushStack(d, a, e.selector)
        }
    }), f.extend({
        clone: function (a, b, c) {
            var d, e, g, h = f.support.html5Clone || f.isXMLDoc(a) || !bc.test("<" + a.nodeName + ">") ? a.cloneNode(!0) : bo(a);
            if ((!f.support.noCloneEvent || !f.support.noCloneChecked) && (a.nodeType === 1 || a.nodeType === 11) && !f.isXMLDoc(a)) {
                bk(a, h), d = bl(a), e = bl(h);
                for (g = 0; d[g]; ++g) {
                    e[g] && bk(d[g], e[g])
                }
            }
            if (b) {
                bj(a, h);
                if (c) {
                    d = bl(a), e = bl(h);
                    for (g = 0; d[g]; ++g) {
                        bj(d[g], e[g])
                    }
                }
            }
            d = e = null;
            return h
        },
        clean: function (a, b, d, e) {
            var g, h, i, j = [];
            b = b || c, typeof b.createElement == "undefined" && (b = b.ownerDocument || b[0] && b[0].ownerDocument || c);
            for (var k = 0, l;
                (l = a[k]) != null; k++) {
                typeof l == "number" && (l += "");
                if (!l) {
                    continue
                }
                if (typeof l == "string") {
                    if (!_.test(l)) {
                        l = b.createTextNode(l)
                    } else {
                        l = l.replace(Y, "<$1></$2>");
                        var m = (Z.exec(l) || ["", ""])[1].toLowerCase(),
                            n = bg[m] || bg._default,
                            o = n[0],
                            p = b.createElement("div"),
                            q = bh.childNodes,
                            r;
                        b === c ? bh.appendChild(p) : U(b)
                            .appendChild(p), p.innerHTML = n[1] + l + n[2];
                        while (o--) {
                            p = p.lastChild
                        }
                        if (!f.support.tbody) {
                            var s = $.test(l),
                                t = m === "table" && !s ? p.firstChild && p.firstChild.childNodes : n[1] === "<table>" && !s ? p.childNodes : [];
                            for (i = t.length - 1; i >= 0; --i) {
                                f.nodeName(t[i], "tbody") && !t[i].childNodes.length && t[i].parentNode.removeChild(t[i])
                            }
                        }!f.support.leadingWhitespace && X.test(l) && p.insertBefore(b.createTextNode(X.exec(l)[0]), p.firstChild), l = p.childNodes,
                            p && (p.parentNode.removeChild(p), q.length > 0 && (r = q[q.length - 1], r && r.parentNode && r.parentNode.removeChild(
                                r)))
                    }
                }
                var u;
                if (!f.support.appendChecked) {
                    if (l[0] && typeof (u = l.length) == "number") {
                        for (i = 0; i < u; i++) {
                            bn(l[i])
                        }
                    } else {
                        bn(l)
                    }
                }
                l.nodeType ? j.push(l) : j = f.merge(j, l)
            }
            if (d) {
                g = function (a) {
                    return !a.type || be.test(a.type)
                };
                for (k = 0; j[k]; k++) {
                    h = j[k];
                    if (e && f.nodeName(h, "script") && (!h.type || be.test(h.type))) {
                        e.push(h.parentNode ? h.parentNode.removeChild(h) : h)
                    } else {
                        if (h.nodeType === 1) {
                            var v = f.grep(h.getElementsByTagName("script"), g);
                            j.splice.apply(j, [k + 1, 0].concat(v))
                        }
                        d.appendChild(h)
                    }
                }
            }
            return j
        },
        cleanData: function (a) {
            var b, c, d = f.cache,
                e = f.event.special,
                g = f.support.deleteExpando;
            for (var h = 0, i;
                (i = a[h]) != null; h++) {
                if (i.nodeName && f.noData[i.nodeName.toLowerCase()]) {
                    continue
                }
                c = i[f.expando];
                if (c) {
                    b = d[c];
                    if (b && b.events) {
                        for (var j in b.events) {
                            e[j] ? f.event.remove(i, j) : f.removeEvent(i, j, b.handle)
                        }
                        b.handle && (b.handle.elem = null)
                    }
                    g ? delete i[f.expando] : i.removeAttribute && i.removeAttribute(f.expando), delete d[c]
                }
            }
        }
    });
    var bp = /alpha\([^)]*\)/i,
        bq = /opacity=([^)]*)/,
        br = /([A-Z]|^ms)/g,
        bs = /^[\-+]?(?:\d*\.)?\d+$/i,
        bt = /^-?(?:\d*\.)?\d+(?!px)[^\d\s]+$/i,
        bu = /^([\-+])=([\-+.\de]+)/,
        bv = /^margin/,
        bw = {
            position: "absolute",
            visibility: "hidden",
            display: "block"
        },
        bx = ["Top", "Right", "Bottom", "Left"],
        by, bz, bA;
    f.fn.css = function (a, c) {
        return f.access(this, function (a, c, d) {
            return d !== b ? f.style(a, c, d) : f.css(a, c)
        }, a, c, arguments.length > 1)
    }, f.extend({
        cssHooks: {
            opacity: {
                get: function (a, b) {
                    if (b) {
                        var c = by(a, "opacity");
                        return c === "" ? "1" : c
                    }
                    return a.style.opacity
                }
            }
        },
        cssNumber: {
            fillOpacity: !0,
            fontWeight: !0,
            lineHeight: !0,
            opacity: !0,
            orphans: !0,
            widows: !0,
            zIndex: !0,
            zoom: !0
        },
        cssProps: {
            "float": f.support.cssFloat ? "cssFloat" : "styleFloat"
        },
        style: function (a, c, d, e) {
            if (!!a && a.nodeType !== 3 && a.nodeType !== 8 && !!a.style) {
                var g, h, i = f.camelCase(c),
                    j = a.style,
                    k = f.cssHooks[i];
                c = f.cssProps[i] || i;
                if (d === b) {
                    if (k && "get" in k && (g = k.get(a, !1, e)) !== b) {
                        return g
                    }
                    return j[c]
                }
                h = typeof d, h === "string" && (g = bu.exec(d)) && (d = +(g[1] + 1) * +g[2] + parseFloat(f.css(a, c)), h = "number");
                if (d == null || h === "number" && isNaN(d)) {
                    return
                }
                h === "number" && !f.cssNumber[i] && (d += "px");
                if (!k || !("set" in k) || (d = k.set(a, d)) !== b) {
                    try {
                        j[c] = d
                    } catch (l) {}
                }
            }
        },
        css: function (a, c, d) {
            var e, g;
            c = f.camelCase(c), g = f.cssHooks[c], c = f.cssProps[c] || c, c === "cssFloat" && (c = "float");
            if (g && "get" in g && (e = g.get(a, !0, d)) !== b) {
                return e
            }
            if (by) {
                return by(a, c)
            }
        },
        swap: function (a, b, c) {
            var d = {},
                e, f;
            for (f in b) {
                d[f] = a.style[f], a.style[f] = b[f]
            }
            e = c.call(a);
            for (f in b) {
                a.style[f] = d[f]
            }
            return e
        }
    }), f.curCSS = f.css, c.defaultView && c.defaultView.getComputedStyle && (bz = function (a, b) {
        var c, d, e, g, h = a.style;
        b = b.replace(br, "-$1")
            .toLowerCase(), (d = a.ownerDocument.defaultView) && (e = d.getComputedStyle(a, null)) && (c = e.getPropertyValue(b), c === "" && !f.contains(
                a.ownerDocument.documentElement, a) && (c = f.style(a, b))), !f.support.pixelMargin && e && bv.test(b) && bt.test(c) && (g = h.width,
                h.width = c, c = e.width, h.width = g);
        return c
    }), c.documentElement.currentStyle && (bA = function (a, b) {
        var c, d, e, f = a.currentStyle && a.currentStyle[b],
            g = a.style;
        f == null && g && (e = g[b]) && (f = e), bt.test(f) && (c = g.left, d = a.runtimeStyle && a.runtimeStyle.left, d && (a.runtimeStyle.left =
            a.currentStyle.left), g.left = b === "fontSize" ? "1em" : f, f = g.pixelLeft + "px", g.left = c, d && (a.runtimeStyle.left = d));
        return f === "" ? "auto" : f
    }), by = bz || bA, f.each(["height", "width"], function (a, b) {
        f.cssHooks[b] = {
            get: function (a, c, d) {
                if (c) {
                    return a.offsetWidth !== 0 ? bB(a, b, d) : f.swap(a, bw, function () {
                        return bB(a, b, d)
                    })
                }
            },
            set: function (a, b) {
                return bs.test(b) ? b + "px" : b
            }
        }
    }), f.support.opacity || (f.cssHooks.opacity = {
        get: function (a, b) {
            return bq.test((b && a.currentStyle ? a.currentStyle.filter : a.style.filter) || "") ? parseFloat(RegExp.$1) / 100 + "" : b ? "1" :
                ""
        },
        set: function (a, b) {
            var c = a.style,
                d = a.currentStyle,
                e = f.isNumeric(b) ? "alpha(opacity=" + b * 100 + ")" : "",
                g = d && d.filter || c.filter || "";
            c.zoom = 1;
            if (b >= 1 && f.trim(g.replace(bp, "")) === "") {
                c.removeAttribute("filter");
                if (d && !d.filter) {
                    return
                }
            }
            c.filter = bp.test(g) ? g.replace(bp, e) : g + " " + e
        }
    }), f(function () {
        f.support.reliableMarginRight || (f.cssHooks.marginRight = {
            get: function (a, b) {
                return f.swap(a, {
                    display: "inline-block"
                }, function () {
                    return b ? by(a, "margin-right") : a.style.marginRight
                })
            }
        })
    }), f.expr && f.expr.filters && (f.expr.filters.hidden = function (a) {
        var b = a.offsetWidth,
            c = a.offsetHeight;
        return b === 0 && c === 0 || !f.support.reliableHiddenOffsets && (a.style && a.style.display || f.css(a, "display")) === "none"
    }, f.expr.filters.visible = function (a) {
        return !f.expr.filters.hidden(a)
    }), f.each({
        margin: "",
        padding: "",
        border: "Width"
    }, function (a, b) {
        f.cssHooks[a + b] = {
            expand: function (c) {
                var d, e = typeof c == "string" ? c.split(" ") : [c],
                    f = {};
                for (d = 0; d < 4; d++) {
                    f[a + bx[d] + b] = e[d] || e[d - 2] || e[0]
                }
                return f
            }
        }
    });
    var bC = /%20/g,
        bD = /\[\]$/,
        bE = /\r?\n/g,
        bF = /#.*$/,
        bG = /^(.*?):[ \t]*([^\r\n]*)\r?$/mg,
        bH = /^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,
        bI = /^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,
        bJ = /^(?:GET|HEAD)$/,
        bK = /^\/\//,
        bL = /\?/,
        bM = /<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,
        bN = /^(?:select|textarea)/i,
        bO = /\s+/,
        bP = /([?&])_=[^&]*/,
        bQ = /^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,
        bR = f.fn.load,
        bS = {},
        bT = {},
        bU, bV, bW = ["*/"] + ["*"];
    try {
        bU = e.href
    } catch (bX) {
        bU = c.createElement("a"), bU.href = "", bU = bU.href
    }
    bV = bQ.exec(bU.toLowerCase()) || [], f.fn.extend({
        load: function (a, c, d) {
            if (typeof a != "string" && bR) {
                return bR.apply(this, arguments)
            }
            if (!this.length) {
                return this
            }
            var e = a.indexOf(" ");
            if (e >= 0) {
                var g = a.slice(e, a.length);
                a = a.slice(0, e)
            }
            var h = "GET";
            c && (f.isFunction(c) ? (d = c, c = b) : typeof c == "object" && (c = f.param(c, f.ajaxSettings.traditional), h = "POST"));
            var i = this;
            f.ajax({
                url: a,
                type: h,
                dataType: "html",
                data: c,
                complete: function (a, b, c) {
                    c = a.responseText, a.isResolved() && (a.done(function (a) {
                        c = a
                    }), i.html(g ? f("<div>")
                        .append(c.replace(bM, ""))
                        .find(g) : c)), d && i.each(d, [c, b, a])
                }
            });
            return this
        },
        serialize: function () {
            return f.param(this.serializeArray())
        },
        serializeArray: function () {
            return this.map(function () {
                    return this.elements ? f.makeArray(this.elements) : this
                })
                .filter(function () {
                    return this.name && !this.disabled && (this.checked || bN.test(this.nodeName) || bH.test(this.type))
                })
                .map(function (a, b) {
                    var c = f(this)
                        .val();
                    return c == null ? null : f.isArray(c) ? f.map(c, function (a, c) {
                        return {
                            name: b.name,
                            value: a.replace(bE, "\r\n")
                        }
                    }) : {
                        name: b.name,
                        value: c.replace(bE, "\r\n")
                    }
                })
                .get()
        }
    }), f.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "), function (a, b) {
        f.fn[b] = function (a) {
            return this.on(b, a)
        }
    }), f.each(["get", "post"], function (a, c) {
        f[c] = function (a, d, e, g) {
            f.isFunction(d) && (g = g || e, e = d, d = b);
            return f.ajax({
                type: c,
                url: a,
                data: d,
                success: e,
                dataType: g
            })
        }
    }), f.extend({
        getScript: function (a, c) {
            return f.get(a, b, c, "script")
        },
        getJSON: function (a, b, c) {
            return f.get(a, b, c, "json")
        },
        ajaxSetup: function (a, b) {
            b ? b$(a, f.ajaxSettings) : (b = a, a = f.ajaxSettings), b$(a, b);
            return a
        },
        ajaxSettings: {
            url: bU,
            isLocal: bI.test(bV[1]),
            global: !0,
            type: "GET",
            contentType: "application/x-www-form-urlencoded; charset=UTF-8",
            processData: !0,
            async: !0,
            accepts: {
                xml: "application/xml, text/xml",
                html: "text/html",
                text: "text/plain",
                json: "application/json, text/javascript",
                "*": bW
            },
            contents: {
                xml: /xml/,
                html: /html/,
                json: /json/
            },
            responseFields: {
                xml: "responseXML",
                text: "responseText"
            },
            converters: {
                "* text": a.String,
                "text html": !0,
                "text json": f.parseJSON,
                "text xml": f.parseXML
            },
            flatOptions: {
                context: !0,
                url: !0
            }
        },
        ajaxPrefilter: bY(bS),
        ajaxTransport: bY(bT),
        ajax: function (a, c) {
            function w(a, c, l, m) {
                if (s !== 2) {
                    s = 2, q && clearTimeout(q), p = b, n = m || "", v.readyState = a > 0 ? 4 : 0;
                    var o, r, u, w = c,
                        x = l ? ca(d, v, l) : b,
                        y, z;
                    if (a >= 200 && a < 300 || a === 304) {
                        if (d.ifModified) {
                            if (y = v.getResponseHeader("Last-Modified")) {
                                f.lastModified[k] = y
                            }
                            if (z = v.getResponseHeader("Etag")) {
                                f.etag[k] = z
                            }
                        }
                        if (a === 304) {
                            w = "notmodified", o = !0
                        } else {
                            try {
                                r = cb(d, x), w = "success", o = !0
                            } catch (A) {
                                w = "parsererror", u = A
                            }
                        }
                    } else {
                        u = w;
                        if (!w || a) {
                            w = "error", a < 0 && (a = 0)
                        }
                    }
                    v.status = a, v.statusText = "" + (c || w), o ? h.resolveWith(e, [r, w, v]) : h.rejectWith(e, [v, w, u]), v.statusCode(
                        j), j = b, t && g.trigger("ajax" + (o ? "Success" : "Error"), [v, d, o ? r : u]), i.fireWith(e, [v, w]), t && (
                        g.trigger("ajaxComplete", [v, d]), --f.active || f.event.trigger("ajaxStop"))
                }
            }
            typeof a == "object" && (c = a, a = b), c = c || {};
            var d = f.ajaxSetup({}, c),
                e = d.context || d,
                g = e !== d && (e.nodeType || e instanceof f) ? f(e) : f.event,
                h = f.Deferred(),
                i = f.Callbacks("once memory"),
                j = d.statusCode || {},
                k, l = {},
                m = {},
                n, o, p, q, r, s = 0,
                t, u, v = {
                    readyState: 0,
                    setRequestHeader: function (a, b) {
                        if (!s) {
                            var c = a.toLowerCase();
                            a = m[c] = m[c] || a, l[a] = b
                        }
                        return this
                    },
                    getAllResponseHeaders: function () {
                        return s === 2 ? n : null
                    },
                    getResponseHeader: function (a) {
                        var c;
                        if (s === 2) {
                            if (!o) {
                                o = {};
                                while (c = bG.exec(n)) {
                                    o[c[1].toLowerCase()] = c[2]
                                }
                            }
                            c = o[a.toLowerCase()]
                        }
                        return c === b ? null : c
                    },
                    overrideMimeType: function (a) {
                        s || (d.mimeType = a);
                        return this
                    },
                    abort: function (a) {
                        a = a || "abort", p && p.abort(a), w(0, a);
                        return this
                    }
                };
            h.promise(v), v.success = v.done, v.error = v.fail, v.complete = i.add, v.statusCode = function (a) {
                    if (a) {
                        var b;
                        if (s < 2) {
                            for (b in a) {
                                j[b] = [j[b], a[b]]
                            }
                        } else {
                            b = a[v.status], v.then(b, b)
                        }
                    }
                    return this
                }, d.url = ((a || d.url) + "")
                .replace(bF, "")
                .replace(bK, bV[1] + "//"), d.dataTypes = f.trim(d.dataType || "*")
                .toLowerCase()
                .split(bO), d.crossDomain == null && (r = bQ.exec(d.url.toLowerCase()), d.crossDomain = !(!r || r[1] == bV[1] && r[2] == bV[2] &&
                    (r[3] || (r[1] === "http:" ? 80 : 443)) == (bV[3] || (bV[1] === "http:" ? 80 : 443)))), d.data && d.processData && typeof d
                .data != "string" && (d.data = f.param(d.data, d.traditional)), bZ(bS, d, c, v);
            if (s === 2) {
                return !1
            }
            t = d.global, d.type = d.type.toUpperCase(), d.hasContent = !bJ.test(d.type), t && f.active++ === 0 && f.event.trigger("ajaxStart");
            if (!d.hasContent) {
                d.data && (d.url += (bL.test(d.url) ? "&" : "?") + d.data, delete d.data), k = d.url;
                if (d.cache === !1) {
                    var x = f.now(),
                        y = d.url.replace(bP, "$1_=" + x);
                    d.url = y + (y === d.url ? (bL.test(d.url) ? "&" : "?") + "_=" + x : "")
                }
            }(d.data && d.hasContent && d.contentType !== !1 || c.contentType) && v.setRequestHeader("Content-Type", d.contentType), d.ifModified &&
                (k = k || d.url, f.lastModified[k] && v.setRequestHeader("If-Modified-Since", f.lastModified[k]), f.etag[k] && v.setRequestHeader(
                    "If-None-Match", f.etag[k])), v.setRequestHeader("Accept", d.dataTypes[0] && d.accepts[d.dataTypes[0]] ? d.accepts[d.dataTypes[
                    0]] + (d.dataTypes[0] !== "*" ? ", " + bW + "; q=0.01" : "") : d.accepts["*"]);
            for (u in d.headers) {
                v.setRequestHeader(u, d.headers[u])
            }
            if (d.beforeSend && (d.beforeSend.call(e, v, d) === !1 || s === 2)) {
                v.abort();
                return !1
            }
            for (u in {
                    success: 1,
                    error: 1,
                    complete: 1
                }) {
                v[u](d[u])
            }
            p = bZ(bT, d, c, v);
            if (!p) {
                w(-1, "No Transport")
            } else {
                v.readyState = 1, t && g.trigger("ajaxSend", [v, d]), d.async && d.timeout > 0 && (q = setTimeout(function () {
                    v.abort("timeout")
                }, d.timeout));
                try {
                    s = 1, p.send(l, w)
                } catch (z) {
                    if (s < 2) {
                        w(-1, z)
                    } else {
                        throw z
                    }
                }
            }
            return v
        },
        param: function (a, c) {
            var d = [],
                e = function (a, b) {
                    b = f.isFunction(b) ? b() : b, d[d.length] = encodeURIComponent(a) + "=" + encodeURIComponent(b)
                };
            c === b && (c = f.ajaxSettings.traditional);
            if (f.isArray(a) || a.jquery && !f.isPlainObject(a)) {
                f.each(a, function () {
                    e(this.name, this.value)
                })
            } else {
                for (var g in a) {
                    b_(g, a[g], c, e)
                }
            }
            return d.join("&")
                .replace(bC, "+")
        }
    }), f.extend({
        active: 0,
        lastModified: {},
        etag: {}
    });
    var cc = f.now(),
        cd = /(\=)\?(&|$)|\?\?/i;
    f.ajaxSetup({
        jsonp: "callback",
        jsonpCallback: function () {
            return f.expando + "_" + cc++
        }
    }), f.ajaxPrefilter("json jsonp", function (b, c, d) {
        var e = typeof b.data == "string" && /^application\/x\-www\-form\-urlencoded/.test(b.contentType);
        if (b.dataTypes[0] === "jsonp" || b.jsonp !== !1 && (cd.test(b.url) || e && cd.test(b.data))) {
            var g, h = b.jsonpCallback = f.isFunction(b.jsonpCallback) ? b.jsonpCallback() : b.jsonpCallback,
                i = a[h],
                j = b.url,
                k = b.data,
                l = "$1" + h + "$2";
            b.jsonp !== !1 && (j = j.replace(cd, l), b.url === j && (e && (k = k.replace(cd, l)), b.data === k && (j += (/\?/.test(j) ? "&" : "?") +
                b.jsonp + "=" + h))), b.url = j, b.data = k, a[h] = function (a) {
                g = [a]
            }, d.always(function () {
                a[h] = i, g && f.isFunction(i) && a[h](g[0])
            }), b.converters["script json"] = function () {
                g || f.error(h + " was not called");
                return g[0]
            }, b.dataTypes[0] = "json";
            return "script"
        }
    }), f.ajaxSetup({
        accepts: {
            script: "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"
        },
        contents: {
            script: /javascript|ecmascript/
        },
        converters: {
            "text script": function (a) {
                f.globalEval(a);
                return a
            }
        }
    }), f.ajaxPrefilter("script", function (a) {
        a.cache === b && (a.cache = !1), a.crossDomain && (a.type = "GET", a.global = !1)
    }), f.ajaxTransport("script", function (a) {
        if (a.crossDomain) {
            var d, e = c.head || c.getElementsByTagName("head")[0] || c.documentElement;
            return {
                send: function (f, g) {
                    d = c.createElement("script"), d.async = "async", a.scriptCharset && (d.charset = a.scriptCharset), d.src = a.url, d.onload =
                        d.onreadystatechange = function (a, c) {
                            if (c || !d.readyState || /loaded|complete/.test(d.readyState)) {
                                d.onload = d.onreadystatechange = null, e && d.parentNode && e.removeChild(d), d = b, c || g(200, "success")
                            }
                        }, e.insertBefore(d, e.firstChild)
                },
                abort: function () {
                    d && d.onload(0, 1)
                }
            }
        }
    });
    var ce = a.ActiveXObject ? function () {
            for (var a in cg) {
                cg[a](0, 1)
            }
        } : !1,
        cf = 0,
        cg;
    f.ajaxSettings.xhr = a.ActiveXObject ? function () {
            return !this.isLocal && ch() || ci()
        } : ch,
        function (a) {
            f.extend(f.support, {
                ajax: !!a,
                cors: !!a && "withCredentials" in a
            })
        }(f.ajaxSettings.xhr()), f.support.ajax && f.ajaxTransport(function (c) {
            if (!c.crossDomain || f.support.cors) {
                var d;
                return {
                    send: function (e, g) {
                        var h = c.xhr(),
                            i, j;
                        c.username ? h.open(c.type, c.url, c.async, c.username, c.password) : h.open(c.type, c.url, c.async);
                        if (c.xhrFields) {
                            for (j in c.xhrFields) {
                                h[j] = c.xhrFields[j]
                            }
                        }
                        c.mimeType && h.overrideMimeType && h.overrideMimeType(c.mimeType), !c.crossDomain && !e["X-Requested-With"] && (e[
                            "X-Requested-With"] = "XMLHttpRequest");
                        try {
                            for (j in e) {
                                h.setRequestHeader(j, e[j])
                            }
                        } catch (k) {}
                        h.send(c.hasContent && c.data || null), d = function (a, e) {
                            var j, k, l, m, n;
                            try {
                                if (d && (e || h.readyState === 4)) {
                                    d = b, i && (h.onreadystatechange = f.noop, ce && delete cg[i]);
                                    if (e) {
                                        h.readyState !== 4 && h.abort()
                                    } else {
                                        j = h.status, l = h.getAllResponseHeaders(), m = {}, n = h.responseXML, n && n.documentElement && (m.xml =
                                            n);
                                        try {
                                            m.text = h.responseText
                                        } catch (a) {}
                                        try {
                                            k = h.statusText
                                        } catch (o) {
                                            k = ""
                                        }!j && c.isLocal && !c.crossDomain ? j = m.text ? 200 : 404 : j === 1223 && (j = 204)
                                    }
                                }
                            } catch (p) {
                                e || g(-1, p)
                            }
                            m && g(j, k, m, l)
                        }, !c.async || h.readyState === 4 ? d() : (i = ++cf, ce && (cg || (cg = {}, f(a)
                            .unload(ce)), cg[i] = d), h.onreadystatechange = d)
                    },
                    abort: function () {
                        d && d(0, 1)
                    }
                }
            }
        });
    var cj = {},
        ck, cl, cm = /^(?:toggle|show|hide)$/,
        cn = /^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,
        co, cp = [["height", "marginTop", "marginBottom", "paddingTop", "paddingBottom"], ["width", "marginLeft", "marginRight", "paddingLeft",
            "paddingRight"], ["opacity"]],
        cq;
    f.fn.extend({
        show: function (a, b, c) {
            var d, e;
            if (a || a === 0) {
                return this.animate(ct("show", 3), a, b, c)
            }
            for (var g = 0, h = this.length; g < h; g++) {
                d = this[g], d.style && (e = d.style.display, !f._data(d, "olddisplay") && e === "none" && (e = d.style.display = ""), (e ===
                    "" && f.css(d, "display") === "none" || !f.contains(d.ownerDocument.documentElement, d)) && f._data(d, "olddisplay",
                    cu(d.nodeName)))
            }
            for (g = 0; g < h; g++) {
                d = this[g];
                if (d.style) {
                    e = d.style.display;
                    if (e === "" || e === "none") {
                        d.style.display = f._data(d, "olddisplay") || ""
                    }
                }
            }
            return this
        },
        hide: function (a, b, c) {
            if (a || a === 0) {
                return this.animate(ct("hide", 3), a, b, c)
            }
            var d, e, g = 0,
                h = this.length;
            for (; g < h; g++) {
                d = this[g], d.style && (e = f.css(d, "display"), e !== "none" && !f._data(d, "olddisplay") && f._data(d, "olddisplay", e))
            }
            for (g = 0; g < h; g++) {
                this[g].style && (this[g].style.display = "none")
            }
            return this
        },
        _toggle: f.fn.toggle,
        toggle: function (a, b, c) {
            var d = typeof a == "boolean";
            f.isFunction(a) && f.isFunction(b) ? this._toggle.apply(this, arguments) : a == null || d ? this.each(function () {
                var b = d ? a : f(this)
                    .is(":hidden");
                f(this)[b ? "show" : "hide"]()
            }) : this.animate(ct("toggle", 3), a, b, c);
            return this
        },
        fadeTo: function (a, b, c, d) {
            return this.filter(":hidden")
                .css("opacity", 0)
                .show()
                .end()
                .animate({
                    opacity: b
                }, a, c, d)
        },
        animate: function (a, b, c, d) {
            function g() {
                e.queue === !1 && f._mark(this);
                var b = f.extend({}, e),
                    c = this.nodeType === 1,
                    d = c && f(this)
                    .is(":hidden"),
                    g, h, i, j, k, l, m, n, o, p, q;
                b.animatedProperties = {};
                for (i in a) {
                    g = f.camelCase(i), i !== g && (a[g] = a[i], delete a[i]);
                    if ((k = f.cssHooks[g]) && "expand" in k) {
                        l = k.expand(a[g]), delete a[g];
                        for (i in l) {
                            i in a || (a[i] = l[i])
                        }
                    }
                }
                for (g in a) {
                    h = a[g], f.isArray(h) ? (b.animatedProperties[g] = h[1], h = a[g] = h[0]) : b.animatedProperties[g] = b.specialEasing &&
                        b.specialEasing[g] || b.easing || "swing";
                    if (h === "hide" && d || h === "show" && !d) {
                        return b.complete.call(this)
                    }
                    c && (g === "height" || g === "width") && (b.overflow = [this.style.overflow, this.style.overflowX, this.style.overflowY],
                        f.css(this, "display") === "inline" && f.css(this, "float") === "none" && (!f.support.inlineBlockNeedsLayout ||
                            cu(this.nodeName) === "inline" ? this.style.display = "inline-block" : this.style.zoom = 1))
                }
                b.overflow != null && (this.style.overflow = "hidden");
                for (i in a) {
                    j = new f.fx(this, b, i), h = a[i], cm.test(h) ? (q = f._data(this, "toggle" + i) || (h === "toggle" ? d ? "show" :
                        "hide" : 0), q ? (f._data(this, "toggle" + i, q === "show" ? "hide" : "show"), j[q]()) : j[h]()) : (m = cn.exec(
                        h), n = j.cur(), m ? (o = parseFloat(m[2]), p = m[3] || (f.cssNumber[i] ? "" : "px"), p !== "px" && (f.style(
                        this, i, (o || 1) + p), n = (o || 1) / j.cur() * n, f.style(this, i, n + p)), m[1] && (o = (m[1] ===
                        "-=" ? -1 : 1) * o + n), j.custom(n, o, p)) : j.custom(n, h, ""))
                }
                return !0
            }
            var e = f.speed(b, c, d);
            if (f.isEmptyObject(a)) {
                return this.each(e.complete, [!1])
            }
            a = f.extend({}, a);
            return e.queue === !1 ? this.each(g) : this.queue(e.queue, g)
        },
        stop: function (a, c, d) {
            typeof a != "string" && (d = c, c = a, a = b), c && a !== !1 && this.queue(a || "fx", []);
            return this.each(function () {
                function h(a, b, c) {
                    var e = b[c];
                    f.removeData(a, c, !0), e.stop(d)
                }
                var b, c = !1,
                    e = f.timers,
                    g = f._data(this);
                d || f._unmark(!0, this);
                if (a == null) {
                    for (b in g) {
                        g[b] && g[b].stop && b.indexOf(".run") === b.length - 4 && h(this, g, b)
                    }
                } else {
                    g[b = a + ".run"] && g[b].stop && h(this, g, b)
                }
                for (b = e.length; b--;) {
                    e[b].elem === this && (a == null || e[b].queue === a) && (d ? e[b](!0) : e[b].saveState(), c = !0, e.splice(b, 1))
                }(!d || !c) && f.dequeue(this, a)
            })
        }
    }), f.each({
        slideDown: ct("show", 1),
        slideUp: ct("hide", 1),
        slideToggle: ct("toggle", 1),
        fadeIn: {
            opacity: "show"
        },
        fadeOut: {
            opacity: "hide"
        },
        fadeToggle: {
            opacity: "toggle"
        }
    }, function (a, b) {
        f.fn[a] = function (a, c, d) {
            return this.animate(b, a, c, d)
        }
    }), f.extend({
        speed: function (a, b, c) {
            var d = a && typeof a == "object" ? f.extend({}, a) : {
                complete: c || !c && b || f.isFunction(a) && a,
                duration: a,
                easing: c && b || b && !f.isFunction(b) && b
            };
            d.duration = f.fx.off ? 0 : typeof d.duration == "number" ? d.duration : d.duration in f.fx.speeds ? f.fx.speeds[d.duration] : f.fx
                .speeds._default;
            if (d.queue == null || d.queue === !0) {
                d.queue = "fx"
            }
            d.old = d.complete, d.complete = function (a) {
                f.isFunction(d.old) && d.old.call(this), d.queue ? f.dequeue(this, d.queue) : a !== !1 && f._unmark(this)
            };
            return d
        },
        easing: {
            linear: function (a) {
                return a
            },
            swing: function (a) {
                return -Math.cos(a * Math.PI) / 2 + 0.5
            }
        },
        timers: [],
        fx: function (a, b, c) {
            this.options = b, this.elem = a, this.prop = c, b.orig = b.orig || {}
        }
    }), f.fx.prototype = {
        update: function () {
            this.options.step && this.options.step.call(this.elem, this.now, this), (f.fx.step[this.prop] || f.fx.step._default)(this)
        },
        cur: function () {
            if (this.elem[this.prop] != null && (!this.elem.style || this.elem.style[this.prop] == null)) {
                return this.elem[this.prop]
            }
            var a, b = f.css(this.elem, this.prop);
            return isNaN(a = parseFloat(b)) ? !b || b === "auto" ? 0 : b : a
        },
        custom: function (a, c, d) {
            function h(a) {
                return e.step(a)
            }
            var e = this,
                g = f.fx;
            this.startTime = cq || cr(), this.end = c, this.now = this.start = a, this.pos = this.state = 0, this.unit = d || this.unit || (f.cssNumber[
                this.prop] ? "" : "px"), h.queue = this.options.queue, h.elem = this.elem, h.saveState = function () {
                f._data(e.elem, "fxshow" + e.prop) === b && (e.options.hide ? f._data(e.elem, "fxshow" + e.prop, e.start) : e.options.show && f
                    ._data(e.elem, "fxshow" + e.prop, e.end))
            }, h() && f.timers.push(h) && !co && (co = setInterval(g.tick, g.interval))
        },
        show: function () {
            var a = f._data(this.elem, "fxshow" + this.prop);
            this.options.orig[this.prop] = a || f.style(this.elem, this.prop), this.options.show = !0, a !== b ? this.custom(this.cur(), a) : this.custom(
                    this.prop === "width" || this.prop === "height" ? 1 : 0, this.cur()), f(this.elem)
                .show()
        },
        hide: function () {
            this.options.orig[this.prop] = f._data(this.elem, "fxshow" + this.prop) || f.style(this.elem, this.prop), this.options.hide = !0, this.custom(
                this.cur(), 0)
        },
        step: function (a) {
            var b, c, d, e = cq || cr(),
                g = !0,
                h = this.elem,
                i = this.options;
            if (a || e >= i.duration + this.startTime) {
                this.now = this.end, this.pos = this.state = 1, this.update(), i.animatedProperties[this.prop] = !0;
                for (b in i.animatedProperties) {
                    i.animatedProperties[b] !== !0 && (g = !1)
                }
                if (g) {
                    i.overflow != null && !f.support.shrinkWrapBlocks && f.each(["", "X", "Y"], function (a, b) {
                            h.style["overflow" + b] = i.overflow[a]
                        }), i.hide && f(h)
                        .hide();
                    if (i.hide || i.show) {
                        for (b in i.animatedProperties) {
                            f.style(h, b, i.orig[b]), f.removeData(h, "fxshow" + b, !0), f.removeData(h, "toggle" + b, !0)
                        }
                    }
                    d = i.complete, d && (i.complete = !1, d.call(h))
                }
                return !1
            }
            i.duration == Infinity ? this.now = e : (c = e - this.startTime, this.state = c / i.duration, this.pos = f.easing[i.animatedProperties[
                this.prop]](this.state, c, 0, 1, i.duration), this.now = this.start + (this.end - this.start) * this.pos), this.update();
            return !0
        }
    }, f.extend(f.fx, {
        tick: function () {
            var a, b = f.timers,
                c = 0;
            for (; c < b.length; c++) {
                a = b[c], !a() && b[c] === a && b.splice(c--, 1)
            }
            b.length || f.fx.stop()
        },
        interval: 13,
        stop: function () {
            clearInterval(co), co = null
        },
        speeds: {
            slow: 600,
            fast: 200,
            _default: 400
        },
        step: {
            opacity: function (a) {
                f.style(a.elem, "opacity", a.now)
            },
            _default: function (a) {
                a.elem.style && a.elem.style[a.prop] != null ? a.elem.style[a.prop] = a.now + a.unit : a.elem[a.prop] = a.now
            }
        }
    }), f.each(cp.concat.apply([], cp), function (a, b) {
        b.indexOf("margin") && (f.fx.step[b] = function (a) {
            f.style(a.elem, b, Math.max(0, a.now) + a.unit)
        })
    }), f.expr && f.expr.filters && (f.expr.filters.animated = function (a) {
        return f.grep(f.timers, function (b) {
                return a === b.elem
            })
            .length
    });
    var cv, cw = /^t(?:able|d|h)$/i,
        cx = /^(?:body|html)$/i;
    "getBoundingClientRect" in c.documentElement ? cv = function (a, b, c, d) {
        try {
            d = a.getBoundingClientRect()
        } catch (e) {}
        if (!d || !f.contains(c, a)) {
            return d ? {
                top: d.top,
                left: d.left
            } : {
                top: 0,
                left: 0
            }
        }
        var g = b.body,
            h = cy(b),
            i = c.clientTop || g.clientTop || 0,
            j = c.clientLeft || g.clientLeft || 0,
            k = h.pageYOffset || f.support.boxModel && c.scrollTop || g.scrollTop,
            l = h.pageXOffset || f.support.boxModel && c.scrollLeft || g.scrollLeft,
            m = d.top + k - i,
            n = d.left + l - j;
        return {
            top: m,
            left: n
        }
    } : cv = function (a, b, c) {
        var d, e = a.offsetParent,
            g = a,
            h = b.body,
            i = b.defaultView,
            j = i ? i.getComputedStyle(a, null) : a.currentStyle,
            k = a.offsetTop,
            l = a.offsetLeft;
        while ((a = a.parentNode) && a !== h && a !== c) {
            if (f.support.fixedPosition && j.position === "fixed") {
                break
            }
            d = i ? i.getComputedStyle(a, null) : a.currentStyle, k -= a.scrollTop, l -= a.scrollLeft, a === e && (k += a.offsetTop, l += a.offsetLeft,
                    f.support.doesNotAddBorder && (!f.support.doesAddBorderForTableAndCells || !cw.test(a.nodeName)) && (k += parseFloat(d.borderTopWidth) ||
                        0, l += parseFloat(d.borderLeftWidth) || 0), g = e, e = a.offsetParent), f.support.subtractsBorderForOverflowNotVisible && d.overflow !==
                "visible" && (k += parseFloat(d.borderTopWidth) || 0, l += parseFloat(d.borderLeftWidth) || 0), j = d
        }
        if (j.position === "relative" || j.position === "static") {
            k += h.offsetTop, l += h.offsetLeft
        }
        f.support.fixedPosition && j.position === "fixed" && (k += Math.max(c.scrollTop, h.scrollTop), l += Math.max(c.scrollLeft, h.scrollLeft));
        return {
            top: k,
            left: l
        }
    }, f.fn.offset = function (a) {
        if (arguments.length) {
            return a === b ? this : this.each(function (b) {
                f.offset.setOffset(this, a, b)
            })
        }
        var c = this[0],
            d = c && c.ownerDocument;
        if (!d) {
            return null
        }
        if (c === d.body) {
            return f.offset.bodyOffset(c)
        }
        return cv(c, d, d.documentElement)
    }, f.offset = {
        bodyOffset: function (a) {
            var b = a.offsetTop,
                c = a.offsetLeft;
            f.support.doesNotIncludeMarginInBodyOffset && (b += parseFloat(f.css(a, "marginTop")) || 0, c += parseFloat(f.css(a, "marginLeft")) ||
                0);
            return {
                top: b,
                left: c
            }
        },
        setOffset: function (a, b, c) {
            var d = f.css(a, "position");
            d === "static" && (a.style.position = "relative");
            var e = f(a),
                g = e.offset(),
                h = f.css(a, "top"),
                i = f.css(a, "left"),
                j = (d === "absolute" || d === "fixed") && f.inArray("auto", [h, i]) > -1,
                k = {},
                l = {},
                m, n;
            j ? (l = e.position(), m = l.top, n = l.left) : (m = parseFloat(h) || 0, n = parseFloat(i) || 0), f.isFunction(b) && (b = b.call(a, c,
                g)), b.top != null && (k.top = b.top - g.top + m), b.left != null && (k.left = b.left - g.left + n), "using" in b ? b.using.call(
                a, k) : e.css(k)
        }
    }, f.fn.extend({
        position: function () {
            if (!this[0]) {
                return null
            }
            var a = this[0],
                b = this.offsetParent(),
                c = this.offset(),
                d = cx.test(b[0].nodeName) ? {
                    top: 0,
                    left: 0
                } : b.offset();
            c.top -= parseFloat(f.css(a, "marginTop")) || 0, c.left -= parseFloat(f.css(a, "marginLeft")) || 0, d.top += parseFloat(f.css(b[0],
                "borderTopWidth")) || 0, d.left += parseFloat(f.css(b[0], "borderLeftWidth")) || 0;
            return {
                top: c.top - d.top,
                left: c.left - d.left
            }
        },
        offsetParent: function () {
            return this.map(function () {
                var a = this.offsetParent || c.body;
                while (a && !cx.test(a.nodeName) && f.css(a, "position") === "static") {
                    a = a.offsetParent
                }
                return a
            })
        }
    }), f.each({
        scrollLeft: "pageXOffset",
        scrollTop: "pageYOffset"
    }, function (a, c) {
        var d = /Y/.test(c);
        f.fn[a] = function (e) {
            return f.access(this, function (a, e, g) {
                var h = cy(a);
                if (g === b) {
                    return h ? c in h ? h[c] : f.support.boxModel && h.document.documentElement[e] || h.document.body[e] : a[e]
                }
                h ? h.scrollTo(d ? f(h)
                    .scrollLeft() : g, d ? g : f(h)
                    .scrollTop()) : a[e] = g
            }, a, e, arguments.length, null)
        }
    }), f.each({
        Height: "height",
        Width: "width"
    }, function (a, c) {
        var d = "client" + a,
            e = "scroll" + a,
            g = "offset" + a;
        f.fn["inner" + a] = function () {
            var a = this[0];
            return a ? a.style ? parseFloat(f.css(a, c, "padding")) : this[c]() : null
        }, f.fn["outer" + a] = function (a) {
            var b = this[0];
            return b ? b.style ? parseFloat(f.css(b, c, a ? "margin" : "border")) : this[c]() : null
        }, f.fn[c] = function (a) {
            return f.access(this, function (a, c, h) {
                var i, j, k, l;
                if (f.isWindow(a)) {
                    i = a.document, j = i.documentElement[d];
                    return f.support.boxModel && j || i.body && i.body[d] || j
                }
                if (a.nodeType === 9) {
                    i = a.documentElement;
                    if (i[d] >= i[e]) {
                        return i[d]
                    }
                    return Math.max(a.body[e], i[e], a.body[g], i[g])
                }
                if (h === b) {
                    k = f.css(a, c), l = parseFloat(k);
                    return f.isNumeric(l) ? l : k
                }
                f(a)
                    .css(c, h)
            }, c, a, arguments.length, null)
        }
    }), a.jQuery = a.$ = f, typeof define == "function" && define.amd && define.amd.jQuery && define("jquery", [], function () {
        return f
    })
})(window);
/*!
 * jQuery.ScrollTo
 * Copyright (c) 2007-2009 Ariel Flesler - aflesler(at)gmail(dot)com | http://flesler.blogspot.com
 * Dual licensed under MIT and GPL.
 * Date: 06/05/2009
 *
 * @projectDescription Easy element scrolling using jQuery.
 * http://flesler.blogspot.com/2007/10/jqueryscrollto.html
 * Works with jQuery +1.2.6. Tested on FF 2/3, IE 6/7/8, Opera 9.5/6, Safari 3, Chrome 1 on WinXP.
 *
 * @author Ariel Flesler
 * @version 1.4.2
 *
 * @id jQuery.scrollTo
 * @id jQuery.fn.scrollTo
 * @param {String, Number, DOMElement, jQuery, Object} target Where to scroll the matched elements.
 *	  The different options for target are:
 *		- A number position (will be applied to all axes).
 *		- A string position ('44', '100px', '+=90', etc ) will be applied to all axes
 *		- A jQuery/DOM element ( logically, child of the element to scroll )
 *		- A string selector, that will be relative to the element to scroll ( 'li:eq(2)', etc )
 *		- A hash { top:x, left:y }, x and y can be any kind of number/string like above.
 *		- A percentage of the container's dimension/s, for example: 50% to go to the middle.
 *		- The string 'max' for go-to-end. 
 * @param {Number, Function} duration The OVERALL length of the animation, this argument can be the settings object instead.
 * @param {Object,Function} settings Optional set of settings or the onAfter callback.
 *	 @option {String} axis Which axis must be scrolled, use 'x', 'y', 'xy' or 'yx'.
 *	 @option {Number, Function} duration The OVERALL length of the animation.
 *	 @option {String} easing The easing method for the animation.
 *	 @option {Boolean} margin If true, the margin of the target element will be deducted from the final position.
 *	 @option {Object, Number} offset Add/deduct from the end position. One number for both axes or { top:x, left:y }.
 *	 @option {Object, Number} over Add/deduct the height/width multiplied by 'over', can be { top:x, left:y } when using both axes.
 *	 @option {Boolean} queue If true, and both axis are given, the 2nd axis will only be animated after the first one ends.
 *	 @option {Function} onAfter Function to be called after the scrolling ends. 
 *	 @option {Function} onAfterFirst If queuing is activated, this function will be called after the first scrolling ends.
 * @return {jQuery} Returns the same jQuery object, for chaining.
 *
 * @desc Scroll to a fixed position
 * @example $('div').scrollTo( 340 );
 *
 * @desc Scroll relatively to the actual position
 * @example $('div').scrollTo( '+=340px', { axis:'y' } );
 *
 * @desc Scroll using a selector (relative to the scrolled element)
 * @example $('div').scrollTo( 'p.paragraph:eq(2)', 500, { easing:'swing', queue:true, axis:'xy' } );
 *
 * @desc Scroll to a DOM element (same for jQuery object)
 * @example var second_child = document.getElementById('container').firstChild.nextSibling;
 *			$('#container').scrollTo( second_child, { duration:500, axis:'x', onAfter:function(){
 *				alert('scrolled!!');																   
 *			}});
 *
 * @desc Scroll on both axes, to different values
 * @example $('div').scrollTo( { top: 300, left:'+=200' }, { axis:'xy', offset:-20 } );
 */
(function (d) {
    var b = d.scrollTo = function (g, f, e) {
        d(window)
            .scrollTo(g, f, e)
    };
    b.defaults = {
        axis: "xy",
        duration: parseFloat(d.fn.jquery) >= 1.3 ? 0 : 1,
        limit: true
    };
    b.window = function (e) {
        return d(window)
            ._scrollable()
    };
    d.fn._scrollable = function () {
        return this.map(function () {
            var f = this,
                e = !f.nodeName || d.inArray(f.nodeName.toLowerCase(), ["iframe", "#document", "html", "body"]) != -1;
            if (!e) {
                return f
            }
            var g = (f.contentWindow || f)
                .document || f.ownerDocument || f;
            return d.browser.safari || g.compatMode == "BackCompat" ? g.body : g.documentElement
        })
    };
    d.fn.scrollTo = function (g, f, e) {
        if (typeof f == "object") {
            e = f;
            f = 0
        }
        if (typeof e == "function") {
            e = {
                onAfter: e
            }
        }
        if (g == "max") {
            g = 9000000000
        }
        e = d.extend({}, b.defaults, e);
        f = f || e.duration;
        e.queue = e.queue && e.axis.length > 1;
        if (e.queue) {
            f /= 2
        }
        e.offset = c(e.offset);
        e.over = c(e.over);
        return this._scrollable()
            .each(function () {
                var o = this,
                    m = d(o),
                    n = g,
                    k, h = {},
                    p = m.is("html,body");
                switch (typeof n) {
                case "number":
                case "string":
                    if (/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(n)) {
                        n = c(n);
                        break
                    }
                    n = d(n, this);
                case "object":
                    if (n.is || n.style) {
                        k = (n = d(n))
                            .offset()
                    }
                }
                d.each(e.axis.split(""), function (u, v) {
                    var w = v == "x" ? "Left" : "Top",
                        y = w.toLowerCase(),
                        t = "scroll" + w,
                        s = o[t],
                        q = b.max(o, v);
                    if (k) {
                        h[t] = k[y] + (p ? 0 : s - m.offset()[y]);
                        if (e.margin) {
                            h[t] -= parseInt(n.css("margin" + w)) || 0;
                            h[t] -= parseInt(n.css("border" + w + "Width")) || 0
                        }
                        h[t] += e.offset[y] || 0;
                        if (e.over[y]) {
                            h[t] += n[v == "x" ? "width" : "height"]() * e.over[y]
                        }
                    } else {
                        var x = n[y];
                        h[t] = x.slice && x.slice(-1) == "%" ? parseFloat(x) / 100 * q : x
                    }
                    if (e.limit && /^\d+$/.test(h[t])) {
                        h[t] = h[t] <= 0 ? 0 : Math.min(h[t], q)
                    }
                    if (!u && e.queue) {
                        if (s != h[t]) {
                            i(e.onAfterFirst)
                        }
                        delete h[t]
                    }
                });
                i(e.onAfter);

                function i(q) {
                    m.animate(h, f, e.easing, q && function () {
                        q.call(this, g, e)
                    })
                }
            })
            .end()
    };
    b.max = function (m, k) {
        var i = k == "x" ? "Width" : "Height",
            f = "scroll" + i;
        if (!d(m)
            .is("html,body")) {
            return m[f] - d(m)[i.toLowerCase()]()
        }
        var h = "client" + i,
            g = m.ownerDocument.documentElement,
            e = m.ownerDocument.body;
        return Math.max(g[f], e[f]) - Math.min(g[h], e[h])
    };

    function c(e) {
        return typeof e == "object" ? e : {
            top: e,
            left: e
        }
    }
})(jQuery);
(function (c) {
    if (!c.rsModules) {
        c.rsModules = {}
    }

    function b(g, h) {
        var A = navigator.userAgent.toLowerCase(),
            z, F = c.browser,
            u = this,
            p = F.webkit,
            C = A.indexOf("android") > -1;
        u.isIPAD = A.match(/(ipad)/);
        var G = document.createElement("div")
            .style,
            y = ["webkit", "Moz", "ms", "O"],
            B = "",
            D = 0,
            k;
        for (z = 0; z < y.length; z++) {
            k = y[z];
            if (!B && (k + "Transform") in G) {
                B = k
            }
            k = k.toLowerCase();
            if (!window.requestAnimationFrame) {
                window.requestAnimationFrame = window[k + "RequestAnimationFrame"];
                window.cancelAnimationFrame = window[k + "CancelAnimationFrame"] || window[k + "CancelRequestAnimationFrame"]
            }
        }
        if (!window.requestAnimationFrame) {
            window.requestAnimationFrame = function (K, H) {
                var i = new Date()
                    .getTime(),
                    I = Math.max(0, 16 - (i - D)),
                    J = window.setTimeout(function () {
                        K(i + I)
                    }, I);
                D = i + I;
                return J
            }
        }
        if (!window.cancelAnimationFrame) {
            window.cancelAnimationFrame = function (i) {
                clearTimeout(i)
            }
        }
        u.slider = c(g);
        u.ev = c({});
        u._doc = c(document);
        u.st = c.extend({}, c.fn.royalSlider.defaults, h);
        u._currAnimSpeed = u.st.transitionSpeed;
        if (u.st.allowCSS3) {
            if ((!p || u.st.allowCSS3OnWebkit)) {
                var t = B + (B ? "T" : "t");
                u._useCSS3Transitions = ((t + "ransform") in G) && ((t + "ransition") in G);
                if (u._useCSS3Transitions) {
                    u._use3dTransform = (B + (B ? "P" : "p") + "erspective") in G
                }
            }
        }
        B = B.toLowerCase();
        u._vendorPref = "-" + B + "-";
        u._slidesHorizontal = (u.st.slidesOrientation === "vertical") ? false : true;
        u._reorderProp = u._slidesHorizontal ? "left" : "top";
        u._sizeProp = u._slidesHorizontal ? "width" : "height";
        u._prevNavItemId = -1;
        u._isMove = (u.st.transitionType === "fade") ? false : true;
        if (!u._isMove) {
            u.st.sliderDrag = false;
            u._fadeZIndex = 10
        }
        u._newSlideId = 0;
        u._sPosition = 0;
        c.each(c.rsModules, function (H, i) {
            i.call(u)
        });
        u.slides = [];
        u._idCount = 0;
        var w;
        var d = u.st.slides ? c(u.st.slides) : u.slider.children()
            .detach();
        d.each(function () {
            u._parseNode(this, true)
        });
        if (u.st.randomizeSlides) {
            u.slides.sort(function () {
                return 0.5 - Math.random()
            })
        }
        u.numSlides = u.slides.length;
        u._refreshNumPreloadImages();
        if (u.st.startSlideId > u.numSlides - 1) {
            u.st.startSlideId = u.numSlides - 1
        }
        u.staticSlideId = u.currSlideId = u._realId = u.st.startSlideId;
        u.currSlide = u.slides[u.currSlideId];
        u._accelerationPos = 0;
        u.slider.addClass((u._slidesHorizontal ? "rsHor" : "rsVer") + (u._isMove ? "" : " rsFade"));
        var o = '<div class="rsOverflow"><div class="rsContainer">';
        u.slidesSpacing = u.st.slidesSpacing;
        u._slideSize = (u._slidesHorizontal ? u.slider.width() : u.slider.height()) + u.st.slidesSpacing;
        u._preload = Boolean(u._numPreloadImages > 0);
        if (u.numSlides <= 1) {
            u._loop = false
        }
        var x = (u._loop && u._isMove) ? (u.numSlides === 2 ? 1 : 2) : 0;
        u._loopHelpers = x;
        u._maxImages = u.numSlides < 6 ? u.numSlides : 6;
        u._currBlockIndex = 0;
        u._idOffset = 0;
        u.slidesJQ = [];
        for (z = 0; z < u.numSlides; z++) {
            u.slidesJQ.push(c(E(z)))
        }
        o += "</div></div>";
        u.slider.html(o);
        u._sliderOverflow = u.slider.children(".rsOverflow");
        u._slidesContainer = u._sliderOverflow.children(".rsContainer");
        u._preloader = c('<div class="rsPreloader"></div>');
        var v = u._slidesContainer.children(".rsSlide");
        u._currHolder = u.slidesJQ[u.currSlideId];
        u._selectedSlideHolder = 0;

        function E(H, I) {
            return '<div style="' + (u._isMove ? "" : (H !== u.currSlideId ?
                "z-index: 0; display:none; opacity: 0; position: absolute;  left: 0; top: 0;" :
                "z-index: 0;  position: absolute; left: 0; top: 0;")) + '" class="rsSlide ' + (I || "") + '"></div>'
        }
        if ("ontouchstart" in window || "createTouch" in document) {
            u.hasTouch = true;
            u._downEvent = "touchstart.rs";
            u._moveEvent = "touchmove.rs";
            u._upEvent = "touchend.rs";
            u._cancelEvent = "touchcancel.rs";
            u._lastItemFriction = 0.5
        } else {
            u.hasTouch = false;
            u._lastItemFriction = 0.2;
            if (u.st.sliderDrag) {
                if (F.msie || F.opera) {
                    u._grabCursor = u._grabbingCursor = "move"
                } else {
                    if (F.mozilla) {
                        u._grabCursor = "-moz-grab";
                        u._grabbingCursor = "-moz-grabbing"
                    } else {
                        if (p && (navigator.platform.indexOf("Mac") != -1)) {
                            u._grabCursor = "-webkit-grab";
                            u._grabbingCursor = "-webkit-grabbing"
                        }
                    }
                }
                u._setGrabCursor()
            }
            u._downEvent = "mousedown.rs";
            u._moveEvent = "mousemove.rs";
            u._upEvent = "mouseup.rs";
            u._cancelEvent = "mouseup.rs"
        }
        if (u._useCSS3Transitions) {
            u._TP = "transition-property";
            u._TD = "transition-duration";
            u._TTF = "transition-timing-function";
            u._yProp = u._xProp = u._vendorPref + "transform";
            if (u._use3dTransform) {
                if (p) {
                    u.slider.addClass("rsWebkit3d")
                }
                u._tPref1 = "translate3d(";
                u._tPref2 = "px, ";
                u._tPref3 = "px, 0px)"
            } else {
                u._tPref1 = "translate(";
                u._tPref2 = "px, ";
                u._tPref3 = "px)"
            }
            if (!u._isMove) {
                var e = {};
                e[(u._vendorPref + u._TP)] = "opacity";
                e[(u._vendorPref + u._TD)] = u.st.transitionSpeed + "ms";
                e[(u._vendorPref + u._TTF)] = u.st.css3easeInOut;
                v.css(e)
            } else {
                u._slidesContainer[(u._vendorPref + u._TP)] = (u._vendorPref + "transform")
            }
        } else {
            u._xProp = "left";
            u._yProp = "top"
        }
        var f;
        c(window)
            .on("resize.rs", function () {
                if (f) {
                    clearTimeout(f)
                }
                f = setTimeout(function () {
                    u.updateSliderSize()
                }, 50)
            });
        u.ev.trigger("rsAfterPropsSetup");
        u.updateSliderSize();
        if (u.st.keyboardNavEnabled) {
            u._bindKeyboardNav()
        }
        if (u.st.arrowsNavHideOnTouch && u.hasTouch) {
            u.st.arrowsNav = false
        }
        if (u.st.arrowsNav) {
            var n = "rsArrow",
                s = u.st.controlsInside ? u._sliderOverflow : u.slider;
            c('<div class="' + n + " " + n + 'Left"><div class="' + n + 'Icn"></div></div><div class="' + n + " " + n + 'Right"><div class="' + n +
                    'Icn"></div></div>')
                .appendTo(s);
            u._arrowLeft = s.children("." + n + "Left")
                .click(function (i) {
                    i.preventDefault();
                    u.prev()
                });
            u._arrowRight = s.children("." + n + "Right")
                .click(function (i) {
                    i.preventDefault();
                    u.next()
                });
            if (u.st.arrowsNavAutoHide && !u.hasTouch) {
                u._arrowLeft.addClass("rsHidden");
                u._arrowRight.addClass("rsHidden");
                var q = s;
                q.one("mousemove.arrowshover", function () {
                    u._arrowLeft.removeClass("rsHidden");
                    u._arrowRight.removeClass("rsHidden")
                });
                q.hover(function () {
                    if (!u._arrowsAutoHideLocked) {
                        u._arrowLeft.removeClass("rsHidden");
                        u._arrowRight.removeClass("rsHidden")
                    }
                }, function () {
                    if (!u._arrowsAutoHideLocked) {
                        u._arrowLeft.addClass("rsHidden");
                        u._arrowRight.addClass("rsHidden")
                    }
                })
            }
            u.ev.on("rsOnUpdateNav", function () {
                u._updateArrowsNav()
            });
            u._updateArrowsNav()
        }
        u._hasDrag = (!u.hasTouch && u.st.sliderDrag) || (u.hasTouch && u.st.sliderTouch);
        if (u._hasDrag) {
            u._slidesContainer.on(u._downEvent, function (i) {
                u._onDragStart(i)
            })
        } else {
            u.dragSuccess = false
        }
        var m = ["rsPlayBtnIcon", "rsPlayBtn", "rsCloseVideoBtn", "rsCloseVideoIcn"];
        u._slidesContainer.click(function (H) {
            if (!u.dragSuccess) {
                var i = c(H.target);
                var I = i.attr("class");
                if (c.inArray(I, m) !== -1) {
                    if (u.toggleVideo()) {
                        return false
                    }
                }
                if (u.st.navigateByClick && !u._blockActions) {
                    if (c(H.target)
                        .closest(".rsNoDrag", u._currHolder)
                        .length) {
                        return true
                    }
                    u._mouseNext(H)
                }
            }
        });
        u.ev.trigger("rsAfterInit")
    }
    b.prototype = {
        _mouseNext: function (g) {
            var d = this;
            var f = g[d._slidesHorizontal ? "pageX" : "pageY"] - d._sliderOffset;
            if (f > 0) {
                d.next()
            } else {
                d.prev()
            }
        },
        _refreshNumPreloadImages: function () {
            var d = this,
                e;
            e = d.st.numImagesToPreload;
            d._loop = d.st.loop;
            if (d._loop) {
                if (d.numSlides === 2) {
                    d._loop = false;
                    d.st.loopRewind = true
                } else {
                    if (d.numSlides < 2) {
                        d.st.loopRewind = d._loop = false
                    }
                }
            }
            if (d._loop && e > 0) {
                if (d.numSlides <= 4) {
                    e = 1
                } else {
                    if (d.st.numImagesToPreload > (d.numSlides - 1) / 2) {
                        e = Math.floor((d.numSlides - 1) / 2)
                    }
                }
            }
            d._numPreloadImages = e
        },
        _parseNode: function (i, g) {
            var f = this,
                d, e, h, k = {};
            i = c(i);
            f._currContent = i;
            f.ev.trigger("rsBeforeParseNode", [i, k]);
            if (k.stopParsing) {
                return
            }
            i = f._currContent;
            k.id = f._idCount;
            k.contentAdded = false;
            f._idCount++;
            if (!k.hasCover) {
                if (i.hasClass("rsImg")) {
                    tempEl = i;
                    d = true
                } else {
                    tempEl = i.find(".rsImg");
                    if (tempEl.length) {
                        d = true
                    }
                }
                if (d) {
                    k.bigImage = tempEl.attr("data-rsBigImg");
                    if (tempEl.is("a")) {
                        m(tempEl, "href")
                    } else {
                        if (tempEl.is("img")) {
                            m(tempEl)
                        }
                    }
                } else {
                    if (i.is("img")) {
                        i.addClass("rsImg");
                        m(i)
                    }
                }
            }
            tempEl = i.find(".rsCaption");
            if (tempEl.length) {
                k.caption = tempEl.remove()
            }
            if (!k.image) {
                k.isLoaded = true;
                k.isRendered = false;
                k.isLoading = false
            }
            k.content = i;
            f.ev.trigger("rsAfterParseNode", [i, k]);

            function m(o, n) {
                k.image = o.attr(!n ? "src" : n);
                k.caption = !n ? o.attr("alt") : o.contents();
                k.videoURL = o.attr("data-rsVideo")
            }
            if (g) {
                f.slides.push(k)
            }
            return k
        },
        _bindKeyboardNav: function () {
            var d = this;
            d._doc.on("keydown.rskb", function (f) {
                if (!d._isDragging && !d._isAnimating) {
                    if (f.keyCode === 37) {
                        f.preventDefault();
                        d.prev()
                    } else {
                        if (f.keyCode === 39) {
                            f.preventDefault();
                            d.next()
                        }
                    }
                }
            })
        },
        goTo: function (f, e) {
            var d = this;
            if (f !== d.currSlideId) {
                d._moveTo(f, d.st.transitionSpeed, true, !e)
            }
        },
        destroy: function (d) {
            var e = this;
            e.ev.trigger("rsBeforeDestroy");
            e._doc.off("keydown.rskb " + e._moveEvent + " " + e._upEvent);
            e._slidesContainer.on(e._downEvent, function (f) {
                e._onDragStart(f)
            });
            e.slider.data("royalSlider", "");
            if (d) {
                e.slider.remove()
            }
        },
        _updateBlocksContent: function (J, t) {
            var v = this,
                C, A, x, G, p, q, B, E = v._loop,
                D = v.numSlides;
            if (!isNaN(t)) {
                return H(t)
            }
            var w = v.currSlideId;
            var k;
            var u = J ? (Math.abs(v._prevSlideId - v.currSlideId) >= v.numSlides - 1 ? 0 : 1) : v._numPreloadImages;
            var m = Math.min(2, u);
            var d = false;
            var F = false;
            var s;
            for (A = w; A < w + 1 + m; A++) {
                s = H(A);
                C = v.slides[s];
                if (C && (!C.isAdded || !C.positionSet)) {
                    d = true;
                    break
                }
            }
            for (A = w - 1; A > w - 1 - m; A--) {
                s = H(A);
                C = v.slides[s];
                if (C && (!C.isAdded || !C.positionSet)) {
                    F = true;
                    break
                }
            }
            if (d) {
                for (A = w; A < w + u + 1; A++) {
                    s = H(A);
                    k = Math.floor((v._realId - (w - A)) / v.numSlides) * v.numSlides;
                    C = v.slides[s];
                    if (C) {
                        f(C, s)
                    }
                }
            }
            if (F) {
                for (A = w - 1; A > w - 1 - u; A--) {
                    s = H(A);
                    k = Math.floor((v._realId - (w - A)) / D) * D;
                    C = v.slides[s];
                    if (C) {
                        f(C, s)
                    }
                }
            }
            if (!J) {
                var h = w;
                var g = u;
                var y = H(w - u);
                var z = H(w + u);
                var e = y > z ? 0 : y;
                for (A = 0; A < D; A++) {
                    if (y > z) {
                        if (A > y - 1) {
                            continue
                        }
                    }
                    if (A < e || A > z) {
                        C = v.slides[A];
                        if (C && C.holder) {
                            C.holder.detach();
                            C.isAdded = false
                        }
                    }
                }
            }

            function f(L, n, K) {
                if (!L.isAdded) {
                    if (!K) {
                        K = v.slidesJQ[n]
                    }
                    if (!L.holder) {
                        K = v.slidesJQ[n] = c(K);
                        L.holder = K
                    } else {
                        K = L.holder
                    }
                    L.appendOnLoaded = false;
                    o(n, L, K);
                    I(n, L);
                    v._addBlockToContainer(L, K, J);
                    L.isAdded = true;
                    appended = true
                } else {
                    I(n, L);
                    o(n, L)
                }
            }

            function I(n, K) {
                if (!K.contentAdded) {
                    v.setItemHtml(K, J);
                    if (!J) {
                        K.contentAdded = true
                    }
                }
            }

            function o(n, L, K) {
                if (v._isMove) {
                    if (!K) {
                        K = v.slidesJQ[n]
                    }
                    K.css(v._reorderProp, (n + v._idOffset + k) * v._slideSize)
                }
            }

            function H(i) {
                var n = false;
                if (E) {
                    if (i > D - 1) {
                        return H(i - D)
                    } else {
                        if (i < 0) {
                            return H(D + i)
                        }
                    }
                }
                return i
            }
        },
        setItemHtml: function (h, g) {
            var p = this;
            var i = h.content;
            var m = h.holder;
            var e = function (s) {
                var q = s.sizeType;
                return function (z) {
                    var x = s.content,
                        v = s.holder;
                    if (z) {
                        var y = z.currentTarget;
                        c(y)
                            .off("load error");
                        if (z.type === "error") {
                            s.isLoaded = true;
                            s.image = "";
                            s.isLoading = false;
                            x.addClass("rsSlideError");
                            v.html(x);
                            s.holder.trigger("rsAfterContentSet");
                            p.ev.trigger("rsAfterContentSet", s);
                            return
                        }
                    }
                    if (s.image) {
                        if (s.bigImage && s.sizeType !== q) {
                            if (q === "med") {
                                s.isMedLoading = false
                            } else {
                                if (q === "big") {
                                    s.isBigLoading = false
                                } else {
                                    s.isMedLoading = s.isLoading = false
                                }
                            }
                            return
                        }
                        if (!s.isLoaded) {
                            var A, u;
                            if (x.hasClass("rsImg")) {
                                u = true;
                                A = x
                            } else {
                                u = false;
                                A = x.find(".rsImg")
                            }
                            if (A.length && A.is("a")) {
                                if (u) {
                                    x = c('<img class="rsImg" src="' + s.image + '" />')
                                } else {
                                    x.find(".rsImg")
                                        .replaceWith('<img class="rsImg" src="' + s.image + '" />')
                                }
                                s.content = x
                            }
                            s.iW = y.width;
                            if (s.iW > 0) {
                                s.iH = y.height;
                                s.isLoaded = true;
                                s.isLoading = false;
                                p._resizeImage(s)
                            }
                        } else {
                            if (!s.isRendered && g) {
                                d();
                                return
                            }
                            p._resizeImage(s)
                        }
                    } else {
                        if (!p._preload && g && !s.isRendered) {
                            s.isRendered = true;
                            d();
                            return
                        }
                        s.isLoaded = true;
                        s.isLoading = false
                    }
                    var t = false;
                    var w = s.id - p._newSlideId;
                    if (!g && !s.appendOnLoaded && p.st.fadeinLoadedSlide && (w === 0 || ((t || p._isAnimating || p._isDragging) && (w ===
                            -1 || w === 1)))) {
                        x.css(p._vendorPref + "transition", "opacity 400ms ease-in-out")
                            .css({
                                visibility: "visible",
                                opacity: 0
                            });
                        v.html(x);
                        setTimeout(function () {
                            x.css("opacity", 1)
                        }, 6)
                    } else {
                        v.html(x)
                    }
                    s.isRendered = true;
                    v.find("a")
                        .off("click.rs")
                        .on("click.rs", function (B) {
                            if (p.dragSuccess) {
                                return false
                            } else {
                                p._blockActions = true;
                                p.ev.trigger("rsSlideClick");
                                setTimeout(function () {
                                    p._blockActions = false
                                }, 3)
                            }
                        });
                    s.holder.trigger("rsAfterContentSet");
                    p.ev.trigger("rsAfterContentSet", s);
                    if (s.appendOnLoaded) {
                        p._addBlockToContainer(s, x, g)
                    }
                }
            };
            if (h.isLoaded) {
                e(h)()
            } else {
                if (g) {
                    d()
                } else {
                    f()
                }
            }

            function f() {
                if (!h.image) {
                    e(h)();
                    return
                }
                if (!h.isLoading) {
                    k(c("<img/>"), h.image)
                } else {
                    var q = 1;

                    function s(v) {
                        var u = v === "big" ? h.isBigLoaded : h.isMedLoaded;
                        if (!h.isLoading) {
                            return
                        }
                        if (h.isLoaded) {
                            e(h)();
                            return
                        }
                        if (q % 50 === 0) {
                            var t = h.imageLoader;
                            if (t.complete && t.naturalWidth !== undefined && t.naturalWidth !== 0 && t.naturalHeight !== 0) {
                                e(h)();
                                return
                            }
                        }
                        if (q > 300) {
                            return
                        }
                        setTimeout(s, 400);
                        q++
                    }
                    s(h.sizeType)
                }
            }

            function k(q, s) {
                if (!g) {
                    if (!h.isLoading) {
                        if (!s) {
                            s = q.attr("src");
                            q = c("<img/>")
                        }
                        n(m);
                        h.isLoading = true;
                        h.imageLoader = q;
                        q.one("load error", e(h))
                            .attr("src", s)
                    }
                } else {
                    d()
                }
            }

            function o(q) {
                if (q) {
                    if (!q.complete || q.naturalWidth === undefined || q.naturalWidth === 0) {
                        return false
                    }
                } else {
                    return false
                }
                return true
            }

            function d() {
                m.isWaiting = true;
                n(m);
                m.slideId = -99
            }

            function n(q) {
                h.holder.html(p._preloader.clone())
            }
        },
        _addBlockToContainer: function (k, i, d) {
            var f = this;
            var g = k.holder;
            var h = k.id - f._newSlideId;
            var e = false;
            if (f._isMove && !d && f.st.fadeinLoadedSlide && (h === 0 || ((e || f._isAnimating || f._isDragging) && (h === -1 || h === 1)))) {
                var i = k.content;
                i.css(f._vendorPref + "transition", "opacity 400ms ease-in-out")
                    .css({
                        visibility: "visible",
                        opacity: 0
                    });
                f._slidesContainer.append(g);
                setTimeout(function () {
                    i.css("opacity", 1)
                }, 6)
            } else {
                f._slidesContainer.append(g)
            }
            k.appendOnLoaded = false
        },
        _onDragStart: function (i, k) {
            var f = this,
                d, g;
            f.dragSuccess = false;
            if (c(i.target)
                .closest(".rsNoDrag", f._currHolder)
                .length) {
                return true
            }
            if (!k) {
                if (f._isAnimating) {
                    g = true;
                    f._stopAnimation()
                }
            }
            if (f._isDragging) {
                if (f.hasTouch) {
                    f._multipleTouches = true
                }
                return
            } else {
                if (f.hasTouch) {
                    f._multipleTouches = false
                }
            }
            f._setGrabbingCursor();
            if (f.hasTouch) {
                var h = i.originalEvent.touches;
                if (h && h.length > 0) {
                    d = h[0];
                    if (h.length > 1) {
                        f._multipleTouches = true
                    }
                } else {
                    return
                }
            } else {
                d = i;
                i.preventDefault()
            }
            f._isDragging = true;
            f._doc.on(f._moveEvent, function (m) {
                    f._onDragMove(m, k)
                })
                .on(f._upEvent, function (m) {
                    f._onDragRelease(m, k)
                });
            f._currMoveAxis = "";
            f._hasMoved = false;
            f._pageX = d.pageX;
            f._pageY = d.pageY;
            f._startPagePos = f._accelerationPos = (!k ? f._slidesHorizontal : f._thumbsHorizontal) ? d.pageX : d.pageY;
            f._horDir = 0;
            f._verDir = 0;
            f._currRenderPosition = !k ? f._sPosition : f._thumbsPosition;
            f._startTime = new Date()
                .getTime();
            if (f.hasTouch) {
                f._sliderOverflow.on(f._cancelEvent, function (m) {
                    f._onDragRelease(m, k)
                })
            }
        },
        _renderMovement: function (p, f) {
            var q = this;
            if (q._checkedAxis) {
                var k = q._renderMoveTime,
                    m = p.pageX - q._pageX,
                    h = p.pageY - q._pageY,
                    d = q._currRenderPosition + m,
                    s = q._currRenderPosition + h,
                    o = (!f ? q._slidesHorizontal : q._thumbsHorizontal),
                    n = o ? d : s,
                    e = q._currMoveAxis;
                q._hasMoved = true;
                q._pageX = p.pageX;
                q._pageY = p.pageY;
                q.ev.trigger("rsDragMove");
                var g = o ? q._pageX : q._pageY;
                if (e === "x" && m !== 0) {
                    q._horDir = m > 0 ? 1 : -1
                } else {
                    if (e === "y" && h !== 0) {
                        q._verDir = h > 0 ? 1 : -1
                    }
                }
                var i = o ? m : h;
                if (!f) {
                    if (!q._loop) {
                        if (q.currSlideId <= 0) {
                            if (g - q._startPagePos > 0) {
                                n = q._currRenderPosition + i * q._lastItemFriction
                            }
                        }
                        if (q.currSlideId >= q.numSlides - 1) {
                            if (g - q._startPagePos < 0) {
                                n = q._currRenderPosition + i * q._lastItemFriction
                            }
                        }
                    }
                } else {
                    if (n > q._thumbsMinPosition) {
                        n = q._currRenderPosition + i * q._lastItemFriction
                    } else {
                        if (n < q._thumbsMaxPosition) {
                            n = q._currRenderPosition + i * q._lastItemFriction
                        }
                    }
                }
                q._currRenderPosition = n;
                if (k - q._startTime > 200) {
                    q._startTime = k;
                    q._accelerationPos = g
                }
                if (!f) {
                    if (q._isMove) {
                        q._setPosition(q._currRenderPosition)
                    }
                } else {
                    q._setThumbsPosition(q._currRenderPosition)
                }
            }
        },
        _onDragMove: function (k, m) {
            var f = this;
            if (f.hasTouch) {
                if (f._lockAxis) {
                    return
                }
                var i = k.originalEvent.touches;
                if (i) {
                    if (i.length > 1) {
                        return
                    } else {
                        point = i[0]
                    }
                } else {
                    return
                }
            } else {
                point = k
            }
            if (!f._hasMoved) {
                if (f._useCSS3Transitions) {
                    (!m ? f._slidesContainer : f._thumbsContainer)
                    .css((f._vendorPref + f._TD), "0s")
                }(function d() {
                    if (f._isDragging) {
                        f._animFrame = requestAnimationFrame(d);
                        if (f._renderMoveEvent) {
                            f._renderMovement(f._renderMoveEvent, m)
                        }
                    }
                })()
            }
            if (!f._checkedAxis) {
                var g = (!m ? f._slidesHorizontal : f._thumbsHorizontal),
                    h = (Math.abs(point.pageX - f._pageX) - Math.abs(point.pageY - f._pageY)) - (g ? -7 : 7);
                if (h > 7) {
                    if (g) {
                        k.preventDefault();
                        f._currMoveAxis = "x"
                    } else {
                        if (f.hasTouch) {
                            f._completeGesture();
                            return
                        }
                    }
                    f._checkedAxis = true
                } else {
                    if (h < -7) {
                        if (!g) {
                            k.preventDefault();
                            f._currMoveAxis = "y"
                        } else {
                            if (f.hasTouch) {
                                f._completeGesture();
                                return
                            }
                        }
                        f._checkedAxis = true
                    }
                }
                return
            }
            k.preventDefault();
            f._renderMoveTime = new Date()
                .getTime();
            f._renderMoveEvent = point
        },
        _completeGesture: function () {
            var d = this;
            d._lockAxis = true;
            d._hasMoved = d._isDragging = false;
            d._onDragRelease()
        },
        _onDragRelease: function (I, z) {
            var B = this,
                y, G, d, o, n, i, s, h;
            B.ev.trigger("rsDragRelease");
            B._renderMoveEvent = null;
            B._isDragging = false;
            B._lockAxis = false;
            B._checkedAxis = false;
            B._renderMoveTime = 0;
            cancelAnimationFrame(B._animFrame);
            if (B._hasMoved) {
                if (!z) {
                    if (B._isMove) {
                        B._setPosition(B._currRenderPosition)
                    }
                } else {
                    B._setThumbsPosition(B._currRenderPosition)
                }
            }
            B._doc.off(B._moveEvent)
                .off(B._upEvent);
            if (B.hasTouch) {
                B._sliderOverflow.off(B._cancelEvent)
            }
            B._setGrabCursor();
            if (!B._hasMoved && !B._multipleTouches) {
                if (z && B._thumbsEnabled) {
                    var J = c(I.target)
                        .closest(".rsNavItem");
                    if (J.length) {
                        B.goTo(J.index())
                    }
                    return
                }
            }
            var x = (!z ? B._slidesHorizontal : B._thumbsHorizontal);
            if (!B._hasMoved || (B._currMoveAxis === "y" && x) || (B._currMoveAxis === "x" && !x)) {
                return
            }
            B.dragSuccess = true;
            B._currMoveAxis = "";

            function g(e) {
                if (e < 100) {
                    return 100
                } else {
                    if (e > 500) {
                        return 500
                    }
                }
                return e
            }

            function w(M, e) {
                if (B._isMove || z) {
                    n = (-B._realId - B._idOffset) * B._slideSize;
                    i = Math.abs(B._sPosition - n);
                    B._currAnimSpeed = i / e;
                    if (M) {
                        B._currAnimSpeed += 250
                    }
                    B._currAnimSpeed = g(B._currAnimSpeed);
                    B._animateTo(n, false)
                }
            }
            var p = B.st.minSlideOffset,
                D = B.hasTouch ? I.originalEvent.changedTouches[0] : I,
                t = x ? D.pageX : D.pageY,
                E = B._startPagePos,
                v = B._accelerationPos,
                F = B.currSlideId,
                L = B.numSlides,
                C = x ? B._horDir : B._verDir,
                K = B._loop,
                A = false,
                f = 0;
            y = Math.abs(t - E);
            G = t - v;
            d = (new Date()
                .getTime()) - B._startTime;
            o = Math.abs(G) / d;
            if (C === 0 || L <= 1) {
                w(true, o);
                return
            }
            if (!K && !z) {
                if (F <= 0) {
                    if (C > 0) {
                        w(true, o);
                        return
                    }
                } else {
                    if (F >= L - 1) {
                        if (C < 0) {
                            w(true, o);
                            return
                        }
                    }
                }
            }
            if (!z) {
                if (E + p < t) {
                    if (C < 0) {
                        w(false, o);
                        return
                    }
                    B._moveTo("prev", g(Math.abs(B._sPosition - (-B._realId - B._idOffset + 1) * B._slideSize) / o), A, true, true)
                } else {
                    if (E - p > t) {
                        if (C > 0) {
                            w(false, o);
                            return
                        }
                        B._moveTo("next", g(Math.abs(B._sPosition - (-B._realId - B._idOffset - 1) * B._slideSize) / o), A, true, true)
                    } else {
                        w(false, o)
                    }
                }
            } else {
                var n = B._thumbsPosition;
                var m;
                if (n > B._thumbsMinPosition) {
                    n = B._thumbsMinPosition
                } else {
                    if (n < B._thumbsMaxPosition) {
                        n = B._thumbsMaxPosition
                    } else {
                        var u = 0.003,
                            q = (o * o) / (u * 2),
                            H = -B._thumbsPosition,
                            k = B._thumbsContainerSize - B._thumbsViewportSize + B._thumbsPosition;
                        if (G > 0 && q > H) {
                            H = H + B._thumbsViewportSize / (15 / (q / o * u));
                            o = o * H / q;
                            q = H
                        } else {
                            if (G < 0 && q > k) {
                                k = k + B._thumbsViewportSize / (15 / (q / o * u));
                                o = o * k / q;
                                q = k
                            }
                        }
                        m = Math.max(Math.round(o / u), 50);
                        n = n + q * (G < 0 ? -1 : 1);
                        if (n > B._thumbsMinPosition) {
                            B._animateThumbsTo(n, m, true, B._thumbsMinPosition, 200);
                            return
                        } else {
                            if (n < B._thumbsMaxPosition) {
                                B._animateThumbsTo(n, m, true, B._thumbsMaxPosition, 200);
                                return
                            }
                        }
                    }
                }
                B._animateThumbsTo(n, m, true)
            }
        },
        _setPosition: function (e) {
            var d = this;
            e = d._sPosition = e;
            if (d._useCSS3Transitions) {
                d._slidesContainer.css(d._xProp, d._tPref1 + (d._slidesHorizontal ? (e + d._tPref2 + 0) : (0 + d._tPref2 + e)) + d._tPref3)
            } else {
                d._slidesContainer.css(d._slidesHorizontal ? d._xProp : d._yProp, e)
            }
        },
        getParallaxValues: function () {
            return {
                transformProp: this._getTransformProp(),
                xProp: this._xProp,
                slidesContainer: this._slidesContainer,
                currRenderPosition: this._currRenderPosition
            }
        },
        updateSliderSize: function (e) {
            var p = this,
                h, d;
            if (p.st.beforeResize) {
                p.st.beforeResize.call(p)
            }
            if (p.st.autoScaleSlider) {
                var n = p.st.autoScaleSliderWidth,
                    m = p.st.autoScaleSliderHeight;
                if (p.st.autoScaleHeight) {
                    h = p.slider.width();
                    if (h != p.width) {
                        p.slider.css("height", h * (m / n));
                        h = p.slider.width()
                    }
                    d = p.slider.height()
                } else {
                    d = p.slider.height();
                    if (d != p.height) {
                        p.slider.css("width", d * (n / m));
                        d = p.slider.height()
                    }
                    h = p.slider.width()
                }
            } else {
                h = p.slider.width();
                d = p.slider.height()
            }
            p._sliderOffset = p.slider.offset();
            p._sliderOffset = p._sliderOffset[p._reorderProp];
            if (e || h != p.width || d != p.height) {
                p.width = h;
                p.height = d;
                p._wrapWidth = h;
                p._wrapHeight = d;
                p.ev.trigger("rsBeforeSizeSet");
                /*p._sliderOverflow.css({
                    width: p._wrapWidth,
                    height: p._wrapHeight
                });*/
                p._slideSize = (p._slidesHorizontal ? p._wrapWidth : p._wrapHeight) + p.st.slidesSpacing;
                p._imagePadding = p.st.imageScalePadding;
                var o, k, g, f;
                for (g = 0; g < p.slides.length; g++) {
                    o = p.slides[g];
                    o.positionSet = false;
                    if (o && o.image && o.isLoaded) {
                        o.isRendered = false;
                        p._resizeImage(o)
                    }
                }
                if (p._cloneHolders) {
                    for (g = 0; g < p._cloneHolders.length; g++) {
                        o = p._cloneHolders[g];
                        o.holder.css(p._reorderProp, (o.id + p._idOffset) * p._slideSize)
                    }
                }
                p._updateBlocksContent();
                if (p._isMove) {
                    if (p._useCSS3Transitions) {
                        p._slidesContainer.css(p._vendorPref + "transition-duration", "0s")
                    }
                    p._setPosition((-p._realId - p._idOffset) * p._slideSize)
                }
                p.ev.trigger("rsOnUpdateNav");
                if (p.st.afterResize) {
                    p.st.afterResize.call(p)
                }
            }
        },
        setSlidesOrientation: function (d) {},
        appendSlide: function (e, f) {
            var d = this,
                g = d._parseNode(e);
            if (isNaN(f) || f > d.numSlides) {
                f = d.numSlides
            }
            d.slides.splice(f, 0, g);
            d.slidesJQ.splice(f, 0, '<div style="' + (d._isMove ? "position: absolute;" :
                "z-index: 0; display:none; opacity: 0; position: absolute;  left: 0; top: 0;") + '" class="rsSlide"></div>');
            if (f < d.currSlideId) {
                d.currSlideId++
            }
            d.ev.trigger("rsOnAppendSlide", [g, f]);
            d._refreshSlides(f);
            if (f === d.currSlideId) {
                d.ev.trigger("rsAfterSlideChange")
            }
        },
        removeSlide: function (f) {
            var e = this,
                d = e.slides[f];
            if (d) {
                if (d.holder) {
                    d.holder.remove()
                }
                if (f < e.currSlideId) {
                    e.currSlideId++
                }
                e.slides.splice(f, 1);
                e.slidesJQ.splice(f, 1);
                e.ev.trigger("rsOnRemoveSlide", [f]);
                e._refreshSlides(f);
                if (f === e.currSlideId) {
                    e.ev.trigger("rsAfterSlideChange")
                }
            }
        },
        _refreshSlides: function (g) {
            var e = this;
            var d = e.numSlides;
            var f = e._realId <= 0 ? 0 : Math.floor(e._realId / d);
            e.numSlides = e.slides.length;
            if (e.numSlides === 0) {
                e.currSlideId = e._idOffset = e._realId = 0;
                e.currSlide = e._oldHolder = null
            } else {
                e._realId = f * e.numSlides + e.currSlideId
            }
            for (var h = 0; h < e.numSlides; h++) {
                e.slides[h].id = h
            }
            e.currSlide = e.slides[e.currSlideId];
            e._currHolder = e.slidesJQ[e.currSlideId];
            if (e.currSlideId >= e.numSlides) {
                e.goTo(e.numSlides - 1)
            } else {
                if (e.currSlideId < 0) {
                    e.goTo(0)
                }
            }
            e._refreshNumPreloadImages();
            if (e._isMove && e._loop) {
                e._slidesContainer.css((e._vendorPref + e._TD), "0ms")
            }
            if (e._refreshSlidesTimeout) {
                clearTimeout(e._refreshSlidesTimeout)
            }
            e._refreshSlidesTimeout = setTimeout(function () {
                e._setPosition((-e._realId - e._idOffset) * e._slideSize);
                e._updateBlocksContent()
            }, 14);
            e.ev.trigger("rsOnUpdateNav")
        },
        _setGrabCursor: function () {
            var d = this;
            if (!d.hasTouch && d._isMove) {
                if (d._grabCursor) {
                    d._sliderOverflow.css("cursor", d._grabCursor)
                } else {
                    d._sliderOverflow.removeClass("grabbing-cursor");
                    d._sliderOverflow.addClass("grab-cursor")
                }
            }
        },
        _setGrabbingCursor: function () {
            var d = this;
            if (!d.hasTouch && d._isMove) {
                if (d._grabbingCursor) {
                    d._sliderOverflow.css("cursor", d._grabbingCursor)
                } else {
                    d._sliderOverflow.removeClass("grab-cursor");
                    d._sliderOverflow.addClass("grabbing-cursor")
                }
            }
        },
        next: function (e) {
            var d = this;
            d._moveTo("next", d.st.transitionSpeed, true, !e)
        },
        prev: function (e) {
            var d = this;
            d._moveTo("prev", d.st.transitionSpeed, true, !e)
        },
        _moveTo: function (h, y, k, p, v) {
            var s = this,
                g, B, x;
            if (s._isVideoPlaying) {
                s.stopVideo()
            }
            s.ev.trigger("rsBeforeMove", [h, p]);
            if (h === "next") {
                newItemId = s.currSlideId + 1
            } else {
                if (h === "prev") {
                    newItemId = s.currSlideId - 1
                } else {
                    newItemId = h = parseInt(h, 10)
                }
            }
            if (!s._loop) {
                if (newItemId < 0) {
                    s._doBackAndForthAnim("left", !p);
                    return
                } else {
                    if (newItemId >= s.numSlides) {
                        s._doBackAndForthAnim("right", !p);
                        return
                    }
                }
            }
            if (s._isAnimating) {
                s._stopAnimation();
                k = false
            }
            B = newItemId - s.currSlideId;
            s._prevSlideId = s.currSlideId;
            var f = s.currSlideId;
            var t = s.currSlideId + B;
            var m = s._realId;
            var A;
            var w;
            if (s._loop) {
                t = s._updateBlocksContent(false, t);
                m += B
            } else {
                m = t
            }
            s._newSlideId = t;
            s._oldHolder = s.slidesJQ[s.currSlideId];
            s._realId = m;
            s.currSlideId = s._newSlideId;
            s.currSlide = s.slides[s.currSlideId];
            s._currHolder = s.slidesJQ[s.currSlideId];
            var e = 2;
            var u = Boolean(B > 0);
            var q = Math.abs(B);
            var d = Math.floor(f / s._numPreloadImages);
            var D = Math.floor((f + (u ? e : -e)) / s._numPreloadImages);
            var C = u ? Math.max(d, D) : Math.min(d, D);
            var z = C * s._numPreloadImages + (u ? (s._numPreloadImages - 1) : 0);
            if (z > s.numSlides - 1) {
                z = s.numSlides - 1
            } else {
                if (z < 0) {
                    z = 0
                }
            }
            var n = u ? (z - f) : (f - z);
            if (n > s._numPreloadImages) {
                n = s._numPreloadImages
            }
            if (q > n + e) {
                s._idOffset += (q - (n + e)) * (u ? -1 : 1);
                y = y * 1.4;
                for (x = 0; x < s.numSlides; x++) {
                    s.slides[x].positionSet = false
                }
            }
            s._currAnimSpeed = y;
            s._updateBlocksContent(true);
            if (!v) {
                w = true
            }
            g = (-m - s._idOffset) * s._slideSize;
            if (w) {
                setTimeout(function () {
                    s._isWorking = false;
                    s._animateTo(g, h, false, k);
                    s.ev.trigger("rsOnUpdateNav")
                }, 0)
            } else {
                s._animateTo(g, h, false, k);
                s.ev.trigger("rsOnUpdateNav")
            }

            function o(i) {
                if (i < 0) {
                    i = s.numSlides + i
                } else {
                    if (i > s.numSlides - 1) {
                        i = i - s.numSlides
                    }
                }
                if (i !== s.currSlideId) {
                    return false
                }
                return true
            }
        },
        _updateArrowsNav: function () {
            var d = this,
                e = "rsArrowDisabled";
            if (d.st.arrowsNav) {
                if (d.numSlides <= 1) {
                    d._arrowLeft.css("display", "none");
                    d._arrowRight.css("display", "none");
                    return
                } else {
                    d._arrowLeft.css("display", "block");
                    d._arrowRight.css("display", "block")
                }
                if (!d._loop && !d.st.loopRewind) {
                    if (d.currSlideId === 0) {
                        d._arrowLeft.addClass(e)
                    } else {
                        d._arrowLeft.removeClass(e)
                    }
                    if (d.currSlideId === d.numSlides - 1) {
                        d._arrowRight.addClass(e)
                    } else {
                        d._arrowRight.removeClass(e)
                    }
                }
            }
        },
        _animateTo: function (n, f, d, k, g) {
            var p = this,
                h, i, m;
            var e = {};
            if (isNaN(p._currAnimSpeed)) {
                p._currAnimSpeed = 400
            }
            p._sPosition = p._currRenderPosition = n;
            p.ev.trigger("rsBeforeAnimStart");
            if (p.st.beforeSlideChange) {
                p.st.beforeSlideChange.call(p)
            }
            if (!p._useCSS3Transitions) {
                if (p._isMove) {
                    e[p._slidesHorizontal ? p._xProp : p._yProp] = n + "px";
                    p._slidesContainer.animate(e, p._currAnimSpeed, k ? p.st.easeInOut : p.st.easeOut)
                } else {
                    i = p._oldHolder;
                    m = p._currHolder;
                    m.stop(true, true)
                        .css({
                            opacity: 0,
                            display: "block",
                            zIndex: p._fadeZIndex
                        });
                    p._currAnimSpeed = p.st.transitionSpeed;
                    m.animate({
                        opacity: 1
                    }, p._currAnimSpeed, p.st.easeInOut);
                    o();
                    if (i) {
                        i.data("rsTimeout", setTimeout(function () {
                            i.stop(true, true)
                                .css({
                                    opacity: 0,
                                    display: "none",
                                    zIndex: 0
                                })
                        }, p._currAnimSpeed + 60))
                    }
                }
            } else {
                if (p._isMove) {
                    e[(p._vendorPref + p._TD)] = p._currAnimSpeed + "ms";
                    e[(p._vendorPref + p._TTF)] = k ? c.rsCSS3Easing[p.st.easeInOut] : c.rsCSS3Easing[p.st.easeOut];
                    p._slidesContainer.css(e);
                    setTimeout(function () {
                        p._setPosition(n)
                    }, p.hasTouch ? 5 : 0)
                } else {
                    p._currAnimSpeed = p.st.transitionSpeed;
                    i = p._oldHolder;
                    m = p._currHolder;
                    if (m.data("rsTimeout")) {
                        m.css("opacity", 0)
                    }
                    o();
                    if (i) {
                        i.data("rsTimeout", setTimeout(function () {
                            e[p._vendorPref + p._TD] = "0ms";
                            e.zIndex = 0;
                            e.display = "none";
                            i.data("rsTimeout", "");
                            i.css(e);
                            setTimeout(function () {
                                i.css("opacity", 0)
                            }, 16)
                        }, p._currAnimSpeed + 60))
                    }
                    e.display = "block";
                    e.zIndex = p._fadeZIndex;
                    e.opacity = 0;
                    e[p._vendorPref + p._TD] = "0ms";
                    e[p._vendorPref + p._TTF] = c.rsCSS3Easing[p.st.easeInOut];
                    m.css(e);
                    m.data("rsTimeout", setTimeout(function () {
                        m.css(p._vendorPref + p._TD, p._currAnimSpeed + "ms");
                        m.data("rsTimeout", setTimeout(function () {
                            m.css("opacity", 1);
                            m.data("rsTimeout", "")
                        }, 20))
                    }, 20))
                }
            }
            p._isAnimating = true;
            if (p.loadingTimeout) {
                clearTimeout(p.loadingTimeout)
            }
            if (g) {
                p.loadingTimeout = setTimeout(function () {
                    p.loadingTimeout = null;
                    g.call()
                }, p._currAnimSpeed + 60)
            } else {
                p.loadingTimeout = setTimeout(function () {
                    p.loadingTimeout = null;
                    p._animationComplete(f)
                }, p._currAnimSpeed + 60)
            }

            function o() {
                var q = i.data("rsTimeout");
                if (q) {
                    if (i !== m) {
                        i.css({
                            opacity: 0,
                            display: "none",
                            zIndex: 0
                        })
                    }
                    clearTimeout(q);
                    i.data("rsTimeout", "")
                }
                q = m.data("rsTimeout");
                if (q) {
                    clearTimeout(q);
                    m.data("rsTimeout", "")
                }
            }
        },
        _stopAnimation: function () {
            var d = this;
            d._isAnimating = false;
            clearTimeout(d.loadingTimeout);
            if (d._isMove) {
                if (!d._useCSS3Transitions) {
                    d._slidesContainer.stop(true);
                    d._sPosition = parseInt(d._slidesContainer.css(d._xProp), 10)
                } else {
                    var e = d._sPosition;
                    var f = d._currRenderPosition = d._getTransformProp();
                    d._slidesContainer.css((d._vendorPref + d._TD), "0ms");
                    if (e !== f) {
                        d._setPosition(f)
                    }
                }
            } else {
                if (d._fadeZIndex > 20) {
                    d._fadeZIndex = 10
                } else {
                    d._fadeZIndex++
                }
            }
        },
        _getTransformProp: function () {
            var e = this,
                f = window.getComputedStyle(e._slidesContainer.get(0), null)
                .getPropertyValue(e._vendorPref + "transform"),
                d = f.replace(/^matrix\(/i, "")
                .split(/, |\)$/g);
            return parseInt(d[(e._slidesHorizontal ? 4 : 5)], 10)
        },
        _getCSS3Prop: function (f, e) {
            var d = this;
            return d._useCSS3Transitions ? d._tPref1 + (e ? (f + d._tPref2 + 0) : (0 + d._tPref2 + f)) + d._tPref3 : f
        },
        _animationComplete: function (e) {
            var d = this;
            if (!d._isMove) {
                d._currHolder.css("z-index", 0);
                d._fadeZIndex = 10
            }
            d._isAnimating = false;
            d.staticSlideId = d.currSlideId;
            d._updateBlocksContent();
            d._slidesMoved = false;
            d.ev.trigger("rsAfterSlideChange");
            if (d.st.afterSlideChange) {
                d.st.afterSlideChange.call(d)
            }
        },
        _doBackAndForthAnim: function (g, i) {
            var d = this,
                f = (-d._realId - d._idOffset) * d._slideSize;
            moveDist = 30;
            if (d.numSlides === 0) {
                return
            }
            if (d.st.loopRewind) {
                if (g === "left") {
                    d.goTo(d.numSlides - 1, i)
                } else {
                    d.goTo(0, i)
                }
                return
            }
            if (d._isAnimating) {
                return
            }
            if (d._isMove) {
                if (moveDist !== 0) {
                    d._currAnimSpeed = 200;

                    function h() {
                        d._isAnimating = false
                    }

                    function e() {
                        d._isAnimating = false;
                        d._animateTo(f, "", false, true, h)
                    }
                    d._animateTo(f + (g === "left" ? moveDist : -moveDist), "", false, true, e)
                }
            }
        },
        _resizeImage: function (d, y) {
            var s = true;
            if (d.isRendered) {
                return
            }
            var z = d.content;
            var w = "rsImg";
            var t;
            var q = this,
                o = q.st.imageAlignCenter,
                n = q.st.imageScaleMode,
                v;
            if (d.videoURL) {
                w = "rsVideoContainer";
                if (n !== "fill") {
                    t = true
                } else {
                    v = z;
                    if (!v.hasClass(w)) {
                        v = v.find("." + w)
                    }
                    v.css({
                        width: "100%",
                        height: "100%"
                    });
                    w = "rsImg"
                }
            }
            if (!z.hasClass(w)) {
                s = false;
                z = z.find("." + w)
            }
            var k = d.iW,
                f = d.iH;
            d.isRendered = true;
            if (n === "none" && !o) {
                return
            }
            if (n !== "fill") {
                bMargin = q._imagePadding
            } else {
                bMargin = 0
            }
            var m = q._wrapWidth - bMargin * 2,
                p = q._wrapHeight - bMargin * 2,
                g, e, h, i, u, x = {};
            if (n === "fit-if-smaller") {
                if (k > m || f > p) {
                    n = "fit"
                }
            }
            if (n === "fill" || n === "fit") {
                g = m / k;
                e = p / f;
                if (n == "fill") {
                    h = g > e ? g : e
                } else {
                    if (n == "fit") {
                        h = g < e ? g : e
                    } else {
                        h = 1
                    }
                }
                i = Math.ceil(k * h, 10);
                u = Math.ceil(f * h, 10)
            } else {
                i = k;
                u = f
            }
            if (n !== "none") {
                x.width = i;
                x.height = u;
                if (t) {
                    z.find(".rsImg")
                        .css({
                            width: "100%",
                            height: "100%"
                        })
                }
            }
            if (o) {
                x.marginLeft = Math.floor((m - i) / 2) + bMargin;
                x.marginTop = Math.floor((p - u) / 2) + bMargin
            }
            z.css(x)
        }
    };
    c.rsProto = b.prototype;
    c.fn.royalSlider = function (e) {
        var d = arguments;
        return this.each(function () {
            var g = c(this);
            if (typeof e === "object" || !e) {
                if (!g.data("royalSlider")) {
                    g.data("royalSlider", new b(g, e))
                }
            } else {
                var f = g.data("royalSlider");
                if (f && f[e]) {
                    return f[e].apply(f, Array.prototype.slice.call(d, 1))
                }
            }
        })
    };
    c.fn.royalSlider.defaults = {
        slidesSpacing: 8,
        startSlideId: 0,
        loop: false,
        loopRewind: false,
        numImagesToPreload: 4,
        fadeinLoadedSlide: true,
        slidesOrientation: "horizontal",
        transitionType: "move",
        transitionSpeed: 600,
        controlNavigation: "bullets",
        controlsInside: true,
        arrowsNav: true,
        arrowsNavAutoHide: true,
        navigateByClick: true,
        randomizeSlides: false,
        sliderDrag: true,
        sliderTouch: true,
        keyboardNavEnabled: false,
        fadeInAfterLoaded: true,
        allowCSS3: true,
        allowCSS3OnWebkit: true,
        addActiveClass: false,
        autoHeight: false,
        easeOut: "easeOutSine",
        easeInOut: "easeInOutSine",
        minSlideOffset: 10,
        imageScaleMode: "fit-if-smaller",
        imageAlignCenter: true,
        imageScalePadding: 4,
        autoScaleSlider: false,
        autoScaleSliderWidth: 800,
        autoScaleSliderHeight: 400,
        autoScaleHeight: true,
        arrowsNavHideOnTouch: false,
        globalCaption: false,
        beforeSlideChange: null,
        afterSlideChange: null,
        beforeResize: null,
        afterResize: null
    };
    c.rsCSS3Easing = {
        easeOutSine: "cubic-bezier(0.390, 0.575, 0.565, 1.000)",
        easeInOutSine: "cubic-bezier(0.445, 0.050, 0.550, 0.950)"
    };
    c.extend(jQuery.easing, {
        easeInOutSine: function (f, g, e, i, h) {
            return -i / 2 * (Math.cos(Math.PI * g / h) - 1) + e
        },
        easeOutSine: function (f, g, e, i, h) {
            return i * Math.sin(g / h * (Math.PI / 2)) + e
        },
        easeOutCubic: function (f, g, e, i, h) {
            return i * ((g = g / h - 1) * g * g + 1) + e
        }
    })
})(jQuery);
(function (b) {
    b.extend(b.rsProto, {
        _initBullets: function () {
            var c = this;
            if (c.st.controlNavigation === "bullets") {
                var d = '<div class="rsNavItem rsBullet"><span class=""></span></div>';
                c.ev.one("rsAfterPropsSetup", function () {
                    c._controlNavEnabled = true;
                    c.slider.addClass("rsWithBullets");
                    var e = '<div class="rsNav rsBullets">';
                    for (var f = 0; f < c.numSlides; f++) {
                        e += d
                    }
                    e += "</div>";
                    e = b(e);
                    c._controlNav = e;
                    c._controlNavItems = e.children();
                    c.slider.append(e);
                    c._controlNav.click(function (h) {
                        var g = b(h.target)
                            .closest(".rsNavItem");
                        if (g.length) {
                            c.goTo(g.index())
                        }
                    })
                });
                c.ev.on("rsOnAppendSlide", function (h, g, f) {
                    if (f >= c.numSlides) {
                        c._controlNav.append(d)
                    } else {
                        c._controlNavItems.eq(f)
                            .before(d)
                    }
                    c._controlNavItems = c._controlNav.children()
                });
                c.ev.on("rsOnRemoveSlide", function (h, f) {
                    var g = c._controlNavItems.eq(f);
                    if (g) {
                        g.remove();
                        c._controlNavItems = c._controlNav.children()
                    }
                });
                c.ev.on("rsOnUpdateNav", function () {
                    var g = c.currSlideId,
                        e, f;
                    if (c._prevNavItem) {
                        c._prevNavItem.removeClass("rsNavSelected")
                    }
                    e = b(c._controlNavItems[g]);
                    e.addClass("rsNavSelected");
                    c._prevNavItem = e
                })
            }
        }
    });
    b.rsModules.bullets = b.rsProto._initBullets
})(jQuery);
(function (b) {
    b.extend(b.rsProto, {
        _initVideo: function () {
            var c = this;
            c._videoDefaults = {
                autoHideArrows: true,
                autoHideControlNav: false,
                autoHideBlocks: false,
                youTubeCode: '<iframe src="http://www.youtube.com/embed/%id%?rel=1&autoplay=1&showinfo=0&autoplay=1" frameborder="no"></iframe>',
                vimeoCode: '<iframe src="http://player.vimeo.com/video/%id%?byline=0&amp;portrait=0&amp;autoplay=1" frameborder="no" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>'
            };
            c.st.video = b.extend({}, c._videoDefaults, c.st.video);
            c.ev.on("rsBeforeSizeSet", function () {
                if (c._isVideoPlaying) {
                    setTimeout(function () {
                        var e = c._currHolder;
                        e = e.hasClass("rsVideoContainer") ? e : e.find(".rsVideoContainer");
                        c._videoFrameHolder.css({
                            width: e.width(),
                            height: e.height()
                        })
                    }, 32)
                }
            });
            var d = b.browser.mozilla;
            c.ev.on("rsAfterParseNode", function (n, k, m) {
                var g = b(k),
                    o, h;
                if (m.videoURL) {
                    if (!h && d) {
                        h = true;
                        c._useCSS3Transitions = c._use3dTransform = false
                    }
                    var i = b('<div class="rsVideoContainer"></div>'),
                        f = b('<div class="rsBtnCenterer"><div class="rsPlayBtn"><div class="rsPlayBtnIcon"></div></div></div>');
                    if (g.hasClass("rsImg")) {
                        m.content = i.append(g)
                            .append(f)
                    } else {
                        m.content.find(".rsImg")
                            .wrap(i)
                            .after(f)
                    }
                }
            })
        },
        toggleVideo: function () {
            var c = this;
            if (!c._isVideoPlaying) {
                return c.playVideo()
            } else {
                return c.stopVideo()
            }
        },
        playVideo: function () {
            var c = this;
            if (!c._isVideoPlaying) {
                var h = c.currSlide;
                if (!h.videoURL) {
                    return false
                }
                var g = c._currVideoContent = h.content;
                var f = h.videoURL,
                    i, e, d;
                if (f.match(/youtu\.be/i) || f.match(/youtube\.com\/watch/i)) {
                    e = /^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/;
                    d = f.match(e);
                    if (d && d[7].length == 11) {
                        i = d[7]
                    }
                    if (i !== undefined) {
                        c._videoFrameHolder = c.st.video.youTubeCode.replace("%id%", i)
                    }
                } else {
                    if (f.match(/vimeo\.com/i)) {
                        e = /\/\/(www\.)?vimeo.com\/(\d+)($|\/)/;
                        d = f.match(e);
                        if (d) {
                            i = d[2]
                        }
                        if (i !== undefined) {
                            c._videoFrameHolder = c.st.video.vimeoCode.replace("%id%", i)
                        }
                    }
                }
                c.videoObj = b(c._videoFrameHolder);
                c.ev.trigger("rsOnCreateVideoElement", [f]);
                if (c.videoObj.length) {
                    c._videoFrameHolder = b(
                        '<div class="rsVideoFrameHolder"><div class="rsPreloader"></div><div class="rsCloseVideoBtn"><div class="rsCloseVideoIcn"></div></div></div>'
                    );
                    c._videoFrameHolder.find(".rsPreloader")
                        .after(c.videoObj);
                    var g = g.hasClass("rsVideoContainer") ? g : g.find(".rsVideoContainer");
                    c._videoFrameHolder.css({
                            width: g.width(),
                            height: g.height()
                        })
                        .find(".rsCloseVideoBtn")
                        .off("click.rsv")
                        .on("click.rsv", function (k) {
                            c.stopVideo();
                            k.preventDefault();
                            k.stopPropagation();
                            return false
                        });
                    g.append(c._videoFrameHolder);
                    if (c.isIPAD) {
                        g.addClass("rsIOSVideo")
                    }
                    if (c._arrowLeft && c.st.video.autoHideArrows) {
                        c._arrowLeft.addClass("rsHidden");
                        c._arrowRight.addClass("rsHidden");
                        c._arrowsAutoHideLocked = true
                    }
                    if (c._controlNav && c.st.video.autoHideControlNav) {
                        c._controlNav.addClass("rsHidden")
                    }
                    if (c.st.video.autoHideBlocks && c.currSlide.animBlocks) {
                        c.currSlide.animBlocks.addClass("rsHidden")
                    }
                    setTimeout(function () {
                        c._videoFrameHolder.addClass("rsVideoActive")
                    }, 10);
                    c.ev.trigger("rsVideoPlay");
                    c._isVideoPlaying = true
                }
                return true
            }
            return false
        },
        stopVideo: function () {
            var c = this;
            if (c._isVideoPlaying) {
                if (c.isIPAD) {
                    c.slider.find(".rsCloseVideoBtn")
                        .remove()
                }
                if (c._arrowLeft && c.st.video.autoHideArrows) {
                    c._arrowLeft.removeClass("rsHidden");
                    c._arrowRight.removeClass("rsHidden");
                    c._arrowsAutoHideLocked = false
                }
                if (c._controlNav && c.st.video.autoHideControlNav) {
                    c._controlNav.removeClass("rsHidden")
                }
                if (c.st.video.autoHideBlocks && c.currSlide.animBlocks) {
                    c.currSlide.animBlocks.removeClass("rsHidden")
                }
                setTimeout(function () {
                    c.ev.trigger("rsOnDestroyVideoElement", [c.videoObj]);
                    c._videoFrameHolder.remove()
                }, 16);
                c.ev.trigger("rsVideoStop");
                c._isVideoPlaying = false;
                return true
            }
            return false
        }
    });
    b.rsModules.video = b.rsProto._initVideo
})(jQuery);
(function (e) {
    "use strict";
    e.extend(e.rsProto, {
        _initAutoplay: function () {
            var t = this,
                n;
            t._autoPlayDefaults = {
                enabled: false,
                stopAtAction: true,
                pauseOnHover: true,
                delay: 2e3
            };
            if (!t.st.autoPlay && t.st.autoplay) {
                t.st.autoPlay = t.st.autoplay
            }
            t.st.autoPlay = e.extend({}, t._autoPlayDefaults, t.st.autoPlay);
            if (t.st.autoPlay.enabled) {
                t.ev.on("rsBeforeParseNode", function (t, r, i) {
                    r = e(r);
                    n = r.attr("data-rsDelay");
                    if (n) {
                        i.customDelay = parseInt(n, 10)
                    }
                });
                t.ev.one("rsAfterInit", function () {
                    t._setupAutoPlay()
                });
                t.ev.on("rsBeforeDestroy", function () {
                    t.stopAutoPlay();
                    t.slider.off("mouseenter mouseleave");
                    e(window)
                        .off("blur" + t.ns + " focus" + t.ns)
                })
            }
        },
        _setupAutoPlay: function () {
            var t = this;
            t.startAutoPlay();
            t.ev.on("rsAfterContentSet", function (e, n) {
                if (!t._isDragging && !t._isAnimating && t._autoPlayEnabled && n === t.currSlide) {
                    t._play()
                }
            });
            t.ev.on("rsDragRelease", function () {
                if (t._autoPlayEnabled && t._autoPlayPaused) {
                    t._autoPlayPaused = false;
                    t._play()
                }
            });
            t.ev.on("rsAfterSlideChange", function () {
                if (t._autoPlayEnabled) {
                    if (t._autoPlayPaused) {
                        t._autoPlayPaused = false;
                        if (t.currSlide.isLoaded) {
                            t._play()
                        }
                    }
                }
            });
            t.ev.on("rsDragStart", function () {
                if (t._autoPlayEnabled) {
                    if (t.st.autoPlay.stopAtAction) {
                        t.stopAutoPlay()
                    } else {
                        t._autoPlayPaused = true;
                        t._pause()
                    }
                }
            });
            t.ev.on("rsBeforeMove", function (e, n, r) {
                if (t._autoPlayEnabled) {
                    if (r && t.st.autoPlay.stopAtAction) {
                        t.stopAutoPlay()
                    } else {
                        t._autoPlayPaused = true;
                        t._pause()
                    }
                }
            });
            t._pausedByVideo = false;
            t.ev.on("rsVideoStop", function () {
                if (t._autoPlayEnabled) {
                    t._pausedByVideo = false;
                    t._play()
                }
            });
            t.ev.on("rsVideoPlay", function () {
                if (t._autoPlayEnabled) {
                    t._autoPlayPaused = false;
                    t._pause();
                    t._pausedByVideo = true
                }
            });
            e(window)
                .on("blur" + t.ns, function () {
                    if (t._autoPlayEnabled) {
                        t._autoPlayPaused = true;
                        t._pause()
                    }
                })
                .on("focus" + t.ns, function () {
                    if (t._autoPlayEnabled && t._autoPlayPaused) {
                        t._autoPlayPaused = false;
                        t._play()
                    }
                });
            if (t.st.autoPlay.pauseOnHover) {
                t._pausedByHover = false;
                t.slider.hover(function () {
                    if (t._autoPlayEnabled) {
                        t._autoPlayPaused = false;
                        t._pause();
                        t._pausedByHover = true
                    }
                }, function () {
                    if (t._autoPlayEnabled) {
                        t._pausedByHover = false;
                        t._play()
                    }
                })
            }
        },
        toggleAutoPlay: function () {
            var e = this;
            if (e._autoPlayEnabled) {
                e.stopAutoPlay()
            } else {
                e.startAutoPlay()
            }
        },
        startAutoPlay: function () {
            var e = this;
            e._autoPlayEnabled = true;
            if (e.currSlide.isLoaded) {
                e._play()
            }
        },
        stopAutoPlay: function () {
            var e = this;
            e._pausedByVideo = e._pausedByHover = e._autoPlayPaused = e._autoPlayEnabled = false;
            e._pause()
        },
        _play: function () {
            var e = this;
            if (!e._pausedByHover && !e._pausedByVideo) {
                e._autoPlayRunning = true;
                if (e._autoPlayTimeout) {
                    clearTimeout(e._autoPlayTimeout)
                }
                e._autoPlayTimeout = setTimeout(function () {
                    var t;
                    if (!e._loop && !e.st.loopRewind) {
                        t = true;
                        e.st.loopRewind = true
                    }
                    e.next(true);
                    if (t) {
                        t = false;
                        e.st.loopRewind = false
                    }
                }, !e.currSlide.customDelay ? e.st.autoPlay.delay : e.currSlide.customDelay)
            }
        },
        _pause: function () {
            var e = this;
            if (!e._pausedByHover && !e._pausedByVideo) {
                e._autoPlayRunning = false;
                if (e._autoPlayTimeout) {
                    clearTimeout(e._autoPlayTimeout);
                    e._autoPlayTimeout = null
                }
            }
        }
    });
    e.rsModules.autoplay = e.rsProto._initAutoplay
})(jQuery);
/*!
Video.js - HTML5 Video Player
Version 3.2.0

LGPL v3 LICENSE INFO
This file is part of Video.js. Copyright 2011 Zencoder, Inc.

Video.js is free software: you can redistribute it and/or modify
it under the terms of the GNU Lesser General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

Video.js is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU Lesser General Public License for more details.

You should have received a copy of the GNU Lesser General Public License
along with Video.js.  If not, see <http://www.gnu.org/licenses/>.
*/
(function (window, undefined) {
    var document = window.document;
    document.createElement("video");
    document.createElement("audio");
    var VideoJS = function (id, addOptions, ready) {
            var tag;
            if (typeof id == "string") {
                if (id.indexOf("#") === 0) {
                    id = id.slice(1)
                }
                if (_V_.players[id]) {
                    return _V_.players[id]
                } else {
                    tag = _V_.el(id)
                }
            } else {
                tag = id
            }
            if (!tag || !tag.nodeName) {
                throw new TypeError("The element or ID supplied is not valid. (VideoJS)")
            }
            return tag.player || new _V_.Player(tag, addOptions, ready)
        },
        _V_ = VideoJS,
        CDN_VERSION = "3.2";
    VideoJS.players = {};
    VideoJS.options = {
        techOrder: ["html5", "flash"],
        html5: {},
        flash: {
            swf: "http://vjs.zencdn.net/c/video-js.swf"
        },
        width: "auto",
        height: "auto",
        defaultVolume: 0,
        components: {
            posterImage: {},
            textTrackDisplay: {},
            loadingSpinner: {},
            bigPlayButton: {},
            controlBar: {}
        }
    };
    if (CDN_VERSION != "GENERATED_CDN_VSN") {
        _V_.options.flash.swf = "http://vjs.zencdn.net/" + CDN_VERSION + "/video-js.swf"
    }
    _V_.merge = function (obj1, obj2, safe) {
        if (!obj2) {
            obj2 = {}
        }
        for (var attrname in obj2) {
            if (obj2.hasOwnProperty(attrname) && (!safe || !obj1.hasOwnProperty(attrname))) {
                obj1[attrname] = obj2[attrname]
            }
        }
        return obj1
    };
    _V_.extend = function (obj) {
        this.merge(this, obj, true)
    };
    _V_.extend({
        tech: {},
        controlSets: {},
        isIE: function () {
            return !+"\v1"
        },
        isFF: function () {
            return !!_V_.ua.match("Firefox")
        },
        isIPad: function () {
            return navigator.userAgent.match(/iPad/i) !== null
        },
        isIPhone: function () {
            return navigator.userAgent.match(/iPhone/i) !== null
        },
        isIOS: function () {
            return VideoJS.isIPhone() || VideoJS.isIPad()
        },
        iOSVersion: function () {
            var match = navigator.userAgent.match(/OS (\d+)_/i);
            if (match && match[1]) {
                return match[1]
            }
        },
        isAndroid: function () {
            return navigator.userAgent.match(/Android.*AppleWebKit/i) !== null
        },
        androidVersion: function () {
            var match = navigator.userAgent.match(/Android (\d+)\./i);
            if (match && match[1]) {
                return match[1]
            }
        },
        testVid: document.createElement("video"),
        ua: navigator.userAgent,
        support: {},
        each: function (arr, fn) {
            if (!arr || arr.length === 0) {
                return
            }
            for (var i = 0, j = arr.length; i < j; i++) {
                fn.call(this, arr[i], i)
            }
        },
        eachProp: function (obj, fn) {
            if (!obj) {
                return
            }
            for (var name in obj) {
                if (obj.hasOwnProperty(name)) {
                    fn.call(this, name, obj[name])
                }
            }
        },
        el: function (id) {
            return document.getElementById(id)
        },
        createElement: function (tagName, attributes) {
            var el = document.createElement(tagName),
                attrname;
            for (attrname in attributes) {
                if (attributes.hasOwnProperty(attrname)) {
                    if (attrname.indexOf("-") !== -1) {
                        el.setAttribute(attrname, attributes[attrname])
                    } else {
                        el[attrname] = attributes[attrname]
                    }
                }
            }
            return el
        },
        insertFirst: function (node, parent) {
            if (parent.firstChild) {
                parent.insertBefore(node, parent.firstChild)
            } else {
                parent.appendChild(node)
            }
        },
        addClass: function (element, classToAdd) {
            if ((" " + element.className + " ")
                .indexOf(" " + classToAdd + " ") == -1) {
                element.className = element.className === "" ? classToAdd : element.className + " " + classToAdd
            }
        },
        removeClass: function (element, classToRemove) {
            if (element.className.indexOf(classToRemove) == -1) {
                return
            }
            var classNames = element.className.split(" ");
            classNames.splice(classNames.indexOf(classToRemove), 1);
            element.className = classNames.join(" ")
        },
        remove: function (item, array) {
            if (!array) {
                return
            }
            var i = array.indexOf(item);
            if (i != -1) {
                return array.splice(i, 1)
            }
        },
        blockTextSelection: function () {
            document.body.focus();
            document.onselectstart = function () {
                return false
            }
        },
        unblockTextSelection: function () {
            document.onselectstart = function () {
                return true
            }
        },
        formatTime: function (seconds, guide) {
            guide = guide || seconds;
            var s = Math.floor(seconds % 60),
                m = Math.floor(seconds / 60 % 60),
                h = Math.floor(seconds / 3600),
                gm = Math.floor(guide / 60 % 60),
                gh = Math.floor(guide / 3600);
            h = (h > 0 || gh > 0) ? h + ":" : "";
            m = (((h || gm >= 10) && m < 10) ? "0" + m : m) + ":";
            s = (s < 10) ? "0" + s : s;
            return h + m + s
        },
        uc: function (string) {
            return string.charAt(0)
                .toUpperCase() + string.slice(1)
        },
        getRelativePosition: function (x, relativeElement) {
            return Math.max(0, Math.min(1, (x - _V_.findPosX(relativeElement)) / relativeElement.offsetWidth))
        },
        getComputedStyleValue: function (element, style) {
            return window.getComputedStyle(element, null)
                .getPropertyValue(style)
        },
        trim: function (string) {
            return string.toString()
                .replace(/^\s+/, "")
                .replace(/\s+$/, "")
        },
        round: function (num, dec) {
            if (!dec) {
                dec = 0
            }
            return Math.round(num * Math.pow(10, dec)) / Math.pow(10, dec)
        },
        isEmpty: function (object) {
            for (var prop in object) {
                return false
            }
            return true
        },
        createTimeRange: function (start, end) {
            return {
                length: 1,
                start: function () {
                    return start
                },
                end: function () {
                    return end
                }
            }
        },
        cache: {},
        guid: 1,
        expando: "vdata" + (new Date)
            .getTime(),
        getData: function (elem) {
            var id = elem[_V_.expando];
            if (!id) {
                id = elem[_V_.expando] = _V_.guid++;
                _V_.cache[id] = {}
            }
            return _V_.cache[id]
        },
        removeData: function (elem) {
            var id = elem[_V_.expando];
            if (!id) {
                return
            }
            delete _V_.cache[id];
            try {
                delete elem[_V_.expando]
            } catch (e) {
                if (elem.removeAttribute) {
                    elem.removeAttribute(_V_.expando)
                } else {
                    elem[_V_.expando] = null
                }
            }
        },
        proxy: function (context, fn, uid) {
            if (!fn.guid) {
                fn.guid = _V_.guid++
            }
            var ret = function () {
                return fn.apply(context, arguments)
            };
            ret.guid = (uid) ? uid + "_" + fn.guid : fn.guid;
            return ret
        },
        get: function (url, onSuccess, onError) {
            var local = (url.indexOf("file:") == 0 || (window.location.href.indexOf("file:") == 0 && url.indexOf("http:") == -1));
            if (typeof XMLHttpRequest == "undefined") {
                XMLHttpRequest = function () {
                    try {
                        return new ActiveXObject("Msxml2.XMLHTTP.6.0")
                    } catch (e) {}
                    try {
                        return new ActiveXObject("Msxml2.XMLHTTP.3.0")
                    } catch (f) {}
                    try {
                        return new ActiveXObject("Msxml2.XMLHTTP")
                    } catch (g) {}
                    throw new Error("This browser does not support XMLHttpRequest.")
                }
            }
            var request = new XMLHttpRequest();
            try {
                request.open("GET", url)
            } catch (e) {
                _V_.log("VideoJS XMLHttpRequest (open)", e);
                return false
            }
            request.onreadystatechange = _V_.proxy(this, function () {
                if (request.readyState == 4) {
                    if (request.status == 200 || local && request.status == 0) {
                        onSuccess(request.responseText)
                    } else {
                        if (onError) {
                            onError()
                        }
                    }
                }
            });
            try {
                request.send()
            } catch (e) {
                _V_.log("VideoJS XMLHttpRequest (send)", e);
                if (onError) {
                    onError(e)
                }
            }
        },
        setLocalStorage: function (key, value) {
            var localStorage = window.localStorage || false;
            if (!localStorage) {
                return
            }
            try {
                localStorage[key] = value
            } catch (e) {
                if (e.code == 22 || e.code == 1014) {
                    _V_.log("LocalStorage Full (VideoJS)", e)
                } else {
                    _V_.log("LocalStorage Error (VideoJS)", e)
                }
            }
        },
        getAbsoluteURL: function (url) {
            if (!url.match(/^https?:\/\//)) {
                url = _V_.createElement("div", {
                        innerHTML: '<a href="' + url + '">x</a>'
                    })
                    .firstChild.href
            }
            return url
        }
    });
    _V_.log = function () {
        _V_.log.history = _V_.log.history || [];
        _V_.log.history.push(arguments);
        if (window.console) {
            arguments.callee = arguments.callee.caller;
            var newarr = [].slice.call(arguments);
            (typeof console.log === "object" ? _V_.log.apply.call(console.log, console, newarr) : console.log.apply(console, newarr))
        }
    };
    (function (b) {
        function c() {}
        for (var d =
                "assert,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,timeStamp,profile,profileEnd,time,timeEnd,trace,warn"
                .split(","), a; a = d.pop();) {
            b[a] = b[a] || c
        }
    })((function () {
        try {
            console.log();
            return window.console
        } catch (err) {
            return window.console = {}
        }
    })());
    if ("getBoundingClientRect" in document.documentElement) {
        _V_.findPosX = function (el) {
            var box;
            try {
                box = el.getBoundingClientRect()
            } catch (e) {}
            if (!box) {
                return 0
            }
            var docEl = document.documentElement,
                body = document.body,
                clientLeft = docEl.clientLeft || body.clientLeft || 0,
                scrollLeft = window.pageXOffset || body.scrollLeft,
                left = box.left + scrollLeft - clientLeft;
            return left
        }
    } else {
        _V_.findPosX = function (el) {
            var curleft = el.offsetLeft;
            while (el = obj.offsetParent) {
                if (el.className.indexOf("video-js") == -1) {} else {}
                curleft += el.offsetLeft
            }
            return curleft
        }
    }(function () {
        var initializing = false,
            fnTest = /xyz/.test(function () {
                xyz
            }) ? /\b_super\b/ : /.*/;
        _V_.Class = function () {};
        _V_.Class.extend = function (prop) {
            var _super = this.prototype;
            initializing = true;
            var prototype = new this();
            initializing = false;
            for (var name in prop) {
                prototype[name] = typeof prop[name] == "function" && typeof _super[name] == "function" && fnTest.test(prop[name]) ? (function (name,
                    fn) {
                    return function () {
                        var tmp = this._super;
                        this._super = _super[name];
                        var ret = fn.apply(this, arguments);
                        this._super = tmp;
                        return ret
                    }
                })(name, prop[name]) : prop[name]
            }

            function Class() {
                if (!initializing && this.init) {
                    return this.init.apply(this, arguments)
                } else {
                    if (!initializing) {
                        return arguments.callee.prototype.init()
                    }
                }
            }
            Class.prototype = prototype;
            Class.constructor = Class;
            Class.extend = arguments.callee;
            return Class
        }
    })();
    _V_.Component = _V_.Class.extend({
        init: function (player, options) {
            this.player = player;
            options = this.options = _V_.merge(this.options || {}, options);
            if (options.el) {
                this.el = options.el
            } else {
                this.el = this.createElement()
            }
            this.initComponents()
        },
        destroy: function () {},
        createElement: function (type, attrs) {
            return _V_.createElement(type || "div", attrs)
        },
        buildCSSClass: function () {
            return ""
        },
        initComponents: function () {
            var options = this.options;
            if (options && options.components) {
                this.eachProp(options.components, function (name, opts) {
                    var tempAdd = this.proxy(function () {
                        this[name] = this.addComponent(name, opts)
                    });
                    if (opts.loadEvent) {
                        this.one(opts.loadEvent, tempAdd)
                    } else {
                        tempAdd()
                    }
                })
            }
        },
        addComponent: function (name, options) {
            var component, componentClass;
            if (typeof name == "string") {
                options = options || {};
                componentClass = options.componentClass || _V_.uc(name);
                component = new _V_[componentClass](this.player || this, options)
            } else {
                component = name
            }
            this.el.appendChild(component.el);
            return component
        },
        removeComponent: function (component) {
            this.el.removeChild(component.el)
        },
        show: function () {
            this.el.style.display = "block"
        },
        hide: function () {
            this.el.style.display = "none"
        },
        fadeIn: function () {
            this.removeClass("vjs-fade-out");
            this.addClass("vjs-fade-in")
        },
        fadeOut: function () {
            this.removeClass("vjs-fade-in");
            this.addClass("vjs-fade-out")
        },
        lockShowing: function () {
            var style = this.el.style;
            style.display = "block";
            style.opacity = 1;
            style.visiblity = "visible"
        },
        unlockShowing: function () {
            var style = this.el.style;
            style.display = "";
            style.opacity = "";
            style.visiblity = ""
        },
        addClass: function (classToAdd) {
            _V_.addClass(this.el, classToAdd)
        },
        removeClass: function (classToRemove) {
            _V_.removeClass(this.el, classToRemove)
        },
        addEvent: function (type, fn, uid) {
            return _V_.addEvent(this.el, type, _V_.proxy(this, fn))
        },
        removeEvent: function (type, fn) {
            return _V_.removeEvent(this.el, type, fn)
        },
        triggerEvent: function (type, e) {
            return _V_.triggerEvent(this.el, type, e)
        },
        one: function (type, fn) {
            _V_.one(this.el, type, _V_.proxy(this, fn))
        },
        ready: function (fn) {
            if (!fn) {
                return this
            }
            if (this.isReady) {
                fn.call(this)
            } else {
                if (this.readyQueue === undefined) {
                    this.readyQueue = []
                }
                this.readyQueue.push(fn)
            }
            return this
        },
        triggerReady: function () {
            this.isReady = true;
            if (this.readyQueue && this.readyQueue.length > 0) {
                this.each(this.readyQueue, function (fn) {
                    fn.call(this)
                });
                this.readyQueue = [];
                this.triggerEvent("ready")
            }
        },
        each: function (arr, fn) {
            _V_.each.call(this, arr, fn)
        },
        eachProp: function (obj, fn) {
            _V_.eachProp.call(this, obj, fn)
        },
        extend: function (obj) {
            _V_.merge(this, obj)
        },
        proxy: function (fn, uid) {
            return _V_.proxy(this, fn, uid)
        }
    });
    _V_.Control = _V_.Component.extend({
        buildCSSClass: function () {
            return "vjs-control " + this._super()
        }
    });
    _V_.ControlBar = _V_.Component.extend({
        options: {
            loadEvent: "play",
            components: {
                playToggle: {},
                fullscreenToggle: {},
                currentTimeDisplay: {},
                timeDivider: {},
                durationDisplay: {},
                remainingTimeDisplay: {},
                progressControl: {},
                volumeControl: {},
                muteToggle: {}
            }
        },
        init: function (player, options) {
            this._super(player, options);
            player.addEvent("play", this.proxy(function () {
                this.fadeIn();
                this.player.addEvent("mouseover", this.proxy(this.fadeIn));
                this.player.addEvent("mouseout", this.proxy(this.fadeOut))
            }))
        },
        createElement: function () {
            return _V_.createElement("div", {
                className: "vjs-controls"
            })
        },
        fadeIn: function () {
            this._super();
            this.player.triggerEvent("controlsvisible")
        },
        fadeOut: function () {
            this._super();
            this.player.triggerEvent("controlshidden")
        },
        lockShowing: function () {
            this.el.style.opacity = "1"
        }
    });
    _V_.Button = _V_.Control.extend({
        init: function (player, options) {
            this._super(player, options);
            this.addEvent("click", this.onClick);
            this.addEvent("focus", this.onFocus);
            this.addEvent("blur", this.onBlur)
        },
        createElement: function (type, attrs) {
            attrs = _V_.merge({
                className: this.buildCSSClass(),
                innerHTML: '<div><span class="vjs-control-text">' + (this.buttonText || "Need Text") + "</span></div>",
                role: "button",
                tabIndex: 0
            }, attrs);
            return this._super(type, attrs)
        },
        onClick: function () {},
        onFocus: function () {
            _V_.addEvent(document, "keyup", _V_.proxy(this, this.onKeyPress))
        },
        onKeyPress: function (event) {
            if (event.which == 32 || event.which == 13) {
                event.preventDefault();
                this.onClick()
            }
        },
        onBlur: function () {
            _V_.removeEvent(document, "keyup", _V_.proxy(this, this.onKeyPress))
        }
    });
    _V_.PlayButton = _V_.Button.extend({
        buttonText: "Play",
        buildCSSClass: function () {
            return "vjs-play-button " + this._super()
        },
        onClick: function () {
            this.player.play()
        }
    });
    _V_.PauseButton = _V_.Button.extend({
        buttonText: "Pause",
        buildCSSClass: function () {
            return "vjs-pause-button " + this._super()
        },
        onClick: function () {
            this.player.pause()
        }
    });
    _V_.PlayToggle = _V_.Button.extend({
        buttonText: "Play",
        init: function (player, options) {
            this._super(player, options);
            player.addEvent("play", _V_.proxy(this, this.onPlay));
            player.addEvent("pause", _V_.proxy(this, this.onPause))
        },
        buildCSSClass: function () {
            return "vjs-play-control " + this._super()
        },
        onClick: function () {
            if (this.player.paused()) {
                this.player.play()
            } else {
                this.player.pause()
            }
        },
        onPlay: function () {
            _V_.removeClass(this.el, "vjs-paused");
            _V_.addClass(this.el, "vjs-playing")
        },
        onPause: function () {
            _V_.removeClass(this.el, "vjs-playing");
            _V_.addClass(this.el, "vjs-paused")
        }
    });
    _V_.FullscreenToggle = _V_.Button.extend({
        buttonText: "Fullscreen",
        buildCSSClass: function () {
            return "vjs-fullscreen-control " + this._super()
        },
        onClick: function () {
            if (!this.player.isFullScreen) {
                this.player.requestFullScreen()
            } else {
                this.player.cancelFullScreen()
            }
        }
    });
    _V_.BigPlayButton = _V_.Button.extend({
        init: function (player, options) {
            this._super(player, options);
            player.addEvent("play", _V_.proxy(this, this.hide));
            player.addEvent("ended", _V_.proxy(this, this.show))
        },
        createElement: function () {
            return this._super("div", {
                className: "vjs-big-play-button",
                innerHTML: "<span></span>"
            })
        },
        onClick: function () {
            if (this.player.currentTime()) {
                this.player.currentTime(0)
            }
            this.player.play()
        }
    });
    _V_.LoadingSpinner = _V_.Component.extend({
        init: function (player, options) {
            this._super(player, options);
            player.addEvent("canplay", _V_.proxy(this, this.hide));
            player.addEvent("canplaythrough", _V_.proxy(this, this.hide));
            player.addEvent("playing", _V_.proxy(this, this.hide));
            player.addEvent("seeking", _V_.proxy(this, this.show));
            player.addEvent("error", _V_.proxy(this, this.show));
            player.addEvent("waiting", _V_.proxy(this, this.show))
        },
        createElement: function () {
            var classNameSpinner, innerHtmlSpinner;
            if (typeof this.player.el.style.WebkitBorderRadius == "string" || typeof this.player.el.style.MozBorderRadius == "string" || typeof this
                .player.el.style.KhtmlBorderRadius == "string" || typeof this.player.el.style.borderRadius == "string") {
                classNameSpinner = "vjs-loading-spinner";
                innerHtmlSpinner =
                    "<div class='ball1'></div><div class='ball2'></div><div class='ball3'></div><div class='ball4'></div><div class='ball5'></div><div class='ball6'></div><div class='ball7'></div><div class='ball8'></div>"
            } else {
                classNameSpinner = "vjs-loading-spinner-fallback";
                innerHtmlSpinner = ""
            }
            return this._super("div", {
                className: classNameSpinner,
                innerHTML: innerHtmlSpinner
            })
        }
    });
    _V_.CurrentTimeDisplay = _V_.Component.extend({
        init: function (player, options) {
            this._super(player, options);
            player.addEvent("timeupdate", _V_.proxy(this, this.updateContent))
        },
        createElement: function () {
            var el = this._super("div", {
                className: "vjs-current-time vjs-time-controls vjs-control"
            });
            this.content = _V_.createElement("div", {
                className: "vjs-current-time-display",
                innerHTML: "0:00"
            });
            el.appendChild(_V_.createElement("div")
                .appendChild(this.content));
            return el
        },
        updateContent: function () {
            var time = (this.player.scrubbing) ? this.player.values.currentTime : this.player.currentTime();
            this.content.innerHTML = _V_.formatTime(time, this.player.duration())
        }
    });
    _V_.DurationDisplay = _V_.Component.extend({
        init: function (player, options) {
            this._super(player, options);
            player.addEvent("timeupdate", _V_.proxy(this, this.updateContent))
        },
        createElement: function () {
            var el = this._super("div", {
                className: "vjs-duration vjs-time-controls vjs-control"
            });
            this.content = _V_.createElement("div", {
                className: "vjs-duration-display",
                innerHTML: "0:00"
            });
            el.appendChild(_V_.createElement("div")
                .appendChild(this.content));
            return el
        },
        updateContent: function () {
            if (this.player.duration()) {
                this.content.innerHTML = _V_.formatTime(this.player.duration())
            }
        }
    });
    _V_.TimeDivider = _V_.Component.extend({
        createElement: function () {
            return this._super("div", {
                className: "vjs-time-divider",
                innerHTML: "<div><span>/</span></div>"
            })
        }
    });
    _V_.RemainingTimeDisplay = _V_.Component.extend({
        init: function (player, options) {
            this._super(player, options);
            player.addEvent("timeupdate", _V_.proxy(this, this.updateContent))
        },
        createElement: function () {
            var el = this._super("div", {
                className: "vjs-remaining-time vjs-time-controls vjs-control"
            });
            this.content = _V_.createElement("div", {
                className: "vjs-remaining-time-display",
                innerHTML: "-0:00"
            });
            el.appendChild(_V_.createElement("div")
                .appendChild(this.content));
            return el
        },
        updateContent: function () {
            if (this.player.duration()) {
                this.content.innerHTML = "-" + _V_.formatTime(this.player.remainingTime())
            }
        }
    });
    _V_.Slider = _V_.Component.extend({
        init: function (player, options) {
            this._super(player, options);
            player.addEvent(this.playerEvent, _V_.proxy(this, this.update));
            this.addEvent("mousedown", this.onMouseDown);
            this.addEvent("focus", this.onFocus);
            this.addEvent("blur", this.onBlur);
            this.player.addEvent("controlsvisible", this.proxy(this.update));
            this.update()
        },
        createElement: function (type, attrs) {
            attrs = _V_.merge({
                role: "slider",
                "aria-valuenow": 0,
                "aria-valuemin": 0,
                "aria-valuemax": 100,
                tabIndex: 0
            }, attrs);
            return this._super(type, attrs)
        },
        onMouseDown: function (event) {
            event.preventDefault();
            _V_.blockTextSelection();
            _V_.addEvent(document, "mousemove", _V_.proxy(this, this.onMouseMove));
            _V_.addEvent(document, "mouseup", _V_.proxy(this, this.onMouseUp));
            this.onMouseMove(event)
        },
        onMouseUp: function (event) {
            _V_.unblockTextSelection();
            _V_.removeEvent(document, "mousemove", this.onMouseMove, false);
            _V_.removeEvent(document, "mouseup", this.onMouseUp, false);
            this.update()
        },
        update: function () {
            var barProgress, progress = this.getPercent();
            handle = this.handle, bar = this.bar;
            if (isNaN(progress)) {
                progress = 0
            }
            barProgress = progress;
            if (handle) {
                var box = this.el,
                    boxWidth = box.offsetWidth,
                    handleWidth = handle.el.offsetWidth,
                    handlePercent = (handleWidth) ? handleWidth / boxWidth : 0,
                    boxAdjustedPercent = 1 - handlePercent;
                adjustedProgress = progress * boxAdjustedPercent, barProgress = adjustedProgress + (handlePercent / 2);
                handle.el.style.left = _V_.round(adjustedProgress * 100, 2) + "%"
            }
            bar.el.style.width = _V_.round(barProgress * 100, 2) + "%"
        },
        calculateDistance: function (event) {
            var box = this.el,
                boxX = _V_.findPosX(box),
                boxW = box.offsetWidth,
                handle = this.handle;
            if (handle) {
                var handleW = handle.el.offsetWidth;
                boxX = boxX + (handleW / 2);
                boxW = boxW - handleW
            }
            return Math.max(0, Math.min(1, (event.pageX - boxX) / boxW))
        },
        onFocus: function (event) {
            _V_.addEvent(document, "keyup", _V_.proxy(this, this.onKeyPress))
        },
        onKeyPress: function (event) {
            if (event.which == 37) {
                event.preventDefault();
                this.stepBack()
            } else {
                if (event.which == 39) {
                    event.preventDefault();
                    this.stepForward()
                }
            }
        },
        onBlur: function (event) {
            _V_.removeEvent(document, "keyup", _V_.proxy(this, this.onKeyPress))
        }
    });
    _V_.ProgressControl = _V_.Component.extend({
        options: {
            components: {
                seekBar: {}
            }
        },
        createElement: function () {
            return this._super("div", {
                className: "vjs-progress-control vjs-control"
            })
        }
    });
    _V_.SeekBar = _V_.Slider.extend({
        options: {
            components: {
                loadProgressBar: {},
                bar: {
                    componentClass: "PlayProgressBar"
                },
                handle: {
                    componentClass: "SeekHandle"
                }
            }
        },
        playerEvent: "timeupdate",
        init: function (player, options) {
            this._super(player, options)
        },
        createElement: function () {
            return this._super("div", {
                className: "vjs-progress-holder"
            })
        },
        getPercent: function () {
            return this.player.currentTime() / this.player.duration()
        },
        onMouseDown: function (event) {
            this._super(event);
            this.player.scrubbing = true;
            this.videoWasPlaying = !this.player.paused();
            this.player.pause()
        },
        onMouseMove: function (event) {
            var newTime = this.calculateDistance(event) * this.player.duration();
            if (newTime == this.player.duration()) {
                newTime = newTime - 0.1
            }
            this.player.currentTime(newTime)
        },
        onMouseUp: function (event) {
            this._super(event);
            this.player.scrubbing = false;
            if (this.videoWasPlaying) {
                this.player.play()
            }
        },
        stepForward: function () {
            this.player.currentTime(this.player.currentTime() + 1)
        },
        stepBack: function () {
            this.player.currentTime(this.player.currentTime() - 1)
        }
    });
    _V_.LoadProgressBar = _V_.Component.extend({
        init: function (player, options) {
            this._super(player, options);
            player.addEvent("progress", _V_.proxy(this, this.update))
        },
        createElement: function () {
            return this._super("div", {
                className: "vjs-load-progress",
                innerHTML: '<span class="vjs-control-text">Loaded: 0%</span>'
            })
        },
        update: function () {
            if (this.el.style) {
                this.el.style.width = _V_.round(this.player.bufferedPercent() * 100, 2) + "%"
            }
        }
    });
    _V_.PlayProgressBar = _V_.Component.extend({
        createElement: function () {
            return this._super("div", {
                className: "vjs-play-progress",
                innerHTML: '<span class="vjs-control-text">Progress: 0%</span>'
            })
        }
    });
    _V_.SeekHandle = _V_.Component.extend({
        createElement: function () {
            return this._super("div", {
                className: "vjs-seek-handle",
                innerHTML: '<span class="vjs-control-text">00:00</span>'
            })
        }
    });
    _V_.VolumeControl = _V_.Component.extend({
        options: {
            components: {
                volumeBar: {}
            }
        },
        createElement: function () {
            return this._super("div", {
                className: "vjs-volume-control vjs-control"
            })
        }
    });
    _V_.VolumeBar = _V_.Slider.extend({
        options: {
            components: {
                bar: {
                    componentClass: "VolumeLevel"
                },
                handle: {
                    componentClass: "VolumeHandle"
                }
            }
        },
        playerEvent: "volumechange",
        createElement: function () {
            return this._super("div", {
                className: "vjs-volume-bar"
            })
        },
        onMouseMove: function (event) {
            this.player.volume(this.calculateDistance(event))
        },
        getPercent: function () {
            return this.player.volume()
        },
        stepForward: function () {
            this.player.volume(this.player.volume() + 0.1)
        },
        stepBack: function () {
            this.player.volume(this.player.volume() - 0.1)
        }
    });
    _V_.VolumeLevel = _V_.Component.extend({
        createElement: function () {
            return this._super("div", {
                className: "vjs-volume-level",
                innerHTML: '<span class="vjs-control-text"></span>'
            })
        }
    });
    _V_.VolumeHandle = _V_.Component.extend({
        createElement: function () {
            return this._super("div", {
                className: "vjs-volume-handle",
                innerHTML: '<span class="vjs-control-text"></span>'
            })
        }
    });
    _V_.MuteToggle = _V_.Button.extend({
        init: function (player, options) {
            this._super(player, options);
            player.addEvent("volumechange", _V_.proxy(this, this.update))
        },
        createElement: function () {
            return this._super("div", {
                className: "vjs-mute-control vjs-control",
                innerHTML: '<div><span class="vjs-control-text">Mute</span></div>'
            })
        },
        onClick: function (event) {
            this.player.muted(this.player.muted() ? false : true)
        },
        update: function (event) {
            var vol = this.player.volume(),
                level = 3;
            if (vol == 0 || this.player.muted()) {
                level = 0
            } else {
                if (vol < 0.33) {
                    level = 1
                } else {
                    if (vol < 0.67) {
                        level = 2
                    }
                }
            }
            _V_.each.call(this, [0, 1, 2, 3], function (i) {
                _V_.removeClass(this.el, "vjs-vol-" + i)
            });
            _V_.addClass(this.el, "vjs-vol-" + level)
        }
    });
    _V_.PosterImage = _V_.Button.extend({
        init: function (player, options) {
            this._super(player, options);
            if (!this.player.options.poster) {
                this.hide()
            }
            player.addEvent("play", _V_.proxy(this, this.hide))
        },
        createElement: function () {
            return _V_.createElement("img", {
                className: "vjs-poster",
                src: this.player.options.poster,
                tabIndex: -1
            })
        },
        onClick: function () {
            this.player.play()
        }
    });
    _V_.Menu = _V_.Component.extend({
        init: function (player, options) {
            this._super(player, options)
        },
        addItem: function (component) {
            this.addComponent(component);
            component.addEvent("click", this.proxy(function () {
                this.unlockShowing()
            }))
        },
        createElement: function () {
            return this._super("ul", {
                className: "vjs-menu"
            })
        }
    });
    _V_.MenuItem = _V_.Button.extend({
        init: function (player, options) {
            this._super(player, options);
            if (options.selected) {
                this.addClass("vjs-selected")
            }
        },
        createElement: function (type, attrs) {
            return this._super("li", _V_.merge({
                className: "vjs-menu-item",
                innerHTML: this.options.label
            }, attrs))
        },
        onClick: function () {
            this.selected(true)
        },
        selected: function (selected) {
            if (selected) {
                this.addClass("vjs-selected")
            } else {
                this.removeClass("vjs-selected")
            }
        }
    });
    if (!Array.prototype.indexOf) {
        Array.prototype.indexOf = function (searchElement) {
            if (this === void 0 || this === null) {
                throw new TypeError()
            }
            var t = Object(this);
            var len = t.length >>> 0;
            if (len === 0) {
                return -1
            }
            var n = 0;
            if (arguments.length > 0) {
                n = Number(arguments[1]);
                if (n !== n) {
                    n = 0
                } else {
                    if (n !== 0 && n !== (1 / 0) && n !== -(1 / 0)) {
                        n = (n > 0 || -1) * Math.floor(Math.abs(n))
                    }
                }
            }
            if (n >= len) {
                return -1
            }
            var k = n >= 0 ? n : Math.max(len - Math.abs(n), 0);
            for (; k < len; k++) {
                if (k in t && t[k] === searchElement) {
                    return k
                }
            }
            return -1
        }
    }
    _V_.extend({
        addEvent: function (elem, type, fn) {
            var data = _V_.getData(elem),
                handlers;
            if (data && !data.handler) {
                data.handler = function (event) {
                    event = _V_.fixEvent(event);
                    var handlers = _V_.getData(elem)
                        .events[event.type];
                    if (handlers) {
                        var handlersCopy = [];
                        _V_.each(handlers, function (handler, i) {
                            handlersCopy[i] = handler
                        });
                        for (var i = 0, l = handlersCopy.length; i < l; i++) {
                            handlersCopy[i].call(elem, event)
                        }
                    }
                }
            }
            if (!data.events) {
                data.events = {}
            }
            handlers = data.events[type];
            if (!handlers) {
                handlers = data.events[type] = [];
                if (document.addEventListener) {
                    elem.addEventListener(type, data.handler, false)
                } else {
                    if (document.attachEvent) {
                        elem.attachEvent("on" + type, data.handler)
                    }
                }
            }
            if (!fn.guid) {
                fn.guid = _V_.guid++
            }
            handlers.push(fn)
        },
        removeEvent: function (elem, type, fn) {
            var data = _V_.getData(elem),
                handlers;
            if (!data.events) {
                return
            }
            if (!type) {
                for (type in data.events) {
                    _V_.cleanUpEvents(elem, type)
                }
                return
            }
            handlers = data.events[type];
            if (!handlers) {
                return
            }
            if (fn && fn.guid) {
                for (var i = 0; i < handlers.length; i++) {
                    if (handlers[i].guid === fn.guid) {
                        handlers.splice(i--, 1)
                    }
                }
            }
            _V_.cleanUpEvents(elem, type)
        },
        cleanUpEvents: function (elem, type) {
            var data = _V_.getData(elem);
            if (data.events[type].length === 0) {
                delete data.events[type];
                if (document.removeEventListener) {
                    elem.removeEventListener(type, data.handler, false)
                } else {
                    if (document.detachEvent) {
                        elem.detachEvent("on" + type, data.handler)
                    }
                }
            }
            if (_V_.isEmpty(data.events)) {
                delete data.events;
                delete data.handler
            }
            if (_V_.isEmpty(data)) {
                _V_.removeData(elem)
            }
        },
        fixEvent: function (event) {
            if (event[_V_.expando]) {
                return event
            }
            var originalEvent = event;
            event = new _V_.Event(originalEvent);
            for (var i = _V_.Event.props.length, prop; i;) {
                prop = _V_.Event.props[--i];
                event[prop] = originalEvent[prop]
            }
            if (!event.target) {
                event.target = event.srcElement || document
            }
            if (event.target.nodeType === 3) {
                event.target = event.target.parentNode
            }
            if (!event.relatedTarget && event.fromElement) {
                event.relatedTarget = event.fromElement === event.target ? event.toElement : event.fromElement
            }
            if (event.pageX == null && event.clientX != null) {
                var eventDocument = event.target.ownerDocument || document,
                    doc = eventDocument.documentElement,
                    body = eventDocument.body;
                event.pageX = event.clientX + (doc && doc.scrollLeft || body && body.scrollLeft || 0) - (doc && doc.clientLeft || body && body.clientLeft ||
                    0);
                event.pageY = event.clientY + (doc && doc.scrollTop || body && body.scrollTop || 0) - (doc && doc.clientTop || body && body.clientTop ||
                    0)
            }
            if (event.which == null && (event.charCode != null || event.keyCode != null)) {
                event.which = event.charCode != null ? event.charCode : event.keyCode
            }
            if (!event.metaKey && event.ctrlKey) {
                event.metaKey = event.ctrlKey
            }
            if (!event.which && event.button !== undefined) {
                event.which = (event.button & 1 ? 1 : (event.button & 2 ? 3 : (event.button & 4 ? 2 : 0)))
            }
            return event
        },
        triggerEvent: function (elem, event) {
            var data = _V_.getData(elem),
                parent = elem.parentNode || elem.ownerDocument,
                type = event.type || event,
                handler;
            if (data) {
                handler = data.handler
            }
            event = typeof event === "object" ? event[_V_.expando] ? event : new _V_.Event(type, event) : new _V_.Event(type);
            event.type = type;
            if (handler) {
                handler.call(elem, event)
            }
            event.result = undefined;
            event.target = elem
        },
        one: function (elem, type, fn) {
            _V_.addEvent(elem, type, function () {
                _V_.removeEvent(elem, type, arguments.callee);
                fn.apply(this, arguments)
            })
        }
    });
    _V_.Event = function (src, props) {
        if (src && src.type) {
            this.originalEvent = src;
            this.type = src.type;
            this.isDefaultPrevented = (src.defaultPrevented || src.returnValue === false || src.getPreventDefault && src.getPreventDefault()) ?
                returnTrue : returnFalse
        } else {
            this.type = src
        }
        if (props) {
            _V_.merge(this, props)
        }
        this.timeStamp = (new Date)
            .getTime();
        this[_V_.expando] = true
    };
    _V_.Event.prototype = {
        preventDefault: function () {
            this.isDefaultPrevented = returnTrue;
            var e = this.originalEvent;
            if (!e) {
                return
            }
            if (e.preventDefault) {
                e.preventDefault()
            } else {
                e.returnValue = false
            }
        },
        stopPropagation: function () {
            this.isPropagationStopped = returnTrue;
            var e = this.originalEvent;
            if (!e) {
                return
            }
            if (e.stopPropagation) {
                e.stopPropagation()
            }
            e.cancelBubble = true
        },
        stopImmediatePropagation: function () {
            this.isImmediatePropagationStopped = returnTrue;
            this.stopPropagation()
        },
        isDefaultPrevented: returnFalse,
        isPropagationStopped: returnFalse,
        isImmediatePropagationStopped: returnFalse
    };
    _V_.Event.props =
        "altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode metaKey newValue offsetX offsetY pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which"
        .split(" ");

    function returnTrue() {
        return true
    }

    function returnFalse() {
        return false
    }
    var JSON;
    if (!JSON) {
        JSON = {}
    }(function () {
        var cx = /[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;
        if (typeof JSON.parse !== "function") {
            JSON.parse = function (text, reviver) {
                var j;

                function walk(holder, key) {
                    var k, v, value = holder[key];
                    if (value && typeof value === "object") {
                        for (k in value) {
                            if (Object.prototype.hasOwnProperty.call(value, k)) {
                                v = walk(value, k);
                                if (v !== undefined) {
                                    value[k] = v
                                } else {
                                    delete value[k]
                                }
                            }
                        }
                    }
                    return reviver.call(holder, key, value)
                }
                text = String(text);
                cx.lastIndex = 0;
                if (cx.test(text)) {
                    text = text.replace(cx, function (a) {
                        return "\\u" + ("0000" + a.charCodeAt(0)
                                .toString(16))
                            .slice(-4)
                    })
                }
                if (/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g, "@")
                        .replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g, "]")
                        .replace(/(?:^|:|,)(?:\s*\[)+/g, ""))) {
                    j = eval("(" + text + ")");
                    return typeof reviver === "function" ? walk({
                        "": j
                    }, "") : j
                }
                throw new SyntaxError("JSON.parse")
            }
        }
    }());
    _V_.Player = _V_.Component.extend({
        init: function (tag, addOptions, ready) {
            this.tag = tag;
            var el = this.el = _V_.createElement("div"),
                options = this.options = {},
                width = options.width = tag.getAttribute("width"),
                height = options.height = tag.getAttribute("height"),
                initWidth = width || 300,
                initHeight = height || 150;
            tag.player = el.player = this;
            this.ready(ready);
            tag.parentNode.insertBefore(el, tag);
            el.appendChild(tag);
            el.id = this.id = tag.id;
            el.className = tag.className;
            tag.id += "_html5_api";
            tag.className = "vjs-tech";
            _V_.players[el.id] = this;
            el.setAttribute("width", initWidth);
            el.setAttribute("height", initHeight);
            el.style.width = initWidth + "px";
            el.style.height = initHeight + "px";
            tag.removeAttribute("width");
            tag.removeAttribute("height");
            _V_.merge(options, _V_.options);
            _V_.merge(options, this.getVideoTagSettings());
            _V_.merge(options, addOptions);
            tag.removeAttribute("controls");
            tag.removeAttribute("poster");
            if (tag.hasChildNodes()) {
                for (var i = 0, j = tag.childNodes; i < j.length; i++) {
                    if (j[i].nodeName == "SOURCE" || j[i].nodeName == "TRACK") {
                        tag.removeChild(j[i])
                    }
                }
            }
            this.values = {};
            this.addClass("vjs-paused");
            this.addEvent("ended", this.onEnded);
            this.addEvent("play", this.onPlay);
            this.addEvent("pause", this.onPause);
            this.addEvent("progress", this.onProgress);
            this.addEvent("error", this.onError);
            if (options.controls) {
                this.ready(function () {
                    this.initComponents()
                })
            }
            this.textTracks = [];
            if (options.tracks && options.tracks.length > 0) {
                this.addTextTracks(options.tracks)
            }
            if (!options.sources || options.sources.length == 0) {
                for (var i = 0, j = options.techOrder; i < j.length; i++) {
                    var techName = j[i],
                        tech = _V_[techName];
                    if (tech.isSupported()) {
                        this.loadTech(techName);
                        break
                    }
                }
            } else {
                this.src(options.sources)
            }
        },
        values: {},
        destroy: function () {
            this.stopTrackingProgress();
            this.stopTrackingCurrentTime();
            _V_.players[this.id] = null;
            delete _V_.players[this.id];
            this.tech.destroy();
            this.el.parentNode.removeChild(this.el)
        },
        createElement: function (type, options) {},
        getVideoTagSettings: function () {
            var options = {
                sources: [],
                tracks: []
            };
            options.src = this.tag.getAttribute("src");
            options.controls = this.tag.getAttribute("controls") !== null;
            options.poster = this.tag.getAttribute("poster");
            options.preload = this.tag.getAttribute("preload");
            options.autoplay = this.tag.getAttribute("autoplay") !== null;
            options.loop = this.tag.getAttribute("loop") !== null;
            options.muted = this.tag.getAttribute("muted") !== null;
            if (this.tag.hasChildNodes()) {
                for (var c, i = 0, j = this.tag.childNodes; i < j.length; i++) {
                    c = j[i];
                    if (c.nodeName == "SOURCE") {
                        options.sources.push({
                            src: c.getAttribute("src"),
                            type: c.getAttribute("type"),
                            media: c.getAttribute("media"),
                            title: c.getAttribute("title")
                        })
                    }
                    if (c.nodeName == "TRACK") {
                        options.tracks.push({
                            src: c.getAttribute("src"),
                            kind: c.getAttribute("kind"),
                            srclang: c.getAttribute("srclang"),
                            label: c.getAttribute("label"),
                            "default": c.getAttribute("default") !== null,
                            title: c.getAttribute("title")
                        })
                    }
                }
            }
            return options
        },
        loadTech: function (techName, source) {
            if (this.tech) {
                this.unloadTech()
            } else {
                if (techName != "html5" && this.tag) {
                    this.el.removeChild(this.tag);
                    this.tag = false
                }
            }
            this.techName = techName;
            this.isReady = false;
            var techReady = function () {
                this.player.triggerReady();
                if (!this.support.progressEvent) {
                    this.player.manualProgressOn()
                }
                if (!this.support.timeupdateEvent) {
                    this.player.manualTimeUpdatesOn()
                }
            };
            var techOptions = _V_.merge({
                source: source,
                parentEl: this.el
            }, this.options[techName]);
            if (source) {
                if (source.src == this.values.src && this.values.currentTime > 0) {
                    techOptions.startTime = this.values.currentTime
                }
                this.values.src = source.src
            }
            this.tech = new _V_[techName](this, techOptions);
            this.tech.ready(techReady)
        },
        unloadTech: function () {
            this.tech.destroy();
            if (this.manualProgress) {
                this.manualProgressOff()
            }
            if (this.manualTimeUpdates) {
                this.manualTimeUpdatesOff()
            }
            this.tech = false
        },
        manualProgressOn: function () {
            this.manualProgress = true;
            this.trackProgress();
            this.tech.addEvent("progress", function () {
                this.removeEvent("progress", arguments.callee);
                this.support.progressEvent = true;
                this.player.manualProgressOff()
            })
        },
        manualProgressOff: function () {
            this.manualProgress = false;
            this.stopTrackingProgress()
        },
        trackProgress: function () {
            this.progressInterval = setInterval(_V_.proxy(this, function () {
                if (this.values.bufferEnd < this.buffered()
                    .end(0)) {
                    this.triggerEvent("progress")
                } else {
                    if (this.bufferedPercent() == 1) {
                        this.stopTrackingProgress();
                        this.triggerEvent("progress")
                    }
                }
            }), 500)
        },
        stopTrackingProgress: function () {
            clearInterval(this.progressInterval)
        },
        manualTimeUpdatesOn: function () {
            this.manualTimeUpdates = true;
            this.addEvent("play", this.trackCurrentTime);
            this.addEvent("pause", this.stopTrackingCurrentTime);
            this.tech.addEvent("timeupdate", function () {
                this.removeEvent("timeupdate", arguments.callee);
                this.support.timeupdateEvent = true;
                this.player.manualTimeUpdatesOff()
            })
        },
        manualTimeUpdatesOff: function () {
            this.manualTimeUpdates = false;
            this.stopTrackingCurrentTime();
            this.removeEvent("play", this.trackCurrentTime);
            this.removeEvent("pause", this.stopTrackingCurrentTime)
        },
        trackCurrentTime: function () {
            if (this.currentTimeInterval) {
                this.stopTrackingCurrentTime()
            }
            this.currentTimeInterval = setInterval(_V_.proxy(this, function () {
                this.triggerEvent("timeupdate")
            }), 250)
        },
        stopTrackingCurrentTime: function () {
            clearInterval(this.currentTimeInterval)
        },
        onEnded: function () {
            if (this.options.loop) {
                this.currentTime(0);
                this.play()
            } else {
                this.pause();
                this.currentTime(0);
                this.pause()
            }
        },
        onPlay: function () {
            _V_.removeClass(this.el, "vjs-paused");
            _V_.addClass(this.el, "vjs-playing")
        },
        onPause: function () {
            _V_.removeClass(this.el, "vjs-playing");
            _V_.addClass(this.el, "vjs-paused")
        },
        onProgress: function () {
            if (this.bufferedPercent() == 1) {
                this.triggerEvent("loadedalldata")
            }
        },
        onError: function (e) {
            _V_.log("Video Error", e)
        },
        techCall: function (method, arg) {
            if (!this.tech.isReady) {
                this.tech.ready(function () {
                    this[method](arg)
                })
            } else {
                try {
                    this.tech[method](arg)
                } catch (e) {
                    _V_.log(e)
                }
            }
        },
        techGet: function (method) {
            if (this.tech.isReady) {
                try {
                    return this.tech[method]()
                } catch (e) {
                    if (this.tech[method] === undefined) {
                        _V_.log("Video.js: " + method + " method not defined for " + this.techName + " playback technology.", e)
                    } else {
                        if (e.name == "TypeError") {
                            _V_.log("Video.js: " + method + " unavailable on " + this.techName + " playback technology element.", e);
                            this.tech.isReady = false
                        } else {
                            _V_.log(e)
                        }
                    }
                }
            }
            return
        },
        play: function () {
            this.techCall("play");
            return this
        },
        pause: function () {
            this.techCall("pause");
            return this
        },
        paused: function () {
            return (this.techGet("paused") === false) ? false : true
        },
        currentTime: function (seconds) {
            if (seconds !== undefined) {
                this.values.lastSetCurrentTime = seconds;
                this.techCall("setCurrentTime", seconds);
                if (this.manualTimeUpdates) {
                    this.triggerEvent("timeupdate")
                }
                return this
            }
            return this.values.currentTime = (this.techGet("currentTime") || 0)
        },
        duration: function () {
            return parseFloat(this.techGet("duration"))
        },
        remainingTime: function () {
            return this.duration() - this.currentTime()
        },
        buffered: function () {
            var buffered = this.techGet("buffered"),
                start = 0,
                end = this.values.bufferEnd = this.values.bufferEnd || 0,
                timeRange;
            if (buffered && buffered.length > 0 && buffered.end(0) !== end) {
                end = buffered.end(0);
                this.values.bufferEnd = end
            }
            return _V_.createTimeRange(start, end)
        },
        bufferedPercent: function () {
            return (this.duration()) ? this.buffered()
                .end(0) / this.duration() : 0
        },
        volume: function (percentAsDecimal) {
            var vol;
            if (percentAsDecimal !== undefined) {
                vol = Math.max(0, Math.min(1, parseFloat(percentAsDecimal)));
                this.values.volume = vol;
                this.techCall("setVolume", vol);
                _V_.setLocalStorage("volume", vol);
                return this
            }
            vol = parseFloat(this.techGet("volume"));
            return (isNaN(vol)) ? 1 : vol
        },
        muted: function (muted) {
            if (muted !== undefined) {
                this.techCall("setMuted", muted);
                return this
            }
            return this.techGet("muted") || false
        },
        width: function (width, skipListeners) {
            if (width !== undefined) {
                this.el.width = width;
                this.el.style.width = width + "px";
                if (!skipListeners) {
                    this.triggerEvent("resize")
                }
                return this
            }
            return parseInt(this.el.getAttribute("width"))
        },
        height: function (height) {
            if (height !== undefined) {
                this.el.height = height;
                this.el.style.height = height + "px";
                this.triggerEvent("resize");
                return this
            }
            return parseInt(this.el.getAttribute("height"))
        },
        size: function (width, height) {
            return this.width(width, true)
                .height(height)
        },
        supportsFullScreen: function () {
            return this.techGet("supportsFullScreen") || false
        },
        requestFullScreen: function () {
            var requestFullScreen = _V_.support.requestFullScreen;
            this.isFullScreen = true;
            if (requestFullScreen) {
                _V_.addEvent(document, requestFullScreen.eventName, this.proxy(function () {
                    this.isFullScreen = document[requestFullScreen.isFullScreen];
                    if (this.isFullScreen == false) {
                        _V_.removeEvent(document, requestFullScreen.eventName, arguments.callee)
                    }
                    this.triggerEvent("fullscreenchange")
                }));
                if (this.tech.support.fullscreenResize === false && this.options.flash.iFrameMode != true) {
                    this.pause();
                    this.unloadTech();
                    _V_.addEvent(document, requestFullScreen.eventName, this.proxy(function () {
                        _V_.removeEvent(document, requestFullScreen.eventName, arguments.callee);
                        this.loadTech(this.techName, {
                            src: this.values.src
                        })
                    }));
                    this.el[requestFullScreen.requestFn]()
                } else {
                    this.el[requestFullScreen.requestFn]()
                }
            } else {
                if (this.tech.supportsFullScreen()) {
                    this.triggerEvent("fullscreenchange");
                    this.techCall("enterFullScreen")
                } else {
                    this.triggerEvent("fullscreenchange");
                    this.enterFullWindow()
                }
            }
            return this
        },
        cancelFullScreen: function () {
            var requestFullScreen = _V_.support.requestFullScreen;
            this.isFullScreen = false;
            if (requestFullScreen) {
                if (this.tech.support.fullscreenResize === false && this.options.flash.iFrameMode != true) {
                    this.pause();
                    this.unloadTech();
                    _V_.addEvent(document, requestFullScreen.eventName, this.proxy(function () {
                        _V_.removeEvent(document, requestFullScreen.eventName, arguments.callee);
                        this.loadTech(this.techName, {
                            src: this.values.src
                        })
                    }));
                    document[requestFullScreen.cancelFn]()
                } else {
                    document[requestFullScreen.cancelFn]()
                }
            } else {
                if (this.tech.supportsFullScreen()) {
                    this.techCall("exitFullScreen");
                    this.triggerEvent("fullscreenchange")
                } else {
                    this.exitFullWindow();
                    this.triggerEvent("fullscreenchange")
                }
            }
            return this
        },
        enterFullWindow: function () {
            this.isFullWindow = true;
            this.docOrigOverflow = document.documentElement.style.overflow;
            _V_.addEvent(document, "keydown", _V_.proxy(this, this.fullWindowOnEscKey));
            document.documentElement.style.overflow = "hidden";
            _V_.addClass(document.body, "vjs-full-window");
            _V_.addClass(this.el, "vjs-fullscreen");
            this.triggerEvent("enterFullWindow")
        },
        fullWindowOnEscKey: function (event) {
            if (event.keyCode == 27) {
                if (this.isFullScreen == true) {
                    this.cancelFullScreen()
                } else {
                    this.exitFullWindow()
                }
            }
        },
        exitFullWindow: function () {
            this.isFullWindow = false;
            _V_.removeEvent(document, "keydown", this.fullWindowOnEscKey);
            document.documentElement.style.overflow = this.docOrigOverflow;
            _V_.removeClass(document.body, "vjs-full-window");
            _V_.removeClass(this.el, "vjs-fullscreen");
            this.triggerEvent("exitFullWindow")
        },
        selectSource: function (sources) {
            for (var i = 0, j = this.options.techOrder; i < j.length; i++) {
                var techName = j[i],
                    tech = _V_[techName];
                if (tech.isSupported()) {
                    for (var a = 0, b = sources; a < b.length; a++) {
                        var source = b[a];
                        if (tech.canPlaySource.call(this, source)) {
                            return {
                                source: source,
                                tech: techName
                            }
                        }
                    }
                }
            }
            return false
        },
        src: function (source) {
            if (source instanceof Array) {
                var sourceTech = this.selectSource(source),
                    source, techName;
                if (sourceTech) {
                    source = sourceTech.source;
                    techName = sourceTech.tech;
                    if (techName == this.techName) {
                        this.src(source)
                    } else {
                        this.loadTech(techName, source)
                    }
                } else {
                    _V_.log("No compatible source and playback technology were found.")
                }
            } else {
                if (source instanceof Object) {
                    if (_V_[this.techName].canPlaySource(source)) {
                        this.src(source.src)
                    } else {
                        this.src([source])
                    }
                } else {
                    this.values.src = source;
                    if (!this.isReady) {
                        this.ready(function () {
                            this.src(source)
                        })
                    } else {
                        this.techCall("src", source);
                        if (this.options.preload == "auto") {
                            this.load()
                        }
                        if (this.options.autoplay) {
                            this.play()
                        }
                    }
                }
            }
            return this
        },
        load: function () {
            this.techCall("load");
            return this
        },
        currentSrc: function () {
            return this.techGet("currentSrc") || this.values.src || ""
        },
        preload: function (value) {
            if (value !== undefined) {
                this.techCall("setPreload", value);
                this.options.preload = value;
                return this
            }
            return this.techGet("preload")
        },
        autoplay: function (value) {
            if (value !== undefined) {
                this.techCall("setAutoplay", value);
                this.options.autoplay = value;
                return this
            }
            return this.techGet("autoplay", value)
        },
        loop: function (value) {
            if (value !== undefined) {
                this.techCall("setLoop", value);
                this.options.loop = value;
                return this
            }
            return this.techGet("loop")
        },
        controls: function () {
            return this.options.controls
        },
        poster: function () {
            return this.techGet("poster")
        },
        error: function () {
            return this.techGet("error")
        },
        ended: function () {
            return this.techGet("ended")
        }
    });
    (function () {
        var requestFn, cancelFn, eventName, isFullScreen, playerProto = _V_.Player.prototype;
        if (document.cancelFullscreen !== undefined) {
            requestFn = "requestFullscreen";
            cancelFn = "exitFullscreen";
            eventName = "fullscreenchange";
            isFullScreen = "fullScreen"
        } else {
            _V_.each(["moz", "webkit"], function (prefix) {
                if ((prefix != "moz" || document.mozFullScreenEnabled) && document[prefix + "CancelFullScreen"] !== undefined) {
                    requestFn = prefix + "RequestFullScreen";
                    cancelFn = prefix + "CancelFullScreen";
                    eventName = prefix + "fullscreenchange";
                    if (prefix == "webkit") {
                        isFullScreen = prefix + "IsFullScreen"
                    } else {
                        isFullScreen = prefix + "FullScreen"
                    }
                }
            })
        }
        if (requestFn) {
            _V_.support.requestFullScreen = {
                requestFn: requestFn,
                cancelFn: cancelFn,
                eventName: eventName,
                isFullScreen: isFullScreen
            }
        }
    })();
    _V_.PlaybackTech = _V_.Component.extend({
        init: function (player, options) {},
        onClick: function () {
            if (this.player.options.controls) {
                _V_.PlayToggle.prototype.onClick.call(this)
            }
        }
    });
    _V_.apiMethods =
        "play,pause,paused,currentTime,setCurrentTime,duration,buffered,volume,setVolume,muted,setMuted,width,height,supportsFullScreen,enterFullScreen,src,load,currentSrc,preload,setPreload,autoplay,setAutoplay,loop,setLoop,error,networkState,readyState,seeking,initialTime,startOffsetTime,played,seekable,ended,videoTracks,audioTracks,videoWidth,videoHeight,textTracks,defaultPlaybackRate,playbackRate,mediaGroup,controller,controls,defaultMuted"
        .split(",");
    _V_.each(_V_.apiMethods, function (methodName) {
        _V_.PlaybackTech.prototype[methodName] = function () {
            throw new Error("The '" + methodName + "' method is not available on the playback technology's API")
        }
    });
    _V_.html5 = _V_.PlaybackTech.extend({
        init: function (player, options, ready) {
            this.player = player;
            this.el = this.createElement();
            this.ready(ready);
            this.addEvent("click", this.proxy(this.onClick));
            var source = options.source;
            if (source && this.el.currentSrc == source.src) {
                player.triggerEvent("loadstart")
            } else {
                if (source) {
                    this.el.src = source.src
                }
            }
            player.ready(function () {
                if (this.options.autoplay && this.paused()) {
                    this.tag.poster = null;
                    this.play()
                }
            });
            this.setupTriggers();
            this.triggerReady()
        },
        destroy: function () {
            this.player.tag = false;
            this.removeTriggers();
            this.el.parentNode.removeChild(this.el)
        },
        createElement: function () {
            var html5 = _V_.html5,
                player = this.player,
                el = player.tag,
                newEl;
            if (!el || this.support.movingElementInDOM === false) {
                if (el) {
                    player.el.removeChild(el)
                }
                newEl = _V_.createElement("video", {
                    id: el.id || player.el.id + "_html5_api",
                    className: el.className || "vjs-tech"
                });
                el = newEl;
                _V_.insertFirst(el, player.el)
            }
            _V_.each(["autoplay", "preload", "loop", "muted"], function (attr) {
                if (player.options[attr] !== null) {
                    el[attr] = player.options[attr]
                }
            }, this);
            return el
        },
        setupTriggers: function () {
            _V_.each.call(this, _V_.html5.events, function (type) {
                _V_.addEvent(this.el, type, _V_.proxy(this.player, this.eventHandler))
            })
        },
        removeTriggers: function () {
            _V_.each.call(this, _V_.html5.events, function (type) {
                _V_.removeEvent(this.el, type, _V_.proxy(this.player, this.eventHandler))
            })
        },
        eventHandler: function (e) {
            e.stopPropagation();
            this.triggerEvent(e)
        },
        play: function () {
            this.el.play()
        },
        pause: function () {
            this.el.pause()
        },
        paused: function () {
            return this.el.paused
        },
        currentTime: function () {
            return this.el.currentTime
        },
        setCurrentTime: function (seconds) {
            try {
                this.el.currentTime = seconds
            } catch (e) {
                _V_.log(e, "Video isn't ready. (VideoJS)")
            }
        },
        duration: function () {
            return this.el.duration || 0
        },
        buffered: function () {
            return this.el.buffered
        },
        volume: function () {
            return this.el.volume
        },
        setVolume: function (percentAsDecimal) {
            this.el.volume = percentAsDecimal
        },
        muted: function () {
            return this.el.muted
        },
        setMuted: function (muted) {
            this.el.muted = muted
        },
        width: function () {
            return this.el.offsetWidth
        },
        height: function () {
            return this.el.offsetHeight
        },
        supportsFullScreen: function () {
            if (typeof this.el.webkitEnterFullScreen == "function") {
                if (!navigator.userAgent.match("Chrome") && !navigator.userAgent.match("Mac OS X 10.5")) {
                    return true
                }
            }
            return false
        },
        enterFullScreen: function () {
            try {
                this.el.webkitEnterFullScreen()
            } catch (e) {
                if (e.code == 11) {
                    _V_.log("VideoJS: Video not ready.")
                }
            }
        },
        src: function (src) {
            this.el.src = src
        },
        load: function () {
            this.el.load()
        },
        currentSrc: function () {
            return this.el.currentSrc
        },
        preload: function () {
            return this.el.preload
        },
        setPreload: function (val) {
            this.el.preload = val
        },
        autoplay: function () {
            return this.el.autoplay
        },
        setAutoplay: function (val) {
            this.el.autoplay = val
        },
        loop: function () {
            return this.el.loop
        },
        setLoop: function (val) {
            this.el.loop = val
        },
        error: function () {
            return this.el.error
        },
        seeking: function () {
            return this.el.seeking
        },
        ended: function () {
            return this.el.ended
        },
        controls: function () {
            return this.player.options.controls
        },
        defaultMuted: function () {
            return this.el.defaultMuted
        }
    });
    _V_.html5.isSupported = function () {
        return !!document.createElement("video")
            .canPlayType
    };
    _V_.html5.canPlaySource = function (srcObj) {
        return !!document.createElement("video")
            .canPlayType(srcObj.type)
    };
    _V_.html5.events =
        "loadstart,suspend,abort,error,emptied,stalled,loadedmetadata,loadeddata,canplay,canplaythrough,playing,waiting,seeking,seeked,ended,durationchange,timeupdate,progress,play,pause,ratechange,volumechange"
        .split(",");
    _V_.html5.prototype.support = {
        fullscreen: (typeof _V_.testVid.webkitEnterFullScreen !== undefined) ? (!_V_.ua.match("Chrome") && !_V_.ua.match("Mac OS X 10.5") ? true :
            false) : false,
        movingElementInDOM: !_V_.isIOS()
    };
    if (_V_.isAndroid()) {
        if (_V_.androidVersion() < 3) {
            document.createElement("video")
                .constructor.prototype.canPlayType = function (type) {
                    return (type && type.toLowerCase()
                        .indexOf("video/mp4") != -1) ? "maybe" : ""
                }
        }
    }
    _V_.flash = _V_.PlaybackTech.extend({
        init: function (player, options) {
            this.player = player;
            var source = options.source,
                parentEl = options.parentEl,
                placeHolder = this.el = _V_.createElement("div", {
                    id: parentEl.id + "_temp_flash"
                }),
                objId = player.el.id + "_flash_api",
                playerOptions = player.options,
                flashVars = _V_.merge({
                    readyFunction: "_V_.flash.onReady",
                    eventProxyFunction: "_V_.flash.onEvent",
                    errorEventProxyFunction: "_V_.flash.onError",
                    autoplay: playerOptions.autoplay,
                    preload: playerOptions.preload,
                    loop: playerOptions.loop,
                    muted: playerOptions.muted
                }, options.flashVars),
                params = _V_.merge({
                    wmode: "opaque",
                    bgcolor: "#000000"
                }, options.params),
                attributes = _V_.merge({
                    id: objId,
                    name: objId,
                    "class": "vjs-tech"
                }, options.attributes);
            if (source) {
                flashVars.src = encodeURIComponent(_V_.getAbsoluteURL(source.src))
            }
            _V_.insertFirst(placeHolder, parentEl);
            if (options.startTime) {
                this.ready(function () {
                    this.load();
                    this.play();
                    this.currentTime(options.startTime)
                })
            }
            if (options.iFrameMode == true && !_V_.isFF) {
                var iFrm = _V_.createElement("iframe", {
                    id: objId + "_iframe",
                    name: objId + "_iframe",
                    className: "vjs-tech",
                    scrolling: "no",
                    marginWidth: 0,
                    marginHeight: 0,
                    frameBorder: 0
                });
                flashVars.readyFunction = "ready";
                flashVars.eventProxyFunction = "events";
                flashVars.errorEventProxyFunction = "errors";
                _V_.addEvent(iFrm, "load", _V_.proxy(this, function () {
                    var iDoc, objTag, swfLoc, iWin = iFrm.contentWindow,
                        varString = "";
                    iDoc = iFrm.contentDocument ? iFrm.contentDocument : iFrm.contentWindow.document;
                    iDoc.write(_V_.flash.getEmbedCode(options.swf, flashVars, params, attributes));
                    iWin.player = this.player;
                    iWin.ready = _V_.proxy(this.player, function (currSwf) {
                        var el = iDoc.getElementById(currSwf),
                            player = this,
                            tech = player.tech;
                        tech.el = el;
                        _V_.addEvent(el, "click", tech.proxy(tech.onClick));
                        _V_.flash.checkReady(tech)
                    });
                    iWin.events = _V_.proxy(this.player, function (swfID, eventName, other) {
                        var player = this;
                        if (player && player.techName == "flash") {
                            player.triggerEvent(eventName)
                        }
                    });
                    iWin.errors = _V_.proxy(this.player, function (swfID, eventName) {
                        _V_.log("Flash Error", eventName)
                    })
                }));
                placeHolder.parentNode.replaceChild(iFrm, placeHolder)
            } else {
                _V_.flash.embed(options.swf, placeHolder, flashVars, params, attributes)
            }
        },
        destroy: function () {
            this.el.parentNode.removeChild(this.el)
        },
        play: function () {
            this.el.vjs_play()
        },
        pause: function () {
            this.el.vjs_pause()
        },
        src: function (src) {
            src = _V_.getAbsoluteURL(src);
            this.el.vjs_src(src);
            if (this.player.autoplay()) {
                var tech = this;
                setTimeout(function () {
                    tech.play()
                }, 0)
            }
        },
        load: function () {
            this.el.vjs_load()
        },
        poster: function () {
            this.el.vjs_getProperty("poster")
        },
        buffered: function () {
            return _V_.createTimeRange(0, this.el.vjs_getProperty("buffered"))
        },
        supportsFullScreen: function () {
            return false
        },
        enterFullScreen: function () {
            return false
        }
    });
    (function () {
        var api = _V_.flash.prototype,
            readWrite = "preload,currentTime,defaultPlaybackRate,playbackRate,autoplay,loop,mediaGroup,controller,controls,volume,muted,defaultMuted".split(
                ","),
            readOnly =
            "error,currentSrc,networkState,readyState,seeking,initialTime,duration,startOffsetTime,paused,played,seekable,ended,videoTracks,audioTracks,videoWidth,videoHeight,textTracks"
            .split(","),
            callOnly = "load,play,pause".split(",");
        createSetter = function (attr) {
            var attrUpper = attr.charAt(0)
                .toUpperCase() + attr.slice(1);
            api["set" + attrUpper] = function (val) {
                return this.el.vjs_setProperty(attr, val)
            }
        }, createGetter = function (attr) {
            api[attr] = function () {
                return this.el.vjs_getProperty(attr)
            }
        };
        _V_.each(readWrite, function (attr) {
            createGetter(attr);
            createSetter(attr)
        });
        _V_.each(readOnly, function (attr) {
            createGetter(attr)
        })
    })();
    _V_.flash.isSupported = function () {
        return _V_.flash.version()[0] >= 10
    };
    _V_.flash.canPlaySource = function (srcObj) {
        if (srcObj.type in _V_.flash.prototype.support.formats) {
            return "maybe"
        }
    };
    _V_.flash.prototype.support = {
        formats: {
            "video/flv": "FLV",
            "video/x-flv": "FLV",
            "video/mp4": "MP4",
            "video/m4v": "MP4"
        },
        progressEvent: false,
        timeupdateEvent: false,
        fullscreenResize: false,
        parentResize: !(_V_.ua.match("Firefox"))
    };
    _V_.flash.onReady = function (currSwf) {
        var el = _V_.el(currSwf);
        var player = el.player || el.parentNode.player,
            tech = player.tech;
        el.player = player;
        tech.el = el;
        tech.addEvent("click", tech.onClick);
        _V_.flash.checkReady(tech)
    };
    _V_.flash.checkReady = function (tech) {
        if (tech.el.vjs_getProperty) {
            tech.triggerReady()
        } else {
            setTimeout(function () {
                _V_.flash.checkReady(tech)
            }, 50)
        }
    };
    _V_.flash.onEvent = function (swfID, eventName) {
        var player = _V_.el(swfID)
            .player;
        player.triggerEvent(eventName)
    };
    _V_.flash.onError = function (swfID, err) {
        var player = _V_.el(swfID)
            .player;
        player.triggerEvent("error");
        _V_.log("Flash Error", err, swfID)
    };
    _V_.flash.version = function () {
        var version = "0,0,0";
        try {
            version = new ActiveXObject("ShockwaveFlash.ShockwaveFlash")
                .GetVariable("$version")
                .replace(/\D+/g, ",")
                .match(/^,?(.+),?$/)[1]
        } catch (e) {
            try {
                if (navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin) {
                    version = (navigator.plugins["Shockwave Flash 2.0"] || navigator.plugins["Shockwave Flash"])
                        .description.replace(/\D+/g, ",")
                        .match(/^,?(.+),?$/)[1]
                }
            } catch (e) {}
        }
        return version.split(",")
    };
    _V_.flash.embed = function (swf, placeHolder, flashVars, params, attributes) {
        var code = _V_.flash.getEmbedCode(swf, flashVars, params, attributes),
            obj = _V_.createElement("div", {
                innerHTML: code
            })
            .childNodes[0],
            par = placeHolder.parentNode;
        placeHolder.parentNode.replaceChild(obj, placeHolder);
        if (_V_.isIE()) {
            var newObj = par.childNodes[0];
            setTimeout(function () {
                newObj.style.display = "block"
            }, 1000)
        }
        return obj
    };
    _V_.flash.getEmbedCode = function (swf, flashVars, params, attributes) {
        var objTag = '<object type="application/x-shockwave-flash"',
            flashVarsString = "",
            paramsString = "";
        attrsString = "";
        if (flashVars) {
            _V_.eachProp(flashVars, function (key, val) {
                flashVarsString += (key + "=" + val + "&amp;")
            })
        }
        params = _V_.merge({
            movie: swf,
            flashvars: flashVarsString,
            allowScriptAccess: "always",
            allowNetworking: "all"
        }, params);
        _V_.eachProp(params, function (key, val) {
            paramsString += '<param name="' + key + '" value="' + val + '" />'
        });
        attributes = _V_.merge({
            data: swf,
            width: "100%",
            height: "100%"
        }, attributes);
        _V_.eachProp(attributes, function (key, val) {
            attrsString += (key + '="' + val + '" ')
        });
        return objTag + attrsString + ">" + paramsString + "</object>"
    };
    _V_.merge(_V_.Player.prototype, {
        addTextTracks: function (trackObjects) {
            var tracks = this.textTracks = (this.textTracks) ? this.textTracks : [],
                i = 0,
                j = trackObjects.length,
                track, Kind;
            for (; i < j; i++) {
                Kind = _V_.uc(trackObjects[i].kind || "subtitles");
                track = new _V_[Kind + "Track"](this, trackObjects[i]);
                tracks.push(track);
                if (track["default"]) {
                    this.ready(_V_.proxy(track, track.show))
                }
            }
            return this
        },
        showTextTrack: function (id, disableSameKind) {
            var tracks = this.textTracks,
                i = 0,
                j = tracks.length,
                track, showTrack, kind;
            for (; i < j; i++) {
                track = tracks[i];
                if (track.id === id) {
                    track.show();
                    showTrack = track
                } else {
                    if (disableSameKind && track.kind == disableSameKind && track.mode > 0) {
                        track.disable()
                    }
                }
            }
            kind = (showTrack) ? showTrack.kind : ((disableSameKind) ? disableSameKind : false);
            if (kind) {
                this.triggerEvent(kind + "trackchange")
            }
            return this
        }
    });
    _V_.Track = _V_.Component.extend({
        init: function (player, options) {
            this._super(player, options);
            _V_.merge(this, {
                id: options.id || ("vjs_" + options.kind + "_" + options.language + "_" + _V_.guid++),
                src: options.src,
                "default": options["default"],
                title: options.title,
                language: options.srclang,
                label: options.label,
                cues: [],
                activeCues: [],
                readyState: 0,
                mode: 0
            })
        },
        createElement: function () {
            return this._super("div", {
                className: "vjs-" + this.kind + " vjs-text-track"
            })
        },
        show: function () {
            this.activate();
            this.mode = 2;
            this._super()
        },
        hide: function () {
            this.activate();
            this.mode = 1;
            this._super()
        },
        disable: function () {
            if (this.mode == 2) {
                this.hide()
            }
            this.deactivate();
            this.mode = 0
        },
        activate: function () {
            if (this.readyState == 0) {
                this.load()
            }
            if (this.mode == 0) {
                this.player.addEvent("timeupdate", this.proxy(this.update, this.id));
                this.player.addEvent("ended", this.proxy(this.reset, this.id));
                if (this.kind == "captions" || this.kind == "subtitles") {
                    this.player.textTrackDisplay.addComponent(this)
                }
            }
        },
        deactivate: function () {
            this.player.removeEvent("timeupdate", this.proxy(this.update, this.id));
            this.player.removeEvent("ended", this.proxy(this.reset, this.id));
            this.reset();
            this.player.textTrackDisplay.removeComponent(this)
        },
        load: function () {
            if (this.readyState == 0) {
                this.readyState = 1;
                _V_.get(this.src, this.proxy(this.parseCues), this.proxy(this.onError))
            }
        },
        onError: function (err) {
            this.error = err;
            this.readyState = 3;
            this.triggerEvent("error")
        },
        parseCues: function (srcContent) {
            var cue, time, text, lines = srcContent.split("\n"),
                line = "",
                id;
            for (var i = 1, j = lines.length; i < j; i++) {
                line = _V_.trim(lines[i]);
                if (line) {
                    if (line.indexOf("-->") == -1) {
                        id = line;
                        line = _V_.trim(lines[++i])
                    } else {
                        id = this.cues.length
                    }
                    cue = {
                        id: id,
                        index: this.cues.length
                    };
                    time = line.split(" --> ");
                    cue.startTime = this.parseCueTime(time[0]);
                    cue.endTime = this.parseCueTime(time[1]);
                    text = [];
                    while (lines[++i] && (line = _V_.trim(lines[i]))) {
                        text.push(line)
                    }
                    cue.text = text.join("<br/>");
                    this.cues.push(cue)
                }
            }
            this.readyState = 2;
            this.triggerEvent("loaded")
        },
        parseCueTime: function (timeText) {
            var parts = timeText.split(":"),
                time = 0,
                hours, minutes, other, seconds, ms, flags;
            if (parts.length == 3) {
                hours = parts[0];
                minutes = parts[1];
                other = parts[2]
            } else {
                hours = 0;
                minutes = parts[0];
                other = parts[1]
            }
            other = other.split(/\s+/);
            seconds = other.splice(0, 1)[0];
            seconds = seconds.split(/\.|,/);
            ms = parseFloat(seconds[1]);
            seconds = seconds[0];
            time += parseFloat(hours) * 3600;
            time += parseFloat(minutes) * 60;
            time += parseFloat(seconds);
            if (ms) {
                time += ms / 1000
            }
            return time
        },
        update: function () {
            if (this.cues.length > 0) {
                var time = this.player.currentTime();
                if (this.prevChange === undefined || time < this.prevChange || this.nextChange <= time) {
                    var cues = this.cues,
                        newNextChange = this.player.duration(),
                        newPrevChange = 0,
                        reverse = false,
                        newCues = [],
                        firstActiveIndex, lastActiveIndex, html = "",
                        cue, i, j;
                    if (time >= this.nextChange || this.nextChange === undefined) {
                        i = (this.firstActiveIndex !== undefined) ? this.firstActiveIndex : 0
                    } else {
                        reverse = true;
                        i = (this.lastActiveIndex !== undefined) ? this.lastActiveIndex : cues.length - 1
                    }
                    while (true) {
                        cue = cues[i];
                        if (cue.endTime <= time) {
                            newPrevChange = Math.max(newPrevChange, cue.endTime);
                            if (cue.active) {
                                cue.active = false
                            }
                        } else {
                            if (time < cue.startTime) {
                                newNextChange = Math.min(newNextChange, cue.startTime);
                                if (cue.active) {
                                    cue.active = false
                                }
                                if (!reverse) {
                                    break
                                }
                            } else {
                                if (reverse) {
                                    newCues.splice(0, 0, cue);
                                    if (lastActiveIndex === undefined) {
                                        lastActiveIndex = i
                                    }
                                    firstActiveIndex = i
                                } else {
                                    newCues.push(cue);
                                    if (firstActiveIndex === undefined) {
                                        firstActiveIndex = i
                                    }
                                    lastActiveIndex = i
                                }
                                newNextChange = Math.min(newNextChange, cue.endTime);
                                newPrevChange = Math.max(newPrevChange, cue.startTime);
                                cue.active = true
                            }
                        }
                        if (reverse) {
                            if (i === 0) {
                                break
                            } else {
                                i--
                            }
                        } else {
                            if (i === cues.length - 1) {
                                break
                            } else {
                                i++
                            }
                        }
                    }
                    this.activeCues = newCues;
                    this.nextChange = newNextChange;
                    this.prevChange = newPrevChange;
                    this.firstActiveIndex = firstActiveIndex;
                    this.lastActiveIndex = lastActiveIndex;
                    this.updateDisplay();
                    this.triggerEvent("cuechange")
                }
            }
        },
        updateDisplay: function () {
            var cues = this.activeCues,
                html = "",
                i = 0,
                j = cues.length;
            for (; i < j; i++) {
                html += "<span class='vjs-tt-cue'>" + cues[i].text + "</span>"
            }
            this.el.innerHTML = html
        },
        reset: function () {
            this.nextChange = 0;
            this.prevChange = this.player.duration();
            this.firstActiveIndex = 0;
            this.lastActiveIndex = 0
        }
    });
    _V_.CaptionsTrack = _V_.Track.extend({
        kind: "captions"
    });
    _V_.SubtitlesTrack = _V_.Track.extend({
        kind: "subtitles"
    });
    _V_.ChaptersTrack = _V_.Track.extend({
        kind: "chapters"
    });
    _V_.TextTrackDisplay = _V_.Component.extend({
        createElement: function () {
            return this._super("div", {
                className: "vjs-text-track-display"
            })
        }
    });
    _V_.TextTrackMenuItem = _V_.MenuItem.extend({
        init: function (player, options) {
            var track = this.track = options.track;
            options.label = track.label;
            options.selected = track["default"];
            this._super(player, options);
            this.player.addEvent(track.kind + "trackchange", _V_.proxy(this, this.update))
        },
        onClick: function () {
            this._super();
            this.player.showTextTrack(this.track.id, this.track.kind)
        },
        update: function () {
            if (this.track.mode == 2) {
                this.selected(true)
            } else {
                this.selected(false)
            }
        }
    });
    _V_.OffTextTrackMenuItem = _V_.TextTrackMenuItem.extend({
        init: function (player, options) {
            options.track = {
                kind: options.kind,
                player: player,
                label: "Off"
            };
            this._super(player, options)
        },
        onClick: function () {
            this._super();
            this.player.showTextTrack(this.track.id, this.track.kind)
        },
        update: function () {
            var tracks = this.player.textTracks,
                i = 0,
                j = tracks.length,
                track, off = true;
            for (; i < j; i++) {
                track = tracks[i];
                if (track.kind == this.track.kind && track.mode == 2) {
                    off = false
                }
            }
            if (off) {
                this.selected(true)
            } else {
                this.selected(false)
            }
        }
    });
    _V_.TextTrackButton = _V_.Button.extend({
        init: function (player, options) {
            this._super(player, options);
            this.menu = this.createMenu();
            if (this.items.length === 0) {
                this.hide()
            }
        },
        createMenu: function () {
            var menu = new _V_.Menu(this.player);
            menu.el.appendChild(_V_.createElement("li", {
                className: "vjs-menu-title",
                innerHTML: _V_.uc(this.kind)
            }));
            menu.addItem(new _V_.OffTextTrackMenuItem(this.player, {
                kind: this.kind
            }));
            this.items = this.createItems();
            this.each(this.items, function (item) {
                menu.addItem(item)
            });
            this.addComponent(menu);
            return menu
        },
        createItems: function () {
            var items = [];
            this.each(this.player.textTracks, function (track) {
                if (track.kind === this.kind) {
                    items.push(new _V_.TextTrackMenuItem(this.player, {
                        track: track
                    }))
                }
            });
            return items
        },
        buildCSSClass: function () {
            return this.className + " vjs-menu-button " + this._super()
        },
        onFocus: function () {
            this.menu.lockShowing();
            _V_.one(this.menu.el.childNodes[this.menu.el.childNodes.length - 1], "blur", this.proxy(function () {
                this.menu.unlockShowing()
            }))
        },
        onBlur: function () {},
        onClick: function () {
            this.one("mouseout", this.proxy(function () {
                this.menu.unlockShowing();
                this.el.blur()
            }))
        }
    });
    _V_.CaptionsButton = _V_.TextTrackButton.extend({
        kind: "captions",
        buttonText: "Captions",
        className: "vjs-captions-button"
    });
    _V_.SubtitlesButton = _V_.TextTrackButton.extend({
        kind: "subtitles",
        buttonText: "Subtitles",
        className: "vjs-subtitles-button"
    });
    _V_.ChaptersButton = _V_.TextTrackButton.extend({
        kind: "chapters",
        buttonText: "Chapters",
        className: "vjs-chapters-button",
        createItems: function (chaptersTrack) {
            var items = [];
            this.each(this.player.textTracks, function (track) {
                if (track.kind === this.kind) {
                    items.push(new _V_.TextTrackMenuItem(this.player, {
                        track: track
                    }))
                }
            });
            return items
        },
        createMenu: function () {
            var tracks = this.player.textTracks,
                i = 0,
                j = tracks.length,
                track, chaptersTrack, items = this.items = [];
            for (; i < j; i++) {
                track = tracks[i];
                if (track.kind == this.kind && track["default"]) {
                    if (track.readyState < 2) {
                        this.chaptersTrack = track;
                        track.addEvent("loaded", this.proxy(this.createMenu));
                        return
                    } else {
                        chaptersTrack = track;
                        break
                    }
                }
            }
            var menu = this.menu = new _V_.Menu(this.player);
            menu.el.appendChild(_V_.createElement("li", {
                className: "vjs-menu-title",
                innerHTML: _V_.uc(this.kind)
            }));
            if (chaptersTrack) {
                var cues = chaptersTrack.cues,
                    i = 0,
                    j = cues.length,
                    cue, mi;
                for (; i < j; i++) {
                    cue = cues[i];
                    mi = new _V_.ChaptersTrackMenuItem(this.player, {
                        track: chaptersTrack,
                        cue: cue
                    });
                    items.push(mi);
                    menu.addComponent(mi)
                }
            }
            this.addComponent(menu);
            if (this.items.length > 0) {
                this.show()
            }
            return menu
        }
    });
    _V_.ChaptersTrackMenuItem = _V_.MenuItem.extend({
        init: function (player, options) {
            var track = this.track = options.track,
                cue = this.cue = options.cue,
                currentTime = player.currentTime();
            options.label = cue.text;
            options.selected = (cue.startTime <= currentTime && currentTime < cue.endTime);
            this._super(player, options);
            track.addEvent("cuechange", _V_.proxy(this, this.update))
        },
        onClick: function () {
            this._super();
            this.player.currentTime(this.cue.startTime);
            this.update(this.cue.startTime)
        },
        update: function (time) {
            var cue = this.cue,
                currentTime = this.player.currentTime();
            if (cue.startTime <= currentTime && currentTime < cue.endTime) {
                this.selected(true)
            } else {
                this.selected(false)
            }
        }
    });
    _V_.merge(_V_.ControlBar.prototype.options.components, {
        subtitlesButton: {},
        captionsButton: {},
        chaptersButton: {}
    });
    _V_.autoSetup = function () {
        var options, vid, player, vids = document.getElementsByTagName("video");
        if (vids && vids.length > 0) {
            for (var i = 0, j = vids.length; i < j; i++) {
                vid = vids[i];
                if (vid && vid.getAttribute) {
                    if (vid.player === undefined) {
                        options = vid.getAttribute("data-setup");
                        if (options !== null) {
                            options = JSON.parse(options || "{}");
                            player = _V_(vid, options)
                        }
                    }
                } else {
                    _V_.autoSetupTimeout(1);
                    break
                }
            }
        } else {
            if (!_V_.windowLoaded) {
                _V_.autoSetupTimeout(1)
            }
        }
    };
    _V_.autoSetupTimeout = function (wait) {
        setTimeout(_V_.autoSetup, wait)
    };
    _V_.addEvent(window, "load", function () {
        _V_.windowLoaded = true
    });
    _V_.autoSetup();
    window.VideoJS = window._V_ = VideoJS
})(window);
(window._gsQueue || (window._gsQueue = []))
.push(function () {
    _gsDefine("TweenMax", ["core.Animation", "core.SimpleTimeline", "TweenLite"], function (o, q, h) {
        var d = function (e, i, c) {
                h.call(this, e, i, c);
                this._cycle = 0;
                this._yoyo = !0 == this.vars.yoyo;
                this._repeat = this.vars.repeat || 0;
                this._repeatDelay = this.vars.repeatDelay || 0;
                this._dirty = !0
            },
            f = d.prototype = h.to({}, 0.1, {}),
            k = [];
        f.constructor = d;
        f.kill()
            ._gc = !1;
        d.killTweensOf = d.killDelayedCallsTo = h.killTweensOf;
        d.getTweensOf = h.getTweensOf;
        d.ticker = h.ticker;
        f.invalidate = function () {
            this._yoyo = !0 == this.vars.yoyo;
            this._repeat = this.vars.repeat || 0;
            this._repeatDelay = this.vars.repeatDelay || 0;
            this._uncache(!0);
            return h.prototype.invalidate.call(this)
        };
        f.updateTo = function (i, m) {
            var c = this.ratio,
                e;
            m && (null != this.timeline && this._startTime < this._timeline._time) && (this._startTime = this._timeline._time, this._uncache(!
                1), this._gc ? this._enabled(!0, !1) : this._timeline.insert(this, this._startTime - this._delay));
            for (e in i) {
                this.vars[e] = i[e]
            }
            if (this._initted) {
                if (m) {
                    this._initted = !1
                } else {
                    if (this._notifyPluginsOfEnabled && this._firstPT && h._onPluginEvent("_onDisable", this), 0.998 < this._time / this._duration) {
                        c = this._time, this.render(0, !0, !1), this._initted = !1, this.render(c, !0, !1)
                    } else {
                        if (0 < this._time) {
                            this._initted = !1;
                            this._init();
                            c = 1 / (1 - c);
                            e = this._firstPT;
                            for (var p; e;) {
                                p = e.s + e.c, e.c *= c, e.s = p - e.c, e = e._next
                            }
                        }
                    }
                }
            }
            return this
        };
        f.render = function (y, w, v) {
            var p = !this._dirty ? this._totalDuration : this.totalDuration(),
                e = this._time,
                C = this._totalTime,
                u = this._cycle,
                z, m;
            if (y >= p) {
                if (this._totalTime = p, this._cycle = this._repeat, this._yoyo && 0 !== (this._cycle & 1) ? (this._time = 0, this.ratio =
                        this._ease._calcEnd ? this._ease.getRatio(0) : 0) : (this._time = this._duration, this.ratio = this._ease._calcEnd ?
                        this._ease.getRatio(1) : 1), this._reversed || (z = !0, m = "onComplete"), 0 === this._duration) {
                    if (0 === y || 0 > this._rawPrevTime) {
                        this._rawPrevTime !== y && (v = !0)
                    }
                    this._rawPrevTime = y
                }
            } else {
                if (0 >= y) {
                    this._totalTime = this._time = this._cycle = 0;
                    this.ratio = this._ease._calcEnd ? this._ease.getRatio(0) : 0;
                    if (0 !== C || 0 === this._duration && 0 < this._rawPrevTime) {
                        m = "onReverseComplete", z = this._reversed
                    }
                    0 > y ? (this._active = !1, 0 === this._duration && (0 <= this._rawPrevTime && (v = !0), this._rawPrevTime = y)) : this
                        ._initted || (v = !0)
                } else {
                    if (this._totalTime = this._time = y, 0 !== this._repeat && (y = this._duration + this._repeatDelay, this._cycle = this
                            ._totalTime / y >> 0, 0 !== this._cycle && this._cycle === this._totalTime / y && this._cycle--, this._time =
                            this._totalTime - this._cycle * y, this._yoyo && 0 !== (this._cycle & 1) && (this._time = this._duration - this
                                ._time), this._time > this._duration ? this._time = this._duration : 0 > this._time && (this._time = 0)),
                        this._easeType) {
                        var y = this._time / this._duration,
                            p = this._easeType,
                            c = this._easePower;
                        if (1 === p || 3 === p && 0.5 <= y) {
                            y = 1 - y
                        }
                        3 === p && (y *= 2);
                        1 === c ? y *= y : 2 === c ? y *= y * y : 3 === c ? y *= y * y * y : 4 === c && (y *= y * y * y * y);
                        this.ratio = 1 === p ? 1 - y : 2 === p ? y : 0.5 > this._time / this._duration ? y / 2 : 1 - y / 2
                    } else {
                        this.ratio = this._ease.getRatio(this._time / this._duration)
                    }
                }
            }
            if (e !== this._time || v) {
                this._initted || (this._init(), !z && this._time && (this.ratio = this._ease.getRatio(this._time / this._duration)));
                !this._active && !this._paused && (this._active = !0);
                if (0 == C && this.vars.onStart && (0 !== this._totalTime || 0 === this._duration)) {
                    w || this.vars.onStart.apply(this.vars.onStartScope || this, this.vars.onStartParams || k)
                }
                for (v = this._firstPT; v;) {
                    if (v.f) {
                        v.t[v.p](v.c * this.ratio + v.s)
                    } else {
                        v.t[v.p] = v.c * this.ratio + v.s
                    }
                    v = v._next
                }
                this._onUpdate && (w || this._onUpdate.apply(this.vars.onUpdateScope || this, this.vars.onUpdateParams || k));
                this._cycle != u && (w || this._gc || this.vars.onRepeat && this.vars.onRepeat.apply(this.vars.onRepeatScope || this, this.vars
                    .onRepeatParams || k));
                m && !this._gc && (z && (this._timeline.autoRemoveChildren && this._enabled(!1, !1), this._active = !1), w || this.vars[m] &&
                    this.vars[m].apply(this.vars[m + "Scope"] || this, this.vars[m + "Params"] || k))
            }
        };
        d.to = function (c, i, e) {
            return new d(c, i, e)
        };
        d.from = function (c, i, e) {
            e.runBackwards = !0;
            !1 != e.immediateRender && (e.immediateRender = !0);
            return new d(c, i, e)
        };
        d.fromTo = function (c, m, i, e) {
            e.startAt = i;
            i.immediateRender && (e.immediateRender = !0);
            return new d(c, m, e)
        };
        d.staggerTo = d.allTo = function (F, D, A, y, v, E, I) {
            var y = y || 0,
                G = [],
                z = F.length,
                p = A.delay || 0,
                C, H, w;
            for (H = 0; H < z; H++) {
                C = {};
                for (w in A) {
                    C[w] = A[w]
                }
                C.delay = p;
                H === z - 1 && v && (C.onComplete = function () {
                    A.onComplete && A.onComplete.apply(A.onCompleteScope, A.onCompleteParams);
                    v.apply(I, E)
                });
                G[H] = new d(F[H], D, C);
                p += y
            }
            return G
        };
        d.staggerFrom = d.allFrom = function (e, u, p, i, w, v, m) {
            p.runBackwards = !0;
            !1 != p.immediateRender && (p.immediateRender = !0);
            return d.staggerTo(e, u, p, i, w, v, m)
        };
        d.staggerFromTo = d.allFromTo = function (i, v, u, m, y, w, p, e) {
            m.startAt = u;
            u.immediateRender && (m.immediateRender = !0);
            return d.staggerTo(i, v, m, y, w, p, e)
        };
        d.delayedCall = function (c, m, i, e, p) {
            return new d(m, 0, {
                delay: c,
                onComplete: m,
                onCompleteParams: i,
                onCompleteScope: e,
                onReverseComplete: m,
                onReverseCompleteParams: i,
                onReverseCompleteScope: e,
                immediateRender: !1,
                useFrames: p,
                overwrite: 0
            })
        };
        d.set = function (c, e) {
            return new d(c, 0, e)
        };
        d.isTweening = function (c) {
            for (var c = h.getTweensOf(c), i = c.length, e; - 1 < --i;) {
                if ((e = c[i])
                    ._active || e._startTime === e.timeline._time && e.timeline._active) {
                    return !0
                }
            }
            return !1
        };
        var s = function (c, m) {
                for (var i = [], e = 0, p = c._first; p;) {
                    p instanceof h ? i[e++] = p : (m && (i[e++] = p), i = i.concat(s(p, m)), e = i.length), p = p._next
                }
                return i
            },
            g = d.getAllTweens = function (c) {
                return s(o._rootTimeline, c)
                    .concat(s(o._rootFramesTimeline, c))
            };
        d.killAll = function (y, v, p, m) {
            null == v && (v = !0);
            null == p && (p = !0);
            var i = g(!1 != m),
                w = i.length,
                m = v && p && m,
                A, z, u;
            for (u = 0; u < w; u++) {
                if (z = i[u], m || z instanceof q || (A = z.target === z.vars.onComplete) && p || v && !A) {
                    y ? z.totalTime(z.totalDuration()) : z._enabled(!1, !1)
                }
            }
        };
        d.killChildTweensOf = function (e, p) {
            if (null != e) {
                if (e.jquery) {
                    e.each(function (c, v) {
                        d.killChildTweensOf(v, p)
                    })
                } else {
                    var m = h._tweenLookup,
                        i = [],
                        u, t;
                    for (t in m) {
                        for (u = m[t].target.parentNode; u;) {
                            u === e && (i = i.concat(m[t].tweens)), u = u.parentNode
                        }
                    }
                    u = i.length;
                    for (m = 0; m < u; m++) {
                        p && i[m].totalTime(i[m].totalDuration()), i[m]._enabled(!1, !1)
                    }
                }
            }
        };
        d.pauseAll = function (b, e, c) {
            n(!0, b, e, c)
        };
        d.resumeAll = function (b, e, c) {
            n(!1, b, e, c)
        };
        var n = function (i, v, u, m) {
            void 0 == v && (v = !0);
            void 0 == u && (u = !0);
            for (var y = g(m), m = v && u && m, w = y.length, p, e; - 1 < --w;) {
                e = y[w], (m || e instanceof q || (p = e.target === e.vars.onComplete) && u || v && !p) && e.paused(i)
            }
        };
        f.progress = function (c) {
            return !arguments.length ? this._time / this.duration() : this.totalTime(this.duration() * c + this._cycle * this._duration, !1)
        };
        f.totalProgress = function (c) {
            return !arguments.length ? this._totalTime / this.totalDuration() : this.totalTime(this.totalDuration() * c, !1)
        };
        f.time = function (c, e) {
            if (!arguments.length) {
                return this._time
            }
            this._dirty && this.totalDuration();
            c > this._duration && (c = this._duration);
            this._yoyo && 0 !== (this._cycle & 1) ? c = this._duration - c + this._cycle * (this._duration + this._repeatDelay) : 0 != this
                ._repeat && (c += this._cycle * (this._duration + this._repeatDelay));
            return this.totalTime(c, e)
        };
        f.totalDuration = function (c) {
            return !arguments.length ? (this._dirty && (this._totalDuration = -1 === this._repeat ? 999999999999 : this._duration * (this._repeat +
                1) + this._repeatDelay * this._repeat, this._dirty = !1), this._totalDuration) : -1 == this._repeat ? this : this.duration(
                (c - this._repeat * this._repeatDelay) / (this._repeat + 1))
        };
        f.repeat = function (c) {
            if (!arguments.length) {
                return this._repeat
            }
            this._repeat = c;
            return this._uncache(!0)
        };
        f.repeatDelay = function (c) {
            if (!arguments.length) {
                return this._repeatDelay
            }
            this._repeatDelay = c;
            return this._uncache(!0)
        };
        f.yoyo = function (c) {
            if (!arguments.length) {
                return this._yoyo
            }
            this._yoyo = c;
            return this
        };
        return d
    }, !0);
    _gsDefine("TimelineLite", ["core.Animation", "core.SimpleTimeline", "TweenLite"], function (o, d, k) {
        var h = function (c) {
                d.call(this, c);
                this._labels = {};
                this.autoRemoveChildren = !0 == this.vars.autoRemoveChildren;
                this.smoothChildTiming = !0 == this.vars.smoothChildTiming;
                this._sortChildren = !0;
                this._onUpdate = this.vars.onUpdate;
                for (var c = b.length, e, i; - 1 < --c;) {
                    if (i = this.vars[b[c]]) {
                        for (e = i.length; - 1 < --e;) {
                            "{self}" === i[e] && (i = this.vars[b[c]] = i.concat(), i[e] = this)
                        }
                    }
                }
                this.vars.tweens instanceof Array && this.insertMultiple(this.vars.tweens, 0, this.vars.align || "normal", this.vars.stagger ||
                    0)
            },
            b = ["onStartParams", "onUpdateParams", "onCompleteParams", "onReverseCompleteParams", "onRepeatParams"],
            n = [],
            g = function (c) {
                var e = {},
                    i;
                for (i in c) {
                    e[i] = c[i]
                }
                return e
            },
            f = h.prototype = new d;
        f.constructor = h;
        f.kill()
            ._gc = !1;
        f.to = function (c, i, p, m, e) {
            return this.insert(new k(c, i, p), this._parseTimeOrLabel(e) + (m || 0))
        };
        f.from = function (c, i, p, m, e) {
            return this.insert(k.from(c, i, p), this._parseTimeOrLabel(e) + (m || 0))
        };
        f.fromTo = function (c, i, p, m, e, q) {
            return this.insert(k.fromTo(c, i, p, m), this._parseTimeOrLabel(q) + (e || 0))
        };
        f.staggerTo = function (v, q, t, s, m, e, u, p, w) {
            u = new h({
                onComplete: u,
                onCompleteParams: p,
                onCompleteScope: w
            });
            s = s || 0;
            for (p = 0; p < v.length; p++) {
                null != t.startAt && (t.startAt = g(t.startAt)), u.insert(new k(v[p], q, g(t)), p * s)
            }
            return this.insert(u, this._parseTimeOrLabel(e) + (m || 0))
        };
        f.staggerFrom = function (u, m, q, p, i, e, s, w, v) {
            null == q.immediateRender && (q.immediateRender = !0);
            q.runBackwards = !0;
            return this.staggerTo(u, m, q, p, i, e, s, w, v)
        };
        f.staggerFromTo = function (y, q, v, s, m, w, A, p, z, u) {
            s.startAt = v;
            v.immediateRender && (s.immediateRender = !0);
            return this.staggerTo(y, q, s, m, w, A, p, z, u)
        };
        f.call = function (c, i, p, m, e) {
            return this.insert(k.delayedCall(0, c, i, p), this._parseTimeOrLabel(e) + (m || 0))
        };
        f.set = function (c, e, m, i) {
            e.immediateRender = !1;
            return this.insert(new k(c, 0, e), this._parseTimeOrLabel(i) + (m || 0))
        };
        h.exportRoot = function (e, m) {
            e = e || {};
            null == e.smoothChildTiming && (e.smoothChildTiming = !0);
            var q = new h(e),
                p = q._timeline;
            null == m && (m = !0);
            p._remove(q, !0);
            q._startTime = 0;
            q._rawPrevTime = q._time = q._totalTime = p._time;
            for (var i = p._first, s; i;) {
                s = i._next, (!m || !(i instanceof k && i.target == i.vars.onComplete)) && q.insert(i, i._startTime - i._delay), i = s
            }
            p.insert(q, 0);
            return q
        };
        f.insert = function (c, e) {
            if (!(c instanceof o)) {
                if (c instanceof Array) {
                    return this.insertMultiple(c, e)
                }
                if ("string" === typeof c) {
                    return this.addLabel(c, this._parseTimeOrLabel(e || 0, !0))
                }
                if ("function" === typeof c) {
                    c = k.delayedCall(0, c)
                } else {
                    throw "ERROR: Cannot insert() " + c +
                        " into the TimelineLite/Max because it is neither a tween, timeline, function, nor a String."
                }
            }
            d.prototype.insert.call(this, c, this._parseTimeOrLabel(e || 0, !0));
            if (this._gc && !this._paused && this._time === this._duration && this._time < this.duration()) {
                for (var i = this; i._gc && i._timeline;) {
                    i._timeline.smoothChildTiming ? i.totalTime(i._totalTime, !0) : i._enabled(!0, !1), i = i._timeline
                }
            }
            return this
        };
        f.remove = function (c) {
            if (c instanceof o) {
                return this._remove(c, !1)
            }
            if (c instanceof Array) {
                for (var e = c.length; - 1 < --e;) {
                    this.remove(c[e])
                }
                return this
            }
            return "string" === typeof c ? this.removeLabel(c) : this.kill(null, c)
        };
        f.append = function (c, e) {
            return this.insert(c, this.duration() + (e || 0))
        };
        f.insertMultiple = function (e, p, s, q) {
            for (var s = s || "normal", q = q || 0, i, u = this._parseTimeOrLabel(p || 0, !0), m = e.length, p = 0; p < m; p++) {
                if ((i = e[p]) instanceof Array) {
                    i = new h({
                        tweens: i
                    })
                }
                this.insert(i, u);
                "string" === typeof i || "function" === typeof i || ("sequence" === s ? u = i._startTime + i.totalDuration() / i._timeScale :
                    "start" === s && (i._startTime -= i.delay()));
                u += q
            }
            return this._uncache(!0)
        };
        f.appendMultiple = function (e, p, m, i) {
            return this.insertMultiple(e, this.duration() + (p || 0), m, i)
        };
        f.addLabel = function (e, i) {
            this._labels[e] = i;
            return this
        };
        f.removeLabel = function (c) {
            delete this._labels[c];
            return this
        };
        f.getLabelTime = function (c) {
            return null != this._labels[c] ? this._labels[c] : -1
        };
        f._parseTimeOrLabel = function (e, i) {
            return null == e ? this.duration() : "string" === typeof e && isNaN(e) ? null == this._labels[e] ? i ? this._labels[e] = this.duration() :
                0 : this._labels[e] : Number(e)
        };
        f.seek = function (e, i) {
            return this.totalTime(this._parseTimeOrLabel(e, !1), !1 != i)
        };
        f.stop = function () {
            return this.paused(!0)
        };
        f.gotoAndPlay = function (e, i) {
            return d.prototype.play.call(this, e, i)
        };
        f.gotoAndStop = function (e, i) {
            return this.pause(e, i)
        };
        f.render = function (z, u, y) {
            this._gc && this._enabled(!0, !1);
            this._active = !this._paused;
            var v = !this._dirty ? this._totalDuration : this.totalDuration(),
                p = this._time,
                C = this._startTime,
                s = this._timeScale,
                w = this._paused,
                B, m, c;
            if (z >= v) {
                this._totalTime = this._time = v;
                if (!this._reversed && !this._hasPausedChild() && (B = !0, c = "onComplete", 0 === this._duration && (0 === z || 0 > this._rawPrevTime))) {
                    this._rawPrevTime !== z && (y = !0)
                }
                this._rawPrevTime = z;
                z = v + 0.000001
            } else {
                if (0 >= z) {
                    this._totalTime = this._time = 0;
                    if (0 !== p || 0 === this._duration && 0 < this._rawPrevTime) {
                        c = "onReverseComplete", B = this._reversed
                    }
                    0 > z ? (this._active = !1, 0 === this._duration && 0 <= this._rawPrevTime && (y = !0)) : this._initted || (y = !0);
                    this._rawPrevTime = z;
                    z = -0.000001
                } else {
                    this._totalTime = this._time = this._rawPrevTime = z
                }
            }
            if (this._time !== p || y) {
                this._initted || (this._initted = !0);
                0 === p && this.vars.onStart && 0 !== this._time && (u || this.vars.onStart.apply(this.vars.onStartScope || this, this.vars
                    .onStartParams || n));
                if (this._time > p) {
                    for (y = this._first; y;) {
                        m = y._next;
                        if (this._paused && !w) {
                            break
                        } else {
                            if (y._active || y._startTime <= this._time && !y._paused && !y._gc) {
                                y._reversed ? y.render((!y._dirty ? y._totalDuration : y.totalDuration()) - (z - y._startTime) * y._timeScale,
                                    u, !1) : y.render((z - y._startTime) * y._timeScale, u, !1)
                            }
                        }
                        y = m
                    }
                } else {
                    for (y = this._last; y;) {
                        m = y._prev;
                        if (this._paused && !w) {
                            break
                        } else {
                            if (y._active || y._startTime <= p && !y._paused && !y._gc) {
                                y._reversed ? y.render((!y._dirty ? y._totalDuration : y.totalDuration()) - (z - y._startTime) * y._timeScale,
                                    u, !1) : y.render((z - y._startTime) * y._timeScale, u, !1)
                            }
                        }
                        y = m
                    }
                }
                this._onUpdate && (u || this._onUpdate.apply(this.vars.onUpdateScope || this, this.vars.onUpdateParams || n));
                if (c && !this._gc && (C === this._startTime || s != this._timeScale)) {
                    if (0 === this._time || v >= this.totalDuration()) {
                        B && (this._timeline.autoRemoveChildren && this._enabled(!1, !1), this._active = !1), u || this.vars[c] && this.vars[
                            c].apply(this.vars[c + "Scope"] || this, this.vars[c + "Params"] || n)
                    }
                }
            }
        };
        f._hasPausedChild = function () {
            for (var c = this._first; c;) {
                if (c._paused || c instanceof h && c._hasPausedChild()) {
                    return !0
                }
                c = c._next
            }
            return !1
        };
        f.getChildren = function (e, v, u, s) {
            for (var s = s || -9999999999, m = [], q = this._first, p = 0; q;) {
                q._startTime < s || (q instanceof k ? !1 != v && (m[p++] = q) : (!1 != u && (m[p++] = q), !1 != e && (m = m.concat(q.getChildren(!
                    0, v, u)), p = m.length))), q = q._next
            }
            return m
        };
        f.getTweensOf = function (e, s) {
            for (var q = k.getTweensOf(e), p = q.length, i = [], m = 0; - 1 < --p;) {
                if (q[p].timeline === this || s && this._contains(q[p])) {
                    i[m++] = q[p]
                }
            }
            return i
        };
        f._contains = function (c) {
            for (c = c.timeline; c;) {
                if (c === this) {
                    return !0
                }
                c = c.timeline
            }
            return !1
        };
        f.shiftChildren = function (e, q, p) {
            for (var p = p || 0, m = this._first; m;) {
                m._startTime >= p && (m._startTime += e), m = m._next
            }
            if (q) {
                for (var i in this._labels) {
                    this._labels[i] >= p && (this._labels[i] += e)
                }
            }
            return this._uncache(!0)
        };
        f._kill = function (e, q) {
            if (null == e && null == q) {
                return this._enabled(!1, !1)
            }
            for (var p = null == q ? this.getChildren(!0, !0, !1) : this.getTweensOf(q), m = p.length, i = !1; - 1 < --m;) {
                p[m]._kill(e, q) && (i = !0)
            }
            return i
        };
        f.clear = function (e) {
            var m = this.getChildren(!1, !0, !0),
                i = m.length;
            for (this._time = this._totalTime = 0; - 1 < --i;) {
                m[i]._enabled(!1, !1)
            }!1 != e && (this._labels = {});
            return this._uncache(!0)
        };
        f.invalidate = function () {
            for (var c = this._first; c;) {
                c.invalidate(), c = c._next
            }
            return this
        };
        f._enabled = function (e, m) {
            if (e == this._gc) {
                for (var i = this._first; i;) {
                    i._enabled(e, !0), i = i._next
                }
            }
            return d.prototype._enabled.call(this, e, m)
        };
        f.progress = function (c) {
            return !arguments.length ? this._time / this.duration() : this.totalTime(this.duration() * c, !1)
        };
        f.duration = function (c) {
            if (!arguments.length) {
                return this._dirty && this.totalDuration(), this._duration
            }
            0 !== this.duration() && 0 !== c && this.timeScale(this._duration / c);
            return this
        };
        f.totalDuration = function (e) {
            if (!arguments.length) {
                if (this._dirty) {
                    for (var q = 0, p = this._first, m = -999999999999, i; p;) {
                        i = p._next, p._startTime < m && this._sortChildren ? this.insert(p, p._startTime - p._delay) : m = p._startTime, 0 >
                            p._startTime && (q -= p._startTime, this.shiftChildren(-p._startTime, !1, -9999999999)), p = p._startTime + (!p
                                ._dirty ? p._totalDuration : p.totalDuration()) / p._timeScale, p > q && (q = p), p = i
                    }
                    this._duration = this._totalDuration = q;
                    this._dirty = !1
                }
                return this._totalDuration
            }
            0 !== this.totalDuration() && 0 !== e && this.timeScale(this._totalDuration / e);
            return this
        };
        f.usesFrames = function () {
            for (var c = this._timeline; c._timeline;) {
                c = c._timeline
            }
            return c === o._rootFramesTimeline
        };
        f.rawTime = function () {
            return this._paused || 0 !== this._totalTime && this._totalTime !== this._totalDuration ? this._totalTime : (this._timeline.rawTime() -
                this._startTime) * this._timeScale
        };
        return h
    }, !0);
    _gsDefine("TimelineMax", ["TimelineLite", "TweenLite", "easing.Ease"], function (i, d, g) {
        var f = function (e) {
                i.call(this, e);
                this._repeat = this.vars.repeat || 0;
                this._repeatDelay = this.vars.repeatDelay || 0;
                this._cycle = 0;
                this._yoyo = !0 == this.vars.yoyo;
                this._dirty = !0
            },
            b = [],
            h = new g(null, null, 1, 0),
            g = f.prototype = new i;
        g.constructor = f;
        g.kill()
            ._gc = !1;
        f.version = 12;
        g.invalidate = function () {
            this._yoyo = !0 == this.vars.yoyo;
            this._repeat = this.vars.repeat || 0;
            this._repeatDelay = this.vars.repeatDelay || 0;
            this._uncache(!0);
            return i.prototype.invalidate.call(this)
        };
        g.addCallback = function (n, k, e, m) {
            return this.insert(d.delayedCall(0, n, e, m), k)
        };
        g.removeCallback = function (o, k) {
            if (null == k) {
                this._kill(null, o)
            } else {
                for (var e = this.getTweensOf(o, !1), m = e.length, n = this._parseTimeOrLabel(k, !1); - 1 < --m;) {
                    e[m]._startTime === n && e[m]._enabled(!1, !1)
                }
            }
            return this
        };
        g.tweenTo = function (k, e) {
            var e = e || {},
                c = {
                    ease: h,
                    overwrite: 2,
                    useFrames: this.usesFrames(),
                    immediateRender: !1
                },
                m, n;
            for (m in e) {
                c[m] = e[m]
            }
            c.time = this._parseTimeOrLabel(k, !1);
            n = new d(this, Math.abs(Number(c.time) - this._time) / this._timeScale || 0.001, c);
            c.onStart = function () {
                n.target.paused(!0);
                n.vars.time != n.target.time() && n.duration(Math.abs(n.vars.time - n.target.time()) / n.target._timeScale);
                e.onStart && e.onStart.apply(e.onStartScope || n, e.onStartParams || b)
            };
            return n
        };
        g.tweenFromTo = function (m, k, e) {
            e = e || {};
            e.startAt = {
                time: this._parseTimeOrLabel(m, !1)
            };
            m = this.tweenTo(k, e);
            return m.duration(Math.abs(m.vars.time - m.vars.startAt.time) / this._timeScale || 0.001)
        };
        g.render = function (P, J, Q) {
            this._gc && this._enabled(!0, !1);
            this._active = !this._paused;
            var K = !this._dirty ? this._totalDuration : this.totalDuration(),
                O = this._time,
                M = this._totalTime,
                I = this._startTime,
                D = this._timeScale,
                N = this._rawPrevTime,
                H = this._paused,
                o = this._cycle,
                G, E;
            if (P >= K) {
                this._locked || (this._totalTime = K, this._cycle = this._repeat);
                if (!this._reversed && !this._hasPausedChild() && (G = !0, E = "onComplete", 0 === this._duration && (0 === P || 0 > this._rawPrevTime))) {
                    this._rawPrevTime !== P && (Q = !0)
                }
                this._rawPrevTime = P;
                this._yoyo && 0 !== (this._cycle & 1) ? (this._time = 0, P = -0.000001) : (this._time = this._duration, P = this._duration +
                    0.000001)
            } else {
                if (0 >= P) {
                    this._locked || (this._totalTime = this._cycle = 0);
                    this._time = 0;
                    if (0 !== O || 0 === this._duration && 0 < this._rawPrevTime) {
                        E = "onReverseComplete", G = this._reversed
                    }
                    0 > P ? (this._active = !1, 0 === this._duration && 0 <= this._rawPrevTime && (Q = !0)) : this._initted || (Q = !0);
                    this._rawPrevTime = P;
                    P = -0.000001
                } else {
                    this._time = this._rawPrevTime = P, this._locked || (this._totalTime = P, 0 !== this._repeat && (P = this._duration +
                        this._repeatDelay, this._cycle = this._totalTime / P >> 0, 0 !== this._cycle && this._cycle === this._totalTime /
                        P && this._cycle--, this._time = this._totalTime - this._cycle * P, this._yoyo && 0 != (this._cycle & 1) &&
                        (this._time = this._duration - this._time), this._time > this._duration ? (this._time = this._duration, P =
                            this._duration + 0.000001) : 0 > this._time ? (this._time = 0, P = -0.000001) : P = this._time))
                }
            }
            if (this._cycle !== o && !this._locked) {
                var m = this._yoyo && 0 !== (o & 1),
                    w = m === (this._yoyo && 0 !== (this._cycle & 1)),
                    s = this._totalTime,
                    n = this._cycle,
                    t = this._rawPrevTime,
                    z = this._time;
                this._totalTime = o * this._duration;
                this._cycle < o ? m = !m : this._totalTime += this._duration;
                this._time = O;
                this._rawPrevTime = N;
                this._cycle = o;
                this._locked = !0;
                O = m ? 0 : this._duration;
                this.render(O, J, !1);
                J || this._gc || this.vars.onRepeat && this.vars.onRepeat.apply(this.vars.onRepeatScope || this, this.vars.onRepeatParams ||
                    b);
                w && (O = m ? this._duration + 0.000001 : -0.000001, this.render(O, !0, !1));
                this._time = z;
                this._totalTime = s;
                this._cycle = n;
                this._rawPrevTime = t;
                this._locked = !1
            }
            if (this._time !== O || Q) {
                this._initted || (this._initted = !0);
                0 === M && this.vars.onStart && 0 !== this._totalTime && (J || this.vars.onStart.apply(this.vars.onStartScope || this, this
                    .vars.onStartParams || b));
                if (this._time > O) {
                    for (Q = this._first; Q;) {
                        M = Q._next;
                        if (this._paused && !H) {
                            break
                        } else {
                            if (Q._active || Q._startTime <= this._time && !Q._paused && !Q._gc) {
                                Q._reversed ? Q.render((!Q._dirty ? Q._totalDuration : Q.totalDuration()) - (P - Q._startTime) * Q._timeScale,
                                    J, !1) : Q.render((P - Q._startTime) * Q._timeScale, J, !1)
                            }
                        }
                        Q = M
                    }
                } else {
                    for (Q = this._last; Q;) {
                        M = Q._prev;
                        if (this._paused && !H) {
                            break
                        } else {
                            if (Q._active || Q._startTime <= O && !Q._paused && !Q._gc) {
                                Q._reversed ? Q.render((!Q._dirty ? Q._totalDuration : Q.totalDuration()) - (P - Q._startTime) * Q._timeScale,
                                    J, !1) : Q.render((P - Q._startTime) * Q._timeScale, J, !1)
                            }
                        }
                        Q = M
                    }
                }
                this._onUpdate && (J || this._onUpdate.apply(this.vars.onUpdateScope || this, this.vars.onUpdateParams || b));
                if (E && !this._locked && !this._gc && (I === this._startTime || D != this._timeScale)) {
                    if (0 === this._time || K >= this.totalDuration()) {
                        G && (this._timeline.autoRemoveChildren && this._enabled(!1, !1), this._active = !1), J || this.vars[E] && this.vars[
                            E].apply(this.vars[E + "Scope"] || this, this.vars[E + "Params"] || b)
                    }
                }
            }
        };
        g.getActive = function (s, n, e) {
            null == s && (s = !0);
            null == n && (n = !0);
            null == e && (e = !1);
            var o = [],
                s = this.getChildren(s, n, e),
                n = 0,
                e = s.length,
                q, p;
            for (q = 0; q < e; q++) {
                if (p = s[q], !p._paused && p._timeline._time >= p._startTime && p._timeline._time < p._startTime + p._totalDuration / p._timeScale) {
                    var m;
                    a: {
                        for (m = p._timeline; m;) {
                            if (m._paused) {
                                m = !0;
                                break a
                            }
                            m = m._timeline
                        }
                        m = !1
                    }
                    m || (o[n++] = p)
                }
            }
            return o
        };
        g.getLabelAfter = function (n) {
            !n && 0 !== n && (n = this._time);
            var k = this.getLabelsArray(),
                e = k.length,
                m;
            for (m = 0; m < e; m++) {
                if (k[m].time > n) {
                    return k[m].name
                }
            }
            return null
        };
        g.getLabelBefore = function (m) {
            null == m && (m = this._time);
            for (var k = this.getLabelsArray(), e = k.length; - 1 < --e;) {
                if (k[e].time < m) {
                    return k[e].name
                }
            }
            return null
        };
        g.getLabelsArray = function () {
            var m = [],
                k = 0,
                e;
            for (e in this._labels) {
                m[k++] = {
                    time: this._labels[e],
                    name: e
                }
            }
            m.sort(function (c, n) {
                return c.time - n.time
            });
            return m
        };
        g.progress = function (e) {
            return !arguments.length ? this._time / this.duration() : this.totalTime(this.duration() * e + this._cycle * this._duration, !1)
        };
        g.totalProgress = function (e) {
            return !arguments.length ? this._totalTime / this.totalDuration() : this.totalTime(this.totalDuration() * e, !1)
        };
        g.totalDuration = function (e) {
            return !arguments.length ? (this._dirty && (i.prototype.totalDuration.call(this), this._totalDuration = -1 === this._repeat ?
                    999999999999 : this._duration * (this._repeat + 1) + this._repeatDelay * this._repeat), this._totalDuration) : -1 ==
                this._repeat ? this : this.duration((e - this._repeat * this._repeatDelay) / (this._repeat + 1))
        };
        g.time = function (k, e) {
            if (!arguments.length) {
                return this._time
            }
            this._dirty && this.totalDuration();
            k > this._duration && (k = this._duration);
            this._yoyo && 0 !== (this._cycle & 1) ? k = this._duration - k + this._cycle * (this._duration + this._repeatDelay) : 0 != this
                ._repeat && (k += this._cycle * (this._duration + this._repeatDelay));
            return this.totalTime(k, e)
        };
        g.repeat = function (e) {
            if (!arguments.length) {
                return this._repeat
            }
            this._repeat = e;
            return this._uncache(!0)
        };
        g.repeatDelay = function (e) {
            if (!arguments.length) {
                return this._repeatDelay
            }
            this._repeatDelay = e;
            return this._uncache(!0)
        };
        g.yoyo = function (e) {
            if (!arguments.length) {
                return this._yoyo
            }
            this._yoyo = e;
            return this
        };
        g.currentLabel = function (e) {
            return !arguments.length ? this.getLabelBefore(this._time + 1e-8) : this.seek(e, !0)
        };
        return f
    }, !0);
    _gsDefine("plugins.BezierPlugin", ["plugins.TweenPlugin"], function (w) {
        var x = function () {
                w.call(this, "bezier", -1);
                this._overwriteProps.pop();
                this._func = {};
                this._round = {}
            },
            o = x.prototype = new w("bezier", 1),
            f = 180 / Math.PI,
            g = [],
            s = [],
            z = [],
            k = {},
            u = function (e, p, m, h) {
                this.a = e;
                this.b = p;
                this.c = m;
                this.d = h;
                this.da = h - e;
                this.ca = m - e;
                this.ba = p - e
            },
            n = x.bezierThrough = function (Y, V, Q, W, Z, m) {
                var S = {},
                    R = [],
                    T, N, Z = "string" === typeof Z ? "," + Z + "," :
                    ",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,";
                null == V && (V = 1);
                for (N in Y[0]) {
                    R.push(N)
                }
                g.length = s.length = z.length = 0;
                for (T = R.length; - 1 < --T;) {
                    N = R[T];
                    k[N] = -1 !== Z.indexOf("," + N + ",");
                    var L = S,
                        d = N,
                        M;
                    M = Y;
                    var P = N,
                        U = k[N],
                        O = m,
                        E = [],
                        K = void 0,
                        b = void 0,
                        i = void 0,
                        c = void 0,
                        X = void 0,
                        K = void 0;
                    if (O) {
                        M = [O].concat(M);
                        for (b = M.length; - 1 < --b;) {
                            if ("string" === typeof (K = M[b][P])) {
                                "=" === K.charAt(1) && (M[b][P] = O[P] + Number(K.charAt(0) + K.substr(2)))
                            }
                        }
                    }
                    K = M.length - 2;
                    if (0 > K) {
                        E[0] = new u(M[0][P], 0, 0, M[-1 > K ? 0 : 1][P])
                    } else {
                        for (b = 0; b < K; b++) {
                            i = M[b][P], c = M[b + 1][P], E[b] = new u(i, 0, 0, c), U && (X = M[b + 2][P], g[b] = (g[b] || 0) + (c - i) * (c -
                                i), s[b] = (s[b] || 0) + (X - c) * (X - c))
                        }
                        E[b] = new u(M[b][P], 0, 0, M[b + 1][P])
                    }
                    M = E;
                    L[d] = M
                }
                for (T = g.length; - 1 < --T;) {
                    g[T] = Math.sqrt(g[T]), s[T] = Math.sqrt(s[T])
                }
                if (!W) {
                    for (T = R.length; - 1 < --T;) {
                        if (k[N]) {
                            a = S[R[T]];
                            l = a.length - 1;
                            for (j = 0; j < l; j++) {
                                r = a[j + 1].da / s[j] + a[j].da / g[j], z[j] = (z[j] || 0) + r * r
                            }
                        }
                    }
                    for (T = z.length; - 1 < --T;) {
                        z[T] = Math.sqrt(z[T])
                    }
                }
                for (T = R.length; - 1 < --T;) {
                    N = R[T];
                    Y = S[N];
                    Z = V;
                    m = Q;
                    L = W;
                    N = k[N];
                    d = Y.length - 1;
                    M = 0;
                    for (var P = Y[0].a, t = X = c = O = K = c = i = K = b = i = E = O = U = void 0, U = 0; U < d; U++) {
                        b = Y[M], O = b.a, E = b.d, i = Y[M + 1].d, N ? (c = g[U], X = s[U], t = 0.25 * (X + c) * Z / (L ? 0.5 : z[U] || 0.5),
                                K = E - (E - O) * (L ? 0.5 * Z : t / c), i = E + (i - E) * (L ? 0.5 * Z : t / X), c = E - (K + (i - K) * (3 * c /
                                    (c + X) + 0.5) / 4)) : (K = E - 0.5 * (E - O) * Z, i = E + 0.5 * (i - E) * Z, c = E - (K + i) / 2), K += c,
                            i += c, b.c = K, b.b = 0 != U ? P : P = b.a + 0.6 * (b.c - b.a), b.da = E - O, b.ca = K - O, b.ba = P - O, m ? (O =
                                q(O, P, K, E), Y.splice(M, 1, O[0], O[1], O[2], O[3]), M += 4) : M++, P = i
                    }
                    b = Y[M];
                    b.b = P;
                    b.c = P + 0.4 * (b.d - P);
                    b.da = b.d - b.a;
                    b.ca = b.c - b.a;
                    b.ba = P - b.a;
                    m && (O = q(b.a, P, b.c, b.d), Y.splice(M, 1, O[0], O[1], O[2], O[3]))
                }
                return S
            },
            q = x.cubicToQuadratic = function (F, E, D, A) {
                var C = {
                        a: F
                    },
                    G = {},
                    B = {},
                    v = {
                        c: A
                    },
                    y = (F + E) / 2,
                    H = (E + D) / 2,
                    D = (D + A) / 2,
                    E = (y + H) / 2,
                    H = (H + D) / 2,
                    I = (H - E) / 8;
                C.b = y + (F - y) / 4;
                G.b = E + I;
                C.c = G.a = (C.b + G.b) / 2;
                G.c = B.a = (E + H) / 2;
                B.b = H - I;
                v.b = D + (A - D) / 4;
                B.c = v.a = (B.b + v.b) / 2;
                return [C, G, B, v]
            };
        x.quadraticToCubic = function (i, h, b) {
            return new u(i, (2 * h + i) / 3, (2 * h + b) / 3, b)
        };
        o.constructor = x;
        x.API = 2;
        o._onInitTween = function (ab, aa, Z) {
            this._target = ab;
            aa instanceof Array && (aa = {
                values: aa
            });
            this._props = [];
            this._timeRes = null == aa.timeResolution ? 6 : parseInt(aa.timeResolution);
            var X = aa.values || [],
                U = {},
                F = X[0],
                Z = aa.autoRotate || Z.vars.orientToBezier,
                T, S, W;
            this._autoRotate = Z ? Z instanceof Array ? Z : [["x", "y", "rotation", !0 === Z ? 0 : Number(Z) || 0]] : null;
            for (T in F) {
                this._props.push(T)
            }
            for (F = this._props.length; - 1 < --F;) {
                T = this._props[F], this._overwriteProps.push(T), Z = this._func[T] = "function" === typeof ab[T], U[T] = !Z ? parseFloat(
                    ab[T]) : ab[T.indexOf("set") || "function" !== typeof ab["get" + T.substr(3)] ? T : "get" + T.substr(3)](), W || U[
                    T] !== X[0][T] && (W = U)
            }
            if ("cubic" !== aa.type && "quadratic" !== aa.type && "soft" !== aa.type) {
                U = n(X, isNaN(aa.curviness) ? 1 : aa.curviness, !1, "thruBasic" === aa.type, aa.correlate, W)
            } else {
                Z = (Z = aa.type) || "soft";
                aa = {};
                W = "cubic" === Z ? 3 : 2;
                var Z = "soft" === Z,
                    F = [],
                    O, P, N, B, R, V, Q, L, M;
                Z && U && (X = [U].concat(X));
                if (null == X || X.length < W + 1) {
                    throw "invalid Bezier data"
                }
                for (P in X[0]) {
                    F.push(P)
                }
                for (V = F.length; - 1 < --V;) {
                    P = F[V];
                    aa[P] = R = [];
                    M = 0;
                    L = X.length;
                    for (Q = 0; Q < L; Q++) {
                        O = null == U ? X[Q][P] : "string" === typeof (N = X[Q][P]) && "=" === N.charAt(1) ? U[P] + Number(N.charAt(0) + N.substr(
                            2)) : Number(N), Z && 1 < Q && Q < L - 1 && (R[M++] = (O + R[M - 2]) / 2), R[M++] = O
                    }
                    L = M - W + 1;
                    for (Q = M = 0; Q < L; Q += W) {
                        O = R[Q], P = R[Q + 1], N = R[Q + 2], B = 2 === W ? 0 : R[Q + 3], R[M++] = N = 3 === W ? new u(O, P, N, B) : new u(
                            O, (2 * P + O) / 3, (2 * P + N) / 3, N)
                    }
                    R.length = M
                }
                U = aa
            }
            this._beziers = U;
            this._segCount = this._beziers[T].length;
            if (this._timeRes) {
                F = this._beziers;
                T = this._timeRes;
                T = T >> 0 || 6;
                U = [];
                P = [];
                X = N = 0;
                aa = T - 1;
                W = [];
                Z = [];
                for (S in F) {
                    O = F[S];
                    R = U;
                    V = T;
                    Q = 1 / V;
                    L = O.length;
                    for (var b = void 0, E = void 0, h = B = M = E = void 0, Y = b = void 0, K = void 0, K = h = void 0; - 1 < --L;) {
                        h = O[L];
                        E = h.a;
                        M = h.d - E;
                        B = h.c - E;
                        h = h.b - E;
                        E = 0;
                        for (Y = 1; Y <= V; Y++) {
                            b = Q * Y, K = 1 - b, b = E - (E = (b * b * M + 3 * K * (b * B + K * h)) * b), K = L * V + Y - 1, R[K] = (R[K] ||
                                0) + b * b
                        }
                    }
                }
                F = U.length;
                for (S = 0; S < F; S++) {
                    N += Math.sqrt(U[S]), O = S % T, Z[O] = N, O === aa && (X += N, O = S / T >> 0, W[O] = Z, P[O] = X, N = 0, Z = [])
                }
                this._length = X;
                this._lengths = P;
                this._segments = W;
                this._l1 = this._li = this._s1 = this._si = 0;
                this._l2 = this._lengths[0];
                this._curSeg = this._segments[0];
                this._s2 = this._curSeg[0];
                this._prec = 1 / this._curSeg.length
            }
            if (Z = this._autoRotate) {
                Z[0] instanceof Array || (this._autoRotate = Z = [Z]);
                for (F = Z.length; - 1 < --F;) {
                    for (S = 0; 3 > S; S++) {
                        T = Z[F][S], this._func[T] = "function" === typeof ab[T] ? ab[T.indexOf("set") || "function" !== typeof ab["get" +
                            T.substr(3)] ? T : "get" + T.substr(3)] : !1
                    }
                }
            }
            return !0
        };
        o.setRatio = function (K) {
            var H = this._segCount,
                I = this._func,
                G = this._target,
                D, E, B, A, O;
            if (this._timeRes) {
                D = this._lengths;
                A = this._curSeg;
                K *= this._length;
                E = this._li;
                if (K > this._l2 && E < H - 1) {
                    for (H -= 1; E < H && (this._l2 = D[++E]) <= K;) {}
                    this._l1 = D[E - 1];
                    this._li = E;
                    this._curSeg = A = this._segments[E];
                    this._s2 = A[this._s1 = this._si = 0]
                } else {
                    if (K < this._l1 && 0 < E) {
                        for (; 0 < E && (this._l1 = D[--E]) >= K;) {}
                        0 === E && K < this._l1 ? this._l1 = 0 : E++;
                        this._l2 = D[E];
                        this._li = E;
                        this._curSeg = A = this._segments[E];
                        this._s1 = A[(this._si = A.length - 1) - 1] || 0;
                        this._s2 = A[this._si]
                    }
                }
                D = E;
                K -= this._l1;
                E = this._si;
                if (K > this._s2 && E < A.length - 1) {
                    for (H = A.length - 1; E < H && (this._s2 = A[++E]) <= K;) {}
                    this._s1 = A[E - 1];
                    this._si = E
                } else {
                    if (K < this._s1 && 0 < E) {
                        for (; 0 < E && (this._s1 = A[--E]) >= K;) {}
                        0 === E && K < this._s1 ? this._s1 = 0 : E++;
                        this._s2 = A[E];
                        this._si = E
                    }
                }
                A = (E + (K - this._s1) / (this._s2 - this._s1)) * this._prec
            } else {
                D = 0 > K ? 0 : 1 <= K ? H - 1 : H * K >> 0, A = (K - D * (1 / H)) * H
            }
            H = 1 - A;
            for (E = this._props.length; - 1 < --E;) {
                if (K = this._props[E], B = this._beziers[K][D], O = (A * A * B.da + 3 * H * (A * B.ca + H * B.ba)) * A + B.a, this._round[
                        K] && (O = O + (0 < O ? 0.5 : -0.5) >> 0), I[K]) {
                    G[K](O)
                } else {
                    G[K] = O
                }
            }
            if (this._autoRotate) {
                var H = this._autoRotate,
                    M, L, J, N, p;
                for (E = H.length; - 1 < --E;) {
                    K = H[E][2], N = H[E][3] || 0, p = !0 == H[E][4] ? 1 : f, B = this._beziers[H[E][0]][D], O = this._beziers[H[E][1]][D],
                        M = B.a + (B.b - B.a) * A, L = B.b + (B.c - B.b) * A, M += (L - M) * A, L += (B.c + (B.d - B.c) * A - L) * A, B = O
                        .a + (O.b - O.a) * A, J = O.b + (O.c - O.b) * A, B += (J - B) * A, J += (O.c + (O.d - O.c) * A - J) * A, O = Math.atan2(
                            J - B, L - M) * p + N, I[K] ? I[K].call(G, O) : G[K] = O
                }
            }
        };
        o._roundProps = function (h, m) {
            for (var p = this._overwriteProps, i = p.length; - 1 < --i;) {
                if (h[p[i]] || h.bezier || h.bezierThrough) {
                    this._round[p[i]] = m
                }
            }
        };
        o._kill = function (h) {
            var m = this._props,
                p, i;
            for (p in _beziers) {
                if (p in h) {
                    delete this._beziers[p];
                    delete this._func[p];
                    for (i = m.length; - 1 < --i;) {
                        m[i] === p && m.splice(i, 1)
                    }
                }
            }
            return w.prototype._kill.call(this, h)
        };
        w.activate([x]);
        return x
    }, !0);
    _gsDefine("plugins.CSSPlugin", ["plugins.TweenPlugin", "TweenLite"], function (az) {
        var aC = function () {
                az.call(this, "css");
                this._overwriteProps.pop()
            },
            aP = aC.prototype = new az("css");
        aP.constructor = aC;
        aC.API = 2;
        aC.suffixMap = {
            top: "px",
            right: "px",
            bottom: "px",
            left: "px",
            width: "px",
            height: "px",
            fontSize: "px",
            padding: "px",
            margin: "px"
        };
        var aH = /[^\d\-\.]/g,
            aJ = /(\d|\-|\+|=|#|\.)*/g,
            aR = /(\d|\.)+/g,
            aE = /opacity *= *([^)]*)/,
            aL = /opacity:([^;]*)/,
            aS = /([A-Z])/g,
            aM = /-([a-z])/gi,
            aQ = function (c, d) {
                return d.toUpperCase()
            },
            aO = /(Left|Right|Width)/i,
            aK = /(M11|M12|M21|M22)=[\d\-\.e]+/gi,
            aw = /progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,
            aj = Math.PI / 180,
            ai = 180 / Math.PI,
            aA = {},
            ax = document,
            aG = ax.createElement("div"),
            al = navigator.userAgent,
            aD, ah, ak, ar, av, aI = al.indexOf("Android"),
            au = ax.createElement("div");
        ak = -1 !== al.indexOf("Safari") && -1 === al.indexOf("Chrome") && (-1 === aI || 3 < Number(al.substr(aI + 8, 1)));
        /MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(al);
        ar = parseFloat(RegExp.$1);
        au.innerHTML = "<a style='top:1px;opacity:.55;'>a</a>";
        av = (al = au.getElementsByTagName("a")[0]) ? /^0.55/.test(al.style.opacity) : !1;
        var ap = function (c) {
                if (!c || "" === c) {
                    return af.black
                }
                if (af[c]) {
                    return af[c]
                }
                if ("number" === typeof c) {
                    return [c >> 16, c >> 8 & 255, c & 255]
                }
                if ("#" === c.charAt(0)) {
                    if (4 === c.length) {
                        var e = c.charAt(1),
                            f = c.charAt(2),
                            c = c.charAt(3),
                            c = "#" + e + e + f + f + c + c
                    }
                    c = parseInt(c.substr(1), 16);
                    return [c >> 16, c >> 8 & 255, c & 255]
                }
                return c.match(aR) || af.transparent
            },
            aq = function (c) {
                return aE.test("string" === typeof c ? c : (c.currentStyle ? c.currentStyle.filter : c.style.filter) || "") ? parseFloat(RegExp
                    .$1) / 100 : 1
            },
            ay = ax.defaultView ? ax.defaultView.getComputedStyle : function () {},
            ao = function (e, f, h, b) {
                return !av && "opacity" === f ? aq(e) : !b && e.style[f] ? e.style[f] : (h = h || ay(e, null)) ? (e = h.getPropertyValue(f.replace(
                        aS, "-$1")
                    .toLowerCase())) || h.length ? e : h[f] : e.currentStyle ? (h = e.currentStyle, b = h[f], !b && "backgroundPosition" ===
                    f ? h[f + "X"] + " " + h[f + "Y"] : b) : null
            },
            an = function (d, f) {
                var h = {},
                    e;
                if (f = f || ay(d, null)) {
                    if (e = f.length) {
                        for (; - 1 < --e;) {
                            h[f[e].replace(aM, aQ)] = f.getPropertyValue(f[e])
                        }
                    } else {
                        for (e in f) {
                            h[e] = f[e]
                        }
                    }
                } else {
                    if (f = d.currentStyle || d.style) {
                        for (e in f) {
                            h[e.replace(aM, aQ)] = f[e]
                        }
                    }
                }
                av || (h.opacity = aq(d));
                e = ae(d, f, !1);
                h.rotation = e.rotation * ai;
                h.skewX = e.skewX * ai;
                h.scaleX = e.scaleX;
                h.scaleY = e.scaleY;
                h.x = e.x;
                h.y = e.y;
                null != h.filters && delete h.filters;
                return h
            },
            aN = function (e, i, k, p) {
                var h = {},
                    f, m;
                for (m in i) {
                    if ("cssText" !== m && "length" !== m && isNaN(m) && e[m] != (f = i[m])) {
                        if (f !== am && ("number" === typeof f || "string" === typeof f)) {
                            h[m] = ("" === f || "auto" === f) && "string" === typeof e[m] && "" !== e[m].replace(aH, "") ? 0 : f, p && p.props.push(
                                m)
                        }
                    }
                }
                if (k) {
                    for (m in k) {
                        "className" !== m && (h[m] = k[m])
                    }
                }
                return h
            },
            aB = {
                scaleX: 1,
                scaleY: 1,
                x: 1,
                y: 1,
                rotation: 1,
                shortRotation: 1,
                skewX: 1,
                skewY: 1,
                scale: 1
            },
            aF = "",
            at = "",
            am = function (e, h) {
                var h = h || aG,
                    i = h.style,
                    k, f;
                if (void 0 !== i[e]) {
                    return e
                }
                e = e.substr(0, 1)
                    .toUpperCase() + e.substr(1);
                k = ["O", "Moz", "ms", "Ms", "Webkit"];
                for (f = 5; - 1 < --f && void 0 === i[k[f] + e];) {}
                return 0 <= f ? (at = 3 === f ? "ms" : k[f], aF = "-" + at.toLowerCase() + "-", at + e) : null
            }("transform"),
            aa = aF + "transform",
            ae = function (v, m, t) {
                var u = v._gsTransform,
                    y;
                am ? y = ao(v, aa, m, !0) : v.currentStyle && (y = (y = v.currentStyle.filter.match(aK)) && 4 === y.length ? y[0].substr(4) +
                    "," + Number(y[2].substr(4)) + "," + Number(y[1].substr(4)) + "," + y[3].substr(4) + "," + (u ? u.x : 0) + "," + (u ? u
                        .y : 0) : null);
                var m = (y || "")
                    .replace(/[^\d\-\.e,]/g, "")
                    .split(","),
                    x = (y = 6 <= m.length) ? Number(m[0]) : 1,
                    i = y ? Number(m[1]) : 0,
                    p = y ? Number(m[2]) : 0,
                    q = y ? Number(m[3]) : 1,
                    u = t ? u || {
                        skewY: 0
                    } : {
                        skewY: 0
                    },
                    k = 0 > u.scaleX;
                u.x = y ? Number(m[4]) : 0;
                u.y = y ? Number(m[5]) : 0;
                u.scaleX = Math.sqrt(x * x + i * i);
                u.scaleY = Math.sqrt(q * q + p * p);
                u.rotation = x || i ? Math.atan2(i, x) : u.rotation || 0;
                u.skewX = p || q ? Math.atan2(p, q) + u.rotation : u.skewX || 0;
                Math.abs(u.skewX) > Math.PI / 2 && Math.abs(u.skewX) < 1.5 * Math.PI && (k ? (u.scaleX *= -1, u.skewX += 0 >= u.rotation ? Math
                    .PI : -Math.PI, u.rotation += 0 >= u.rotation ? Math.PI : -Math.PI) : (u.scaleY *= -1, u.skewX += 0 >= u.skewX ?
                    Math.PI : -Math.PI));
                if (0.000001 > u.rotation && -0.000001 < u.rotation && (x || i)) {
                    u.rotation = 0
                }
                if (0.000001 > u.skewX && -0.000001 < u.skewX && (i || p)) {
                    u.skewX = 0
                }
                t && (v._gsTransform = u);
                return u
            },
            Z = {
                width: ["Left", "Right"],
                height: ["Top", "Bottom"]
            },
            o = ["marginLeft", "marginRight", "marginTop", "marginBottom"],
            ag = function (t, k, q, p, v) {
                if ("px" === p || !p) {
                    return q
                }
                if ("auto" === p || !q) {
                    return 0
                }
                var u = aO.test(k),
                    f = t,
                    m = aG.style,
                    i = 0 > q;
                i && (q = -q);
                m.cssText = "border-style:solid; border-width:0; position:absolute; line-height:0;";
                "%" === p || "em" === p || !f.appendChild ? (f = t.parentNode || ax.body, m[u ? "width" : "height"] = q + p) : m[u ?
                    "borderLeftWidth" : "borderTopWidth"] = q + p;
                f.appendChild(aG);
                u = parseFloat(aG[u ? "offsetWidth" : "offsetHeight"]);
                f.removeChild(aG);
                0 === u && !v && (u = ag(t, k, q, p, !0));
                return i ? -u : u
            },
            ab = function (e, f) {
                if (null == e || "" === e || "auto" === e || "auto auto" === e) {
                    e = "0 0"
                }
                var f = f || {},
                    i = -1 !== e.indexOf("left") ? "0%" : -1 !== e.indexOf("right") ? "100%" : e.split(" ")[0],
                    h = -1 !== e.indexOf("top") ? "0%" : -1 !== e.indexOf("bottom") ? "100%" : e.split(" ")[1];
                null == h ? h = "0" : "center" === h && (h = "50%");
                "center" === i && (i = "50%");
                f.oxp = -1 !== i.indexOf("%");
                f.oyp = -1 !== h.indexOf("%");
                f.oxr = "=" === i.charAt(1);
                f.oyr = "=" === h.charAt(1);
                f.ox = parseFloat(i.replace(aH, ""));
                f.oy = parseFloat(h.replace(aH, ""));
                return f
            },
            ad = function (c, d) {
                return null == c ? d : "string" === typeof c && 1 === c.indexOf("=") ? Number(c.split("=")
                    .join("")) + d : Number(c)
            },
            ac = function (e, f) {
                var i = -1 === e.indexOf("rad") ? aj : 1,
                    h = 1 === e.indexOf("="),
                    e = Number(e.replace(aH, "")) * i;
                return h ? e + f : e
            },
            af = {
                aqua: [0, 255, 255],
                lime: [0, 255, 0],
                silver: [192, 192, 192],
                black: [0, 0, 0],
                maroon: [128, 0, 0],
                teal: [0, 128, 128],
                blue: [0, 0, 255],
                navy: [0, 0, 128],
                white: [255, 255, 255],
                fuchsia: [255, 0, 255],
                olive: [128, 128, 0],
                yellow: [255, 255, 0],
                orange: [255, 165, 0],
                gray: [128, 128, 128],
                purple: [128, 0, 128],
                green: [0, 128, 0],
                red: [255, 0, 0],
                pink: [255, 192, 203],
                cyan: [0, 255, 255],
                transparent: [255, 255, 255, 0]
            };
        aP._onInitTween = function (e, p, k) {
            if (!e.nodeType) {
                return !1
            }
            this._target = e;
            this._tween = k;
            this._classData = this._transform = null;
            aD = p.autoRound;
            var h = this._style = e.style,
                g = ay(e, ""),
                m, i;
            if (ah && "" === h.zIndex && (i = ao(e, "zIndex", g), "auto" === i || "" === i)) {
                h.zIndex = 0
            }
            "string" === typeof p ? (m = h.cssText, k = an(e, g), h.cssText = m + ";" + p, i = aN(k, an(e)), !av && aL.test(p) && (i.opacity =
                parseFloat(RegExp.$1)), p = i, h.cssText = m) : p.className && (m = e.className, this._classData = {
                    b: m,
                    e: "=" !== p.className.charAt(1) ? p.className : "+" === p.className.charAt(0) ? e.className + " " + p.className.substr(
                            2) : e.className.split(p.className.substr(2))
                        .join(""),
                    props: []
                }, k._duration ? (k = an(e, g), e.className = this._classData.e, p = aN(k, an(e), p, this._classData), e.className = m) :
                p = {});
            this._parseVars(p, e, g, p.suffixMap || aC.suffixMap);
            return !0
        };
        aP._parseVars = function (C, x, B, A) {
            var G = this._style,
                p, y, z, w, v, u, F;
            for (p in C) {
                if (y = C[p], "transform" === p || p === am) {
                    this._parseTransform(x, y, B, A)
                } else {
                    if (aB[p] || "transformOrigin" === p) {
                        this._parseTransform(x, C, B, A)
                    } else {
                        if ("alpha" === p || "autoAlpha" === p) {
                            p = "opacity"
                        } else {
                            if ("margin" === p || "padding" === p) {
                                y = (y + "")
                                    .split(" ");
                                v = y.length;
                                z = {};
                                z[p + "Top"] = y[0];
                                z[p + "Right"] = 1 < v ? y[1] : y[0];
                                z[p + "Bottom"] = 4 === v ? y[2] : y[0];
                                z[p + "Left"] = 4 === v ? y[3] : 2 === v ? y[1] : y[0];
                                this._parseVars(z, x, B, A);
                                continue
                            } else {
                                if ("backgroundPosition" === p || "backgroundSize" === p) {
                                    z = ab(y);
                                    F = ab(w = ao(x, p, B));
                                    this._firstPT = z = {
                                        _next: this._firstPT,
                                        t: G,
                                        p: p,
                                        b: w,
                                        f: !1,
                                        n: "css_" + p,
                                        type: 3,
                                        s: F.ox,
                                        c: z.oxr ? z.ox : z.ox - F.ox,
                                        ys: F.oy,
                                        yc: z.oyr ? z.oy : z.oy - F.oy,
                                        sfx: z.oxp ? "%" : "px",
                                        ysfx: z.oyp ? "%" : "px",
                                        r: !z.oxp && !1 !== C.autoRound
                                    };
                                    z.e = z.s + z.c + z.sfx + " " + (z.ys + z.yc) + z.ysfx;
                                    continue
                                } else {
                                    if ("border" === p) {
                                        y = (y + "")
                                            .split(" ");
                                        this._parseVars({
                                            borderWidth: y[0],
                                            borderStyle: y[1] || "none",
                                            borderColor: y[2] || "#000000"
                                        }, x, B, A);
                                        continue
                                    } else {
                                        if ("bezier" === p) {
                                            this._parseBezier(y, x, B, A);
                                            continue
                                        } else {
                                            if ("autoRound" === p) {
                                                continue
                                            }
                                        }
                                    }
                                }
                            }
                        }
                        w = ao(x, p, B);
                        w = null != w ? w + "" : "";
                        this._firstPT = z = {
                            _next: this._firstPT,
                            t: G,
                            p: p,
                            b: w,
                            f: !1,
                            n: "css_" + p,
                            sfx: "",
                            r: !1,
                            type: 0
                        };
                        "opacity" === p && null != C.autoAlpha && ("1" === w && "hidden" === ao(x, "visibility", B) && (w = z.b = "0"),
                            this._firstPT = z._prev = {
                                _next: z,
                                t: G,
                                p: "visibility",
                                f: !1,
                                n: "css_visibility",
                                r: !1,
                                type: -1,
                                b: 0 !== Number(w) ? "visible" : "hidden",
                                i: "visible",
                                e: 0 === Number(y) ? "hidden" : "visible"
                            }, this._overwriteProps.push("css_visibility"));
                        v = "string" === typeof y;
                        if ("color" === p || "fill" === p || "stroke" === p || -1 !== p.indexOf("Color") || v && !y.indexOf("rgb(")) {
                            if (v = ap(w), y = ap(y), z.e = z.i = (3 < y.length ? "rgba(" : "rgb(") + y.join(",") + ")", z.b = (3 < v.length ?
                                    "rgba(" : "rgb(") + v.join(",") + ")", z.s = Number(v[0]), z.c = Number(y[0]) - z.s, z.gs = Number(v[1]),
                                z.gc = Number(y[1]) - z.gs, z.bs = Number(v[2]), z.bc = Number(y[2]) - z.bs, z.type = 1, 3 < v.length || 3 <
                                y.length) {
                                av ? (z.as = 4 > v.length ? 1 : Number(v[3]), z.ac = (4 > y.length ? 1 : Number(y[3])) - z.as, z.type = 2) :
                                    (0 == y[3] && (z.e = z.i = "transparent", z.type = -1), 0 == v[3] && (z.b = "transparent"))
                            }
                        } else {
                            u = w.replace(aJ, "");
                            if ("" === w || "auto" === w) {
                                if ("width" === p || "height" === p) {
                                    var D = p;
                                    u = x;
                                    F = B;
                                    w = parseFloat("width" === D ? u.offsetWidth : u.offsetHeight);
                                    var D = Z[D],
                                        m = D.length;
                                    for (F = F || ay(u, null); - 1 < --m;) {
                                        w -= parseFloat(ao(u, "padding" + D[m], F, !0)) || 0, w -= parseFloat(ao(u, "border" + D[m] +
                                            "Width", F, !0)) || 0
                                    }
                                    F = w;
                                    u = "px"
                                } else {
                                    F = "opacity" !== p ? 0 : 1, u = ""
                                }
                            } else {
                                F = -1 === w.indexOf(" ") ? parseFloat(w.replace(aH, "")) : NaN
                            }
                            v ? (v = "=" === y.charAt(1), w = y.replace(aJ, ""), y = -1 === y.indexOf(" ") ? parseFloat(y.replace(aH, "")) :
                                NaN) : (v = !1, w = "");
                            "" === w && (w = A[p] || u);
                            z.e = y || 0 === y ? (v ? y + F : y) + w : C[p];
                            if (u !== w && "" !== w && (y || 0 === y)) {
                                if (F || 0 === F) {
                                    if (F = ag(x, p, F, u), "%" === w ? (F /= ag(x, p, 100, "%") / 100, 100 < F && (F = 100)) : "em" === w ?
                                        F /= ag(x, p, 1, "em") : (y = ag(x, p, y, w), w = "px"), v && (y || 0 === y)) {
                                        z.e = y + F + w
                                    }
                                }
                            }
                            if ((F || 0 === F) && (y || 0 === y) && (z.c = v ? y : y - F)) {
                                if (z.s = F, z.sfx = w, "opacity" === p) {
                                    av || (z.type = 4, z.p = "filter", z.b = "alpha(opacity=" + 100 * z.s + ")", z.e = "alpha(opacity=" +
                                        100 * (z.s + z.c) + ")", z.dup = null != C.autoAlpha, this._style.zoom = 1)
                                } else {
                                    if (!1 !== aD && ("px" === w || "zIndex" === p)) {
                                        z.r = !0
                                    }
                                }
                            } else {
                                z.type = -1, z.i = "display" === p && "none" === z.e ? z.b : z.e, z.s = z.c = 0
                            }
                        }
                        this._overwriteProps.push("css_" + p);
                        z._next && (z._next._prev = z)
                    }
                }
            }
        };
        aP._parseTransform = function (h, k, u) {
            if (!this._transform) {
                var q = this._transform = ae(h, u, !0),
                    t = this._style,
                    i, p, m;
                if ("object" === typeof k) {
                    i = {
                        scaleX: ad(null != k.scaleX ? k.scaleX : k.scale, q.scaleX),
                        scaleY: ad(null != k.scaleY ? k.scaleY : k.scale, q.scaleY),
                        x: ad(k.x, q.x),
                        y: ad(k.y, q.y)
                    };
                    null != k.shortRotation ? (i.rotation = "number" === typeof k.shortRotation ? k.shortRotation * aj : ac(k.shortRotation,
                            q.rotation), p = (i.rotation - q.rotation) % (2 * Math.PI), p !== p % Math.PI && (p += Math.PI * (0 > p ? 2 :
                            -2)), i.rotation = q.rotation + p) : i.rotation = null == k.rotation ? q.rotation : "number" === typeof k.rotation ?
                        k.rotation * aj : ac(k.rotation, q.rotation);
                    i.skewX = null == k.skewX ? q.skewX : "number" === typeof k.skewX ? k.skewX * aj : ac(k.skewX, q.skewX);
                    i.skewY = null == k.skewY ? q.skewY : "number" === typeof k.skewY ? k.skewY * aj : ac(k.skewY, q.skewY);
                    if (p = i.skewY - q.skewY) {
                        i.skewX += p, i.rotation += p
                    }
                    0.000001 > i.skewY && -0.000001 < i.skewY && (i.skewY = 0);
                    0.000001 > i.skewX && -0.000001 < i.skewX && (i.skewX = 0);
                    0.000001 > i.rotation && -0.000001 < i.rotation && (i.rotation = 0);
                    if (null != (k = k.transformOrigin)) {
                        am ? (m = am + "Origin", this._firstPT = k = {
                            _next: this._firstPT,
                            t: t,
                            p: m,
                            s: 0,
                            c: 0,
                            n: m,
                            f: !1,
                            r: !1,
                            b: t[m],
                            e: k,
                            i: k,
                            type: -1,
                            sfx: ""
                        }, k._next && (k._next._prev = k)) : ab(k, q)
                    }
                } else {
                    if ("string" === typeof k && am) {
                        p = t[am], t[am] = k, i = ae(h, null, !1), t[am] = p
                    } else {
                        return
                    }
                }
                if (am) {
                    if (ak && (ah = !0, "" === t.WebkitBackfaceVisibility && (t.WebkitBackfaceVisibility = "hidden"), "" === t.zIndex && (p =
                            ao(h, "zIndex", u), "auto" === p || "" === p))) {
                        t.zIndex = 0
                    }
                } else {
                    t.zoom = 1
                }
                for (m in aB) {
                    if ((q[m] !== i[m] || null != aA[m]) && "shortRotation" !== m && "scale" !== m) {
                        this._firstPT = k = {
                            _next: this._firstPT,
                            t: q,
                            p: m,
                            s: q[m],
                            c: i[m] - q[m],
                            n: m,
                            f: !1,
                            r: !1,
                            b: q[m],
                            e: i[m],
                            type: 0,
                            sfx: 0
                        }, k._next && (k._next._prev = k), this._overwriteProps.push("css_" + m)
                    }
                }
            }
        };
        aP._parseBezier = function (S, N, R, Q) {
            if (window.com.greensock.plugins.BezierPlugin) {
                S instanceof Array && (S = {
                    values: S
                });
                var D = S.values || [],
                    H = D.length,
                    P = [],
                    O = this._bezier = {
                        _pt: []
                    },
                    y = O._proxy = {},
                    M = 0,
                    L = 0,
                    J = {},
                    B = H - 1,
                    G = aA,
                    C = O._plugin = new window.com.greensock.plugins.BezierPlugin,
                    x, I, F, A, z;
                for (x = 0; x < H; x++) {
                    A = {};
                    this._transform = null;
                    F = this._firstPT;
                    this._parseVars(aA = D[x], N, R, Q);
                    I = this._firstPT;
                    if (0 === x) {
                        for (z = this._transform; I !== F;) {
                            y[I.p] = I.s, O._pt[L++] = J[I.p] = I, 1 === I.type || 2 === I.type ? (y[I.p + "_g"] = I.gs, y[I.p + "_b"] = I.bs,
                                2 === I.type && (y[I.p + "_a"] = I.as)) : 3 === I.type && (y[I.p + "_y"] = I.ys), I = I._next
                        }
                        I = this._firstPT
                    } else {
                        this._firstPT = F, F._prev && (F._prev._next = null), F = F._prev = null
                    }
                    for (; I !== F;) {
                        J[I.p] && (A[I.p] = I.s + I.c, x === B && (J[I.p].e = I.e), 1 === I.type || 2 === I.type ? (A[I.p + "_g"] = I.gs +
                            I.gc, A[I.p + "_b"] = I.bs + I.bc, 2 === I.type && (A[I.p + "_a"] = I.as + I.ac)) : 3 === I.type && (A[
                            I.p + "_y"] = I.ys + I.yc), 0 === x && (I.c = I.ac = I.gc = I.bc = I.yc = 0)), I = I._next
                    }
                    P[M++] = A
                }
                this._transform = z;
                aA = G;
                S.values = P;
                0 === S.autoRotate && (S.autoRotate = !0);
                S.autoRotate && !(S.autoRotate instanceof Array) && (x = !0 == S.autoRotate ? 0 : Number(S.autoRotate) * Math.PI / 180, S.autoRotate =
                    null != P[0].left ? [["left", "top", "rotation", x, !0]] : null != P[0].x ? [["x", "y", "rotation", x, !0]] : !1);
                if ((O._autoRotate = S.autoRotate) && !z) {
                    this._transform = ae(N, R, !0)
                }
                C._onInitTween(y, S, this._tween);
                S.values = D
            } else {
                console.log("Error: BezierPlugin not loaded.")
            }
        };
        aP.setRatio = function (H) {
            var B = this._firstPT,
                G = this._bezier,
                F = 0.000001,
                M, x;
            if (G) {
                G._plugin.setRatio(H);
                var D = G._pt,
                    C = G._proxy;
                for (x = D.length; - 1 < --x;) {
                    B = D[x], B.s = C[B.p], 1 === B.type || 2 === B.type ? (B.gs = C[B.p + "_g"], B.bs = C[B.p + "_b"], 2 === B.type && (B.as =
                        C[B.p + "_a"])) : 3 === B.type && (B.ys = C[B.p + "_y"])
                }
                G._autoRotate && (this._transform.rotation = C.rotation)
            }
            if (1 === H && (this._tween._time === this._tween._duration || 0 === this._tween._time)) {
                for (; B;) {
                    B.t[B.p] = B.e, 4 === B.type && 1 === B.s + B.c && (this._style.removeAttribute("filter"), ao(this._target, "filter") &&
                        (B.t[B.p] = B.e)), B = B._next
                }
            } else {
                if (H || !(this._tween._time === this._tween._duration || 0 === this._tween._time)) {
                    for (; B;) {
                        M = B.c * H + B.s, B.r ? M = 0 < M ? M + 0.5 >> 0 : M - 0.5 >> 0 : M < F && M > -F && (M = 0), B.type ? 1 === B.type ?
                            B.t[B.p] = "rgb(" + (M >> 0) + ", " + (B.gs + H * B.gc >> 0) + ", " + (B.bs + H * B.bc >> 0) + ")" : 2 === B.type ?
                            B.t[B.p] = "rgba(" + (M >> 0) + ", " + (B.gs + H * B.gc >> 0) + ", " + (B.bs + H * B.bc >> 0) + ", " + (B.as +
                                H * B.ac) + ")" : -1 === B.type ? B.t[B.p] = B.i : 3 === B.type ? (G = B.ys + H * B.yc, B.r && (G = 0 < G ?
                                G + 0.5 >> 0 : G - 0.5 >> 0), B.t[B.p] = M + B.sfx + " " + G + B.ysfx) : (B.dup && (B.t.filter = B.t.filter ||
                                "alpha(opacity=100)"), B.t.filter = -1 === B.t.filter.indexOf("opacity") ? B.t.filter + (
                                " alpha(opacity=" + (100 * M >> 0) + ")") : B.t.filter.replace(aE, "opacity=" + (100 * M >> 0))) : B.t[B.p] =
                            M + B.sfx, B = B._next
                    }
                } else {
                    for (; B;) {
                        B.t[B.p] = B.b, 4 === B.type && 1 === B.s && (this._style.removeAttribute("filter"), ao(this._target, "filter") &&
                            (B.t[B.p] = B.b)), B = B._next
                    }
                }
            }
            if (this._transform) {
                if (B = this._transform, am && !B.rotation && !B.skewX) {
                    this._style[am] = (B.x || B.y ? "translate(" + B.x + "px," + B.y + "px) " : "") + (1 !== B.scaleX || 1 !== B.scaleY ?
                        "scale(" + B.scaleX + "," + B.scaleY + ")" : "") || "translate(0px,0px)"
                } else {
                    var D = am ? B.rotation : -B.rotation,
                        I = am ? D - B.skewX : D + B.skewX,
                        G = Math.cos(D) * B.scaleX,
                        D = Math.sin(D) * B.scaleX,
                        C = Math.sin(I) * -B.scaleY,
                        I = Math.cos(I) * B.scaleY,
                        A;
                    G < F && G > -F && (G = 0);
                    D < F && D > -F && (D = 0);
                    C < F && C > -F && (C = 0);
                    I < F && I > -F && (I = 0);
                    if (am) {
                        this._style[am] = "matrix(" + G + "," + D + "," + C + "," + I + "," + B.x + "," + B.y + ")"
                    } else {
                        if (A = this._target.currentStyle) {
                            F = D;
                            D = -C;
                            C = -F;
                            F = A.filter;
                            this._style.filter = "";
                            x = this._target.offsetWidth;
                            M = this._target.offsetHeight;
                            var z = "absolute" !== A.position,
                                y = "progid:DXImageTransform.Microsoft.Matrix(M11=" + G + ", M12=" + D + ", M21=" + C + ", M22=" + I,
                                L = B.x,
                                t = B.y,
                                m, K;
                            null != B.ox && (m = (B.oxp ? 0.01 * x * B.ox : B.ox) - x / 2, K = (B.oyp ? 0.01 * M * B.oy : B.oy) - M / 2, L =
                                m - (m * G + K * D) + B.x, t = K - (m * C + K * I) + B.y);
                            if (z) {
                                m = x / 2, K = M / 2, y += ", Dx=" + (m - (m * G + K * D) + L) + ", Dy=" + (K - (m * C + K * I) + t) + ")"
                            } else {
                                var J = 8 > ar ? 1 : -1;
                                m = B.ieOffsetX || 0;
                                K = B.ieOffsetY || 0;
                                B.ieOffsetX = Math.round((x - ((0 > G ? -G : G) * x + (0 > D ? -D : D) * M)) / 2 + L);
                                B.ieOffsetY = Math.round((M - ((0 > I ? -I : I) * M + (0 > C ? -C : C) * x)) / 2 + t);
                                for (x = 0; 4 > x; x++) {
                                    L = o[x], M = A[L], M = -1 !== M.indexOf("px") ? parseFloat(M) : ag(this._target, L, parseFloat(M), M.replace(
                                            aJ, "")) || 0, t = M !== B[L] ? 2 > x ? -B.ieOffsetX : -B.ieOffsetY : 2 > x ? m - B.ieOffsetX :
                                        K - B.ieOffsetY, this._style[L] = (B[L] = Math.round(M - t * (0 === x || 2 === x ? 1 : J))) + "px"
                                }
                                y += ", sizingMethod='auto expand')"
                            }
                            this._style.filter = -1 !== F.indexOf("DXImageTransform.Microsoft.Matrix(") ? F.replace(aw, y) : y + " " + F;
                            if (0 === H || 1 === H) {
                                if (1 === G && 0 === D && 0 === C && 1 === I && (!z || -1 !== y.indexOf("Dx=0, Dy=0"))) {
                                    (!aE.test(F) || 100 === parseFloat(RegExp.$1)) && this._style.removeAttribute("filter")
                                }
                            }
                        }
                    }
                }
            }
            if (this._classData) {
                if (B = this._classData, 1 === H && (this._tween._time === this._tween._duration || 0 === this._tween._time)) {
                    for (x = B.props.length; - 1 < --x;) {
                        this._style[B.props[x]] = ""
                    }
                    this._target.className = B.e
                } else {
                    this._target.className !== B.b && (this._target.className = B.b)
                }
            }
        };
        aP._kill = function (e) {
            var d = e,
                f;
            if (e.autoAlpha || e.alpha) {
                d = {};
                for (f in e) {
                    d[f] = e[f]
                }
                d.opacity = 1;
                d.autoAlpha && (d.visibility = 1)
            }
            return az.prototype._kill.call(this, d)
        };
        az.activate([aC]);
        return aC
    }, !0);
    _gsDefine("plugins.RoundPropsPlugin", ["plugins.TweenPlugin"], function (d) {
        var b = function () {
                d.call(this, "roundProps", -1);
                this._overwriteProps.length = 0
            },
            c = b.prototype = new d("roundProps", -1);
        c.constructor = b;
        b.API = 2;
        c._onInitTween = function (g, f, h) {
            this._tween = h;
            return !0
        };
        c._onInitAllProps = function () {
            for (var p = this._tween, g = p.vars.roundProps instanceof Array ? p.vars.roundProps : p.vars.roundProps.split(","), s = g.length,
                    n = {}, k = p._propLookup.roundProps, f, o, q; - 1 < --s;) {
                n[g[s]] = 1
            }
            for (s = g.length; - 1 < --s;) {
                f = g[s];
                for (o = p._firstPT; o;) {
                    q = o._next, o.pg ? o.t._roundProps(n, !0) : o.n === f && (this._add(o.t, f, o.s, o.c), q && (q._prev = o._prev), o._prev ?
                            o._prev._next = q : _tween._firstPT === o && (p._firstPT = q), o._next = o._prev = null, p._propLookup[f] = k),
                        o = q
                }
            }
            return !1
        };
        c._add = function (h, f, i, g) {
            this._addTween(h, f, i, i + g, f, !0);
            this._overwriteProps.push(f)
        };
        d.activate([b]);
        return b
    }, !0);
    _gsDefine("easing.Back", ["easing.Ease"], function (z) {
        var E = window.com.greensock._class,
            Y = function (f, k) {
                var i = E("easing." + f, function () {}, !0),
                    h = i.prototype = new z;
                h.constructor = i;
                h.getRatio = k;
                return i
            },
            S = function (f, k) {
                var i = E("easing." + f, function (c) {
                        this._p1 = c || 0 === c ? c : 1.70158;
                        this._p2 = 1.525 * this._p1
                    }, !0),
                    h = i.prototype = new z;
                h.constructor = i;
                h.getRatio = k;
                h.config = function (c) {
                    return new i(c)
                };
                return i
            },
            T = S("BackOut", function (c) {
                return (c -= 1) * c * ((this._p1 + 1) * c + this._p1) + 1
            }),
            aa = S("BackIn", function (c) {
                return c * c * ((this._p1 + 1) * c - this._p1)
            }),
            S = S("BackInOut", function (c) {
                return 1 > (c *= 2) ? 0.5 * c * c * ((this._p2 + 1) * c - this._p2) : 0.5 * ((c -= 2) * c * ((this._p2 + 1) * c + this._p2) +
                    2)
            }),
            I = Y("BounceOut", function (c) {
                return c < 1 / 2.75 ? 7.5625 * c * c : c < 2 / 2.75 ? 7.5625 * (c -= 1.5 / 2.75) * c + 0.75 : c < 2.5 / 2.75 ? 7.5625 * (c -=
                    2.25 / 2.75) * c + 0.9375 : 7.5625 * (c -= 2.625 / 2.75) * c + 0.984375
            }),
            V = Y("BounceIn", function (c) {
                return (c = 1 - c) < 1 / 2.75 ? 1 - 7.5625 * c * c : c < 2 / 2.75 ? 1 - (7.5625 * (c -= 1.5 / 2.75) * c + 0.75) : c < 2.5 /
                    2.75 ? 1 - (7.5625 * (c -= 2.25 / 2.75) * c + 0.9375) : 1 - (7.5625 * (c -= 2.625 / 2.75) * c + 0.984375)
            }),
            ab = Y("BounceInOut", function (d) {
                var e = 0.5 > d,
                    d = e ? 1 - 2 * d : 2 * d - 1,
                    d = d < 1 / 2.75 ? 7.5625 * d * d : d < 2 / 2.75 ? 7.5625 * (d -= 1.5 / 2.75) * d + 0.75 : d < 2.5 / 2.75 ? 7.5625 * (d -=
                        2.25 / 2.75) * d + 0.9375 : 7.5625 * (d -= 2.625 / 2.75) * d + 0.984375;
                return e ? 0.5 * (1 - d) : 0.5 * d + 0.5
            }),
            W = Y("CircOut", function (c) {
                return Math.sqrt(1 - (c -= 1) * c)
            }),
            Z = Y("CircIn", function (c) {
                return -(Math.sqrt(1 - c * c) - 1)
            }),
            X = Y("CircInOut", function (c) {
                return 1 > (c *= 2) ? -0.5 * (Math.sqrt(1 - c * c) - 1) : 0.5 * (Math.sqrt(1 - (c -= 2) * c) + 1)
            }),
            U = 2 * Math.PI,
            Q = function (f, k, i) {
                var h = E("easing." + f, function (d, e) {
                        this._p1 = d || 1;
                        this._p2 = e || i;
                        this._p3 = this._p2 / U * (Math.asin(1 / this._p1) || 0)
                    }, !0),
                    f = h.prototype = new z;
                f.constructor = h;
                f.getRatio = k;
                f.config = function (d, e) {
                    return new h(d, e)
                };
                return h
            },
            o = Q("ElasticOut", function (c) {
                return this._p1 * Math.pow(2, -10 * c) * Math.sin((c - this._p3) * U / this._p2) + 1
            }, 0.3),
            n = Q("ElasticIn", function (c) {
                return -(this._p1 * Math.pow(2, 10 * (c -= 1)) * Math.sin((c - this._p3) * U / this._p2))
            }, 0.3),
            Q = Q("ElasticInOut", function (c) {
                return 1 > (c *= 2) ? -0.5 * this._p1 * Math.pow(2, 10 * (c -= 1)) * Math.sin((c - this._p3) * U / this._p2) : 0.5 * this._p1 *
                    Math.pow(2, -10 * (c -= 1)) * Math.sin((c - this._p3) * U / this._p2) + 1
            }, 0.45),
            D = Y("ExpoOut", function (c) {
                return 1 - Math.pow(2, -10 * c)
            }),
            R = Y("ExpoIn", function (c) {
                return Math.pow(2, 10 * (c - 1)) - 0.001
            }),
            K = Y("ExpoInOut", function (c) {
                return 1 > (c *= 2) ? 0.5 * Math.pow(2, 10 * (c - 1)) : 0.5 * (2 - Math.pow(2, -10 * (c - 1)))
            }),
            w = Math.PI / 2,
            H = Y("SineOut", function (c) {
                return Math.sin(c * w)
            }),
            g = Y("SineIn", function (c) {
                return -Math.cos(c * w) + 1
            }),
            Y = Y("SineInOut", function (c) {
                return -0.5 * (Math.cos(Math.PI * c) - 1)
            }),
            s = E("easing.SlowMo", function (e, h, f) {
                null == e ? e = 0.7 : 1 < e && (e = 1);
                this._p = 1 != e ? h || 0 === h ? h : 0.7 : 0;
                this._p1 = (1 - e) / 2;
                this._p2 = e;
                this._p3 = this._p1 + this._p2;
                this._calcEnd = !0 === f
            }, !0),
            G = s.prototype = new z;
        G.constructor = s;
        G.getRatio = function (d) {
            var e = d + (0.5 - d) * this._p;
            return d < this._p1 ? this._calcEnd ? 1 - (d = 1 - d / this._p1) * d : e - (d = 1 - d / this._p1) * d * d * d * e : d > this._p3 ?
                this._calcEnd ? 1 - (d = (d - this._p3) / this._p1) * d : e + (d - e) * (d = (d - this._p3) / this._p1) * d * d * d : this._calcEnd ?
                1 : e
        };
        s.ease = new s(0.7, 0.7);
        G.config = s.config = function (e, h, f) {
            return new s(e, h, f)
        };
        var J = E("easing.SteppedEase", function (c) {
                c = c || 1;
                this._p1 = 1 / c;
                this._p2 = c + 1
            }, !0),
            G = J.prototype = new z;
        G.constructor = J;
        G.getRatio = function (c) {
            0 > c ? c = 0 : 1 <= c && (c = 0.999999999);
            return (this._p2 * c >> 0) * this._p1
        };
        G.config = J.config = function (c) {
            return new J(c)
        };
        E("easing.Bounce", {
            easeOut: new I,
            easeIn: new V,
            easeInOut: new ab
        }, !0);
        E("easing.Circ", {
            easeOut: new W,
            easeIn: new Z,
            easeInOut: new X
        }, !0);
        E("easing.Elastic", {
            easeOut: new o,
            easeIn: new n,
            easeInOut: new Q
        }, !0);
        E("easing.Expo", {
            easeOut: new D,
            easeIn: new R,
            easeInOut: new K
        }, !0);
        E("easing.Sine", {
            easeOut: new H,
            easeIn: new g,
            easeInOut: new Y
        }, !0);
        return {
            easeOut: new T,
            easeIn: new aa,
            easeInOut: new S
        }
    }, !0)
});
(function (R) {
    var W = function (e) {
            var e = e.split("."),
                h = R,
                f;
            for (f = 0; f < e.length; f++) {
                h[e[f]] = h = h[e[f]] || {}
            }
            return h
        },
        am = W("com.greensock"),
        af, ah, ao, Z, aj, ap = {},
        ak = function (h, p, n, m) {
            this.sc = ap[h] ? ap[h].sc : [];
            ap[h] = this;
            this.gsClass = null;
            this.def = n;
            var k = p || [],
                b = [];
            this.check = function (q) {
                for (var e = k.length, f = 0, d; - 1 < --e;) {
                    (d = ap[k[e]] || new ak(k[e]))
                    .gsClass ? b[e] = d.gsClass : (f++, q && d.sc.push(this))
                }
                if (0 === f && n) {
                    var q = ("com.greensock." + h)
                        .split("."),
                        e = q.pop(),
                        i = W(q.join("."))[e] = this.gsClass = n.apply(n, b);
                    m && ((R.GreenSockGlobals || R)[e] = i, "function" === typeof define && define.amd ? define((R.GreenSockAMDPath ? R.GreenSockAMDPath +
                            "/" : "") + h.split(".")
                        .join("/"), [],
                        function () {
                            return i
                        }) : "undefined" !== typeof module && module.exports && (module.exports = i));
                    for (e = 0; e < this.sc.length; e++) {
                        this.sc[e].check(!1)
                    }
                }
            };
            this.check(!0)
        },
        an = am._class = function (e, h, f) {
            new ak(e, [], function () {
                return h
            }, f);
            return h
        };
    R._gsDefine = function (f, k, i, h) {
        return new ak(f, k, i, h)
    };
    var al = [0, 0, 1, 1],
        ai = [],
        ad = an("easing.Ease", function (f, k, i, h) {
            this._func = f;
            this._type = i || 0;
            this._power = h || 0;
            this._params = k ? al.concat(k) : al
        }, !0);
    ao = ad.prototype;
    ao._calcEnd = !1;
    ao.getRatio = function (f) {
        if (this._func) {
            return this._params[0] = f, this._func.apply(null, this._params)
        }
        var k = this._type,
            i = this._power,
            h = 1 === k ? 1 - f : 2 === k ? f : 0.5 > f ? 2 * f : 2 * (1 - f);
        1 === i ? h *= h : 2 === i ? h *= h * h : 3 === i ? h *= h * h * h : 4 === i && (h *= h * h * h * h);
        return 1 === k ? 1 - h : 2 === k ? h : 0.5 > f ? h / 2 : 1 - h / 2
    };
    af = ["Linear", "Quad", "Cubic", "Quart", "Quint"];
    for (ah = af.length; - 1 < --ah;) {
        ao = an("easing." + af[ah], function () {}, !0), Z = an("easing.Power" + ah, function () {}, !0), ao.easeOut = Z.easeOut = new ad(null, null, 1, ah),
            ao.easeIn = Z.easeIn = new ad(null, null, 2, ah), ao.easeInOut = Z.easeInOut = new ad(null, null, 3, ah)
    }
    an("easing.Strong", am.easing.Power4, !0);
    am.easing.Linear.easeNone = am.easing.Linear.easeIn;
    var s = an("events.EventDispatcher", function (c) {
        this._listeners = {};
        this._eventTarget = c || this
    });
    ao = s.prototype;
    ao.addEventListener = function (m, x, v, u, t) {
        var t = t || 0,
            q = this._listeners[m],
            p = 0,
            n;
        null == q && (this._listeners[m] = q = []);
        for (n = q.length; - 1 < --n;) {
            m = q[n], m.c === x ? q.splice(n, 1) : 0 === p && m.pr < t && (p = n + 1)
        }
        q.splice(p, 0, {
            c: x,
            s: v,
            up: u,
            pr: t
        })
    };
    ao.removeEventListener = function (f, k) {
        var i = this._listeners[f];
        if (i) {
            for (var h = i.length; - 1 < --h;) {
                if (i[h].c === k) {
                    i.splice(h, 1);
                    break
                }
            }
        }
    };
    ao.dispatchEvent = function (h) {
        var n = this._listeners[h];
        if (n) {
            for (var m = n.length, k, i = this._eventTarget; - 1 < --m;) {
                k = n[m], k.up ? k.c.call(k.s || i, {
                    type: h,
                    target: i
                }) : k.c.call(k.s || i)
            }
        }
    };
    var o = R.requestAnimationFrame,
        T = R.cancelAnimationFrame,
        ae = Date.now || function () {
            return (new Date)
                .getTime()
        };
    af = ["ms", "moz", "webkit", "o"];
    for (ah = af.length; - 1 < --ah && !o;) {
        o = R[af[ah] + "RequestAnimationFrame"], T = R[af[ah] + "CancelAnimationFrame"] || R[af[ah] + "CancelRequestAnimationFrame"]
    }
    an("Ticker", function (G, F) {
        var D = this,
            C = ae(),
            B = !1 !== F && o,
            A, z, y, x, v, u = function () {
                null != y && (!B || !T ? R.clearTimeout(y) : T(y), y = null)
            },
            t = function (c) {
                D.time = (ae() - C) / 1000;
                if (!A || D.time >= v || c) {
                    D.frame++, v = D.time > v ? D.time + x - (D.time - v) : D.time + x - 0.001, v < D.time + 0.001 && (v = D.time + 0.001), D.dispatchEvent(
                        "tick")
                }!0 !== c && (y = z(t))
            };
        s.call(D);
        this.time = this.frame = 0;
        this.tick = function () {
            t(!0)
        };
        this.fps = function (c) {
            if (!arguments.length) {
                return A
            }
            A = c;
            x = 1 / (A || 60);
            v = this.time + x;
            z = 0 === A ? function () {} : !B || !o ? function (d) {
                return R.setTimeout(d, 1000 * (v - D.time) + 1 >> 0 || 1)
            } : o;
            u();
            y = z(t)
        };
        this.useRAF = function (c) {
            if (!arguments.length) {
                return B
            }
            u();
            B = c;
            D.fps(A)
        };
        D.fps(G);
        R.setTimeout(function () {
            B && !y && D.useRAF(!1)
        }, 1000)
    });
    ao = am.Ticker.prototype = new am.events.EventDispatcher;
    ao.constructor = am.Ticker;
    var ac = an("core.Animation", function (e, h) {
            this.vars = h || {};
            this._duration = this._totalDuration = e || 0;
            this._delay = Number(this.vars.delay) || 0;
            this._timeScale = 1;
            this._active = !0 == this.vars.immediateRender;
            this.data = this.vars.data;
            this._reversed = !0 == this.vars.reversed;
            if (U) {
                aj || (E.tick(), aj = !0);
                var f = this.vars.useFrames ? aa : U;
                f.insert(this, f._time);
                this.vars.paused && this.paused(!0)
            }
        }),
        E = ac.ticker = new am.Ticker;
    ao = ac.prototype;
    ao._dirty = ao._gc = ao._initted = ao._paused = !1;
    ao._totalTime = ao._time = 0;
    ao._rawPrevTime = -1;
    ao._next = ao._last = ao._onUpdate = ao._timeline = ao.timeline = null;
    ao._paused = !1;
    ao.play = function (d, e) {
        arguments.length && this.seek(d, e);
        this.reversed(!1);
        return this.paused(!1)
    };
    ao.pause = function (d, e) {
        arguments.length && this.seek(d, e);
        return this.paused(!0)
    };
    ao.resume = function (d, e) {
        arguments.length && this.seek(d, e);
        return this.paused(!1)
    };
    ao.seek = function (d, e) {
        return this.totalTime(Number(d), !1 != e)
    };
    ao.restart = function (d, e) {
        this.reversed(!1);
        this.paused(!1);
        return this.totalTime(d ? -this._delay : 0, !1 != e)
    };
    ao.reverse = function (d, e) {
        arguments.length && this.seek(d || this.totalDuration(), e);
        this.reversed(!0);
        return this.paused(!1)
    };
    ao.render = function () {};
    ao.invalidate = function () {
        return this
    };
    ao._enabled = function (d, e) {
        this._gc = !d;
        this._active = d && !this._paused && 0 < this._totalTime && this._totalTime < this._totalDuration;
        !0 != e && (d && null == this.timeline ? this._timeline.insert(this, this._startTime - this._delay) : !d && null != this.timeline && this._timeline
            ._remove(this, !0));
        return !1
    };
    ao._kill = function () {
        return this._enabled(!1, !1)
    };
    ao.kill = function (d, e) {
        this._kill(d, e);
        return this
    };
    ao._uncache = function (c) {
        for (c = c ? this : this.timeline; c;) {
            c._dirty = !0, c = c.timeline
        }
        return this
    };
    ao.eventCallback = function (h, n, m, k) {
        if (null == h) {
            return null
        }
        if ("on" === h.substr(0, 2)) {
            if (1 === arguments.length) {
                return this.vars[h]
            }
            if (null == n) {
                delete this.vars[h]
            } else {
                if (this.vars[h] = n, this.vars[h + "Params"] = m, this.vars[h + "Scope"] = k, m) {
                    for (var i = m.length; - 1 < --i;) {
                        "{self}" === m[i] && (m = this.vars[h + "Params"] = m.concat(), m[i] = this)
                    }
                }
            }
            "onUpdate" === h && (this._onUpdate = n)
        }
        return this
    };
    ao.delay = function (c) {
        if (!arguments.length) {
            return this._delay
        }
        this._timeline.smoothChildTiming && this.startTime(this._startTime + c - this._delay);
        this._delay = c;
        return this
    };
    ao.duration = function (c) {
        if (!arguments.length) {
            return this._dirty = !1, this._duration
        }
        this._duration = this._totalDuration = c;
        this._uncache(!0);
        this._timeline.smoothChildTiming && this._active && 0 != c && this.totalTime(this._totalTime * (c / this._duration), !0);
        return this
    };
    ao.totalDuration = function (c) {
        this._dirty = !1;
        return !arguments.length ? this._totalDuration : this.duration(c)
    };
    ao.time = function (d, e) {
        if (!arguments.length) {
            return this._time
        }
        this._dirty && this.totalDuration();
        d > this._duration && (d = this._duration);
        return this.totalTime(d, e)
    };
    ao.totalTime = function (e, h) {
        if (!arguments.length) {
            return this._totalTime
        }
        if (this._timeline) {
            0 > e && (e += this.totalDuration());
            if (this._timeline.smoothChildTiming && (this._dirty && this.totalDuration(), e > this._totalDuration && (e = this._totalDuration), this._startTime =
                    (this._paused ? this._pauseTime : this._timeline._time) - (!this._reversed ? e : this._totalDuration - e) / this._timeScale, this._timeline
                    ._dirty || this._uncache(!1), !this._timeline._active)) {
                for (var f = this._timeline; f._timeline;) {
                    f.totalTime(f._totalTime, !0), f = f._timeline
                }
            }
            this._gc && this._enabled(!0, !1);
            this._totalTime != e && this.render(e, h, !1)
        }
        return this
    };
    ao.startTime = function (c) {
        if (!arguments.length) {
            return this._startTime
        }
        c != this._startTime && (this._startTime = c, this.timeline && this.timeline._sortChildren && this.timeline.insert(this, c - this._delay));
        return this
    };
    ao.timeScale = function (d) {
        if (!arguments.length) {
            return this._timeScale
        }
        d = d || 0.000001;
        if (this._timeline && this._timeline.smoothChildTiming) {
            var e = this._pauseTime || 0 == this._pauseTime ? this._pauseTime : this._timeline._totalTime;
            this._startTime = e - (e - this._startTime) * this._timeScale / d
        }
        this._timeScale = d;
        return this._uncache(!1)
    };
    ao.reversed = function (c) {
        if (!arguments.length) {
            return this._reversed
        }
        c != this._reversed && (this._reversed = c, this.totalTime(this._totalTime, !0));
        return this
    };
    ao.paused = function (c) {
        if (!arguments.length) {
            return this._paused
        }
        c != this._paused && this._timeline && (!c && this._timeline.smoothChildTiming && (this._startTime += this._timeline.rawTime() - this._pauseTime,
                this._uncache(!1)), this._pauseTime = c ? this._timeline.rawTime() : null, this._paused = c, this._active = !this._paused && 0 <
            this._totalTime && this._totalTime < this._totalDuration);
        this._gc && (c || this._enabled(!0, !1));
        return this
    };
    am = an("core.SimpleTimeline", function (c) {
        ac.call(this, 0, c);
        this.autoRemoveChildren = this.smoothChildTiming = !0
    });
    ao = am.prototype = new ac;
    ao.constructor = am;
    ao.kill()
        ._gc = !1;
    ao._first = ao._last = null;
    ao._sortChildren = !1;
    ao.insert = function (f, k) {
        f._startTime = Number(k || 0) + f._delay;
        f._paused && this !== f._timeline && (f._pauseTime = f._startTime + (this.rawTime() - f._startTime) / f._timeScale);
        f.timeline && f.timeline._remove(f, !0);
        f.timeline = f._timeline = this;
        f._gc && f._enabled(!0, !0);
        var i = this._last;
        if (this._sortChildren) {
            for (var h = f._startTime; i && i._startTime > h;) {
                i = i._prev
            }
        }
        i ? (f._next = i._next, i._next = f) : (f._next = this._first, this._first = f);
        f._next ? f._next._prev = f : this._last = f;
        f._prev = i;
        this._timeline && this._uncache(!0);
        return this
    };
    ao._remove = function (d, e) {
        d.timeline === this && (e || d._enabled(!1, !0), d.timeline = null, d._prev ? d._prev._next = d._next : this._first === d && (this._first = d._next),
            d._next ? d._next._prev = d._prev : this._last === d && (this._last = d._prev), this._timeline && this._uncache(!0));
        return this
    };
    ao.render = function (f, k) {
        var i = this._first,
            h;
        for (this._totalTime = this._time = this._rawPrevTime = f; i;) {
            h = i._next;
            if (i._active || f >= i._startTime && !i._paused) {
                i._reversed ? i.render((!i._dirty ? i._totalDuration : i.totalDuration()) - (f - i._startTime) * i._timeScale, k, !1) : i.render((f - i
                    ._startTime) * i._timeScale, k, !1)
            }
            i = h
        }
    };
    ao.rawTime = function () {
        return this._totalTime
    };
    var Y = an("TweenLite", function (e, h, f) {
        ac.call(this, h, f);
        if (null == e) {
            throw "Cannot tween an undefined reference."
        }
        this.target = e;
        this._overwrite = null == this.vars.overwrite ? ag[Y.defaultOverwrite] : "number" === typeof this.vars.overwrite ? this.vars.overwrite >> 0 :
            ag[this.vars.overwrite];
        if ((e instanceof Array || e.jquery) && "object" === typeof e[0]) {
            this._targets = e.slice(0);
            this._propLookup = [];
            this._siblings = [];
            for (e = 0; e < this._targets.length; e++) {
                f = this._targets[e], f.jquery ? (this._targets.splice(e--, 1), this._targets = this._targets.concat(f.constructor.makeArray(f))) :
                    (this._siblings[e] = V(f, this, !1), 1 === this._overwrite && 1 < this._siblings[e].length && K(f, this, null, 1, this._siblings[
                        e]))
            }
        } else {
            this._propLookup = {}, this._siblings = V(e, this, !1), 1 === this._overwrite && 1 < this._siblings.length && K(e, this, null, 1, this._siblings)
        }(this.vars.immediateRender || 0 === h && 0 === this._delay && !1 != this.vars.immediateRender) && this.render(-this._delay, !1, !0)
    }, !0);
    ao = Y.prototype = new ac;
    ao.constructor = Y;
    ao.kill()
        ._gc = !1;
    ao.ratio = 0;
    ao._firstPT = ao._targets = ao._overwrittenProps = null;
    ao._notifyPluginsOfEnabled = !1;
    Y.version = 12;
    Y.defaultEase = ao._ease = new ad(null, null, 1, 1);
    Y.defaultOverwrite = "auto";
    Y.ticker = E;
    var g = Y._plugins = {},
        w = Y._tweenLookup = {},
        X = 0,
        ab = {
            ease: 1,
            delay: 1,
            overwrite: 1,
            onComplete: 1,
            onCompleteParams: 1,
            onCompleteScope: 1,
            useFrames: 1,
            runBackwards: 1,
            startAt: 1,
            onUpdate: 1,
            onUpdateParams: 1,
            onUpdateScope: 1,
            onStart: 1,
            onStartParams: 1,
            onStartScope: 1,
            onReverseComplete: 1,
            onReverseCompleteParams: 1,
            onReverseCompleteScope: 1,
            onRepeat: 1,
            onRepeatParams: 1,
            onRepeatScope: 1,
            easeParams: 1,
            yoyo: 1,
            orientToBezier: 1,
            immediateRender: 1,
            repeat: 1,
            repeatDelay: 1,
            data: 1,
            paused: 1,
            reversed: 1
        },
        ag = {
            none: 0,
            all: 1,
            auto: 2,
            concurrent: 3,
            allOnStart: 4,
            preexisting: 5,
            "true": 1,
            "false": 0
        },
        aa = ac._rootFramesTimeline = new am,
        U = ac._rootTimeline = new am;
    U._startTime = E.time;
    aa._startTime = E.frame;
    U._active = aa._active = !0;
    ac._updateRoot = function () {
        U.render((E.time - U._startTime) * U._timeScale, !1, !1);
        aa.render((E.frame - aa._startTime) * aa._timeScale, !1, !1);
        if (!(E.frame % 120)) {
            var e, h, f;
            for (f in w) {
                h = w[f].tweens;
                for (e = h.length; - 1 < --e;) {
                    h[e]._gc && h.splice(e, 1)
                }
                0 === h.length && delete w[f]
            }
        }
    };
    E.addEventListener("tick", ac._updateRoot);
    var V = function (h, n, m) {
            var k = h._gsTweenID,
                i;
            if (!w[k || (h._gsTweenID = k = "t" + X++)]) {
                w[k] = {
                    target: h,
                    tweens: []
                }
            }
            if (n && (h = w[k].tweens, h[i = h.length] = n, m)) {
                for (; - 1 < --i;) {
                    h[i] === n && h.splice(i, 1)
                }
            }
            return w[k].tweens
        },
        K = function (G, F, D, C, B) {
            var A, z, y;
            if (1 === C || 4 <= C) {
                G = B.length;
                for (A = 0; A < G; A++) {
                    if ((y = B[A]) !== F) {
                        y._gc || y._enabled(!1, !1) && (z = !0)
                    } else {
                        if (5 === C) {
                            break
                        }
                    }
                }
                return z
            }
            var x = F._startTime + 1e-10,
                v = [],
                u = 0,
                t;
            for (A = B.length; - 1 < --A;) {
                if (!((y = B[A]) === F || y._gc || y._paused)) {
                    y._timeline !== F._timeline ? (t = t || S(F, 0), 0 === S(y, t) && (v[u++] = y)) : y._startTime <= x && y._startTime + y.totalDuration() /
                        y._timeScale + 1e-10 > x && ((0 === F._duration || !y._initted) && 2e-10 >= x - y._startTime || (v[u++] = y))
                }
            }
            for (A = u; - 1 < --A;) {
                if (y = v[A], 2 === C && y._kill(D, G) && (z = !0), 2 !== C || !y._firstPT && y._initted) {
                    y._enabled(!1, !1) && (z = !0)
                }
            }
            return z
        },
        S = function (h, n) {
            for (var m = h._timeline, k = m._timeScale, i = h._startTime; m._timeline;) {
                i += m._startTime;
                k *= m._timeScale;
                if (m._paused) {
                    return -100
                }
                m = m._timeline
            }
            i /= k;
            return i > n ? i - n : !h._initted && 2e-10 > i - n ? 1e-10 : (i += h.totalDuration() / h._timeScale / k) > n ? 0 : i - n - 1e-10
        };
    ao._init = function () {
        this.vars.startAt && (this.vars.startAt.overwrite = 0, this.vars.startAt.immediateRender = !0, Y.to(this.target, 0, this.vars.startAt));
        var d, e;
        this._ease = this.vars.ease instanceof ad ? this.vars.easeParams instanceof Array ? this.vars.ease.config.apply(this.vars.ease, this.vars.easeParams) :
            this.vars.ease : "function" === typeof this.vars.ease ? new ad(this.vars.ease, this.vars.easeParams) : Y.defaultEase;
        this._easeType = this._ease._type;
        this._easePower = this._ease._power;
        this._firstPT = null;
        if (this._targets) {
            for (d = this._targets.length; - 1 < --d;) {
                if (this._initProps(this._targets[d], this._propLookup[d] = {}, this._siblings[d], this._overwrittenProps ? this._overwrittenProps[d] :
                        null)) {
                    e = !0
                }
            }
        } else {
            e = this._initProps(this.target, this._propLookup, this._siblings, this._overwrittenProps)
        }
        e && Y._onPluginEvent("_onInitAllProps", this);
        this._overwrittenProps && null == this._firstPT && "function" !== typeof this.target && this._enabled(!1, !1);
        if (this.vars.runBackwards) {
            for (d = this._firstPT; d;) {
                d.s += d.c, d.c = -d.c, d = d._next
            }
        }
        this._onUpdate = this.vars.onUpdate;
        this._initted = !0
    };
    ao._initProps = function (B, A, z, y) {
        var x, v, t, u, q, p;
        if (null == B) {
            return !1
        }
        for (x in this.vars) {
            if (ab[x]) {
                if ("onStartParams" === x || "onUpdateParams" === x || "onCompleteParams" === x || "onReverseCompleteParams" === x || "onRepeatParams" ===
                    x) {
                    if (q = this.vars[x]) {
                        for (v = q.length; - 1 < --v;) {
                            "{self}" === q[v] && (q = this.vars[x] = q.concat(), q[v] = this)
                        }
                    }
                }
            } else {
                if (g[x] && (u = new g[x])
                    ._onInitTween(B, this.vars[x], this)) {
                    this._firstPT = p = {
                        _next: this._firstPT,
                        t: u,
                        p: "setRatio",
                        s: 0,
                        c: 1,
                        f: !0,
                        n: x,
                        pg: !0,
                        pr: u._priority
                    };
                    for (v = u._overwriteProps.length; - 1 < --v;) {
                        A[u._overwriteProps[v]] = this._firstPT
                    }
                    if (u._priority || u._onInitAllProps) {
                        t = !0
                    }
                    if (u._onDisable || u._onEnable) {
                        this._notifyPluginsOfEnabled = !0
                    }
                } else {
                    this._firstPT = A[x] = p = {
                            _next: this._firstPT,
                            t: B,
                            p: x,
                            f: "function" === typeof B[x],
                            n: x,
                            pg: !1,
                            pr: 0
                        }, p.s = !p.f ? parseFloat(B[x]) : B[x.indexOf("set") || "function" !== typeof B["get" + x.substr(3)] ? x : "get" + x.substr(3)]
                        (), v = this.vars[x], p.c = "number" === typeof v ? v - p.s : "string" === typeof v && "=" === v.charAt(1) ? parseInt(v.charAt(
                            0) + "1") * Number(v.substr(2)) : Number(v) || 0
                }
            }
            p && p._next && (p._next._prev = p)
        }
        return y && this._kill(y, B) ? this._initProps(B, A, z, y) : 1 < this._overwrite && this._firstPT && 1 < z.length && K(B, this, A, this._overwrite,
            z) ? (this._kill(A, B), this._initProps(B, A, z, y)) : t
    };
    ao.render = function (z, y, x) {
        var v = this._time,
            u, t;
        if (z >= this._duration) {
            if (this._totalTime = this._time = this._duration, this.ratio = this._ease._calcEnd ? this._ease.getRatio(1) : 1, this._reversed || (u = !0,
                    t = "onComplete"), 0 === this._duration) {
                if (0 === z || 0 > this._rawPrevTime) {
                    this._rawPrevTime !== z && (x = !0)
                }
                this._rawPrevTime = z
            }
        } else {
            if (0 >= z) {
                this._totalTime = this._time = 0;
                this.ratio = this._ease._calcEnd ? this._ease.getRatio(0) : 0;
                if (0 !== v || 0 === this._duration && 0 < this._rawPrevTime) {
                    t = "onReverseComplete", u = this._reversed
                }
                0 > z ? (this._active = !1, 0 === this._duration && (0 <= this._rawPrevTime && (x = !0), this._rawPrevTime = z)) : this._initted || (x = !
                    0)
            } else {
                if (this._totalTime = this._time = z, this._easeType) {
                    var q = z / this._duration,
                        p = this._easeType,
                        k = this._easePower;
                    if (1 === p || 3 === p && 0.5 <= q) {
                        q = 1 - q
                    }
                    3 === p && (q *= 2);
                    1 === k ? q *= q : 2 === k ? q *= q * q : 3 === k ? q *= q * q * q : 4 === k && (q *= q * q * q * q);
                    this.ratio = 1 === p ? 1 - q : 2 === p ? q : 0.5 > z / this._duration ? q / 2 : 1 - q / 2
                } else {
                    this.ratio = this._ease.getRatio(z / this._duration)
                }
            }
        }
        if (this._time !== v || x) {
            this._initted || (this._init(), !u && this._time && (this.ratio = this._ease.getRatio(this._time / this._duration)));
            !this._active && !this._paused && (this._active = !0);
            if (0 === v && this.vars.onStart && (0 !== this._time || 0 === this._duration)) {
                y || this.vars.onStart.apply(this.vars.onStartScope || this, this.vars.onStartParams || ai)
            }
            for (z = this._firstPT; z;) {
                if (z.f) {
                    z.t[z.p](z.c * this.ratio + z.s)
                } else {
                    z.t[z.p] = z.c * this.ratio + z.s
                }
                z = z._next
            }
            this._onUpdate && (y || this._onUpdate.apply(this.vars.onUpdateScope || this, this.vars.onUpdateParams || ai));
            t && !this._gc && (u && (this._timeline.autoRemoveChildren && this._enabled(!1, !1), this._active = !1), y || this.vars[t] && this.vars[t].apply(
                this.vars[t + "Scope"] || this, this.vars[t + "Params"] || ai))
        }
    };
    ao._kill = function (z, y) {
        "all" === z && (z = null);
        if (null == z && (null == y || y == this.target)) {
            return this._enabled(!1, !1)
        }
        var y = y || this._targets || this.target,
            x, v, u, t, q, p, n;
        if ((y instanceof Array || y.jquery) && "object" === typeof y[0]) {
            for (x = y.length; - 1 < --x;) {
                this._kill(z, y[x]) && (q = !0)
            }
        } else {
            if (this._targets) {
                for (x = this._targets.length; - 1 < --x;) {
                    if (y === this._targets[x]) {
                        t = this._propLookup[x] || {};
                        this._overwrittenProps = this._overwrittenProps || [];
                        v = this._overwrittenProps[x] = z ? this._overwrittenProps[x] || {} : "all";
                        break
                    }
                }
            } else {
                if (y !== this.target) {
                    return !1
                }
                t = this._propLookup;
                v = this._overwrittenProps = z ? this._overwrittenProps || {} : "all"
            }
            if (t) {
                for (u in p = z || t, n = z != v && "all" != v && z != t && (null == z || !0 != z._tempKill), p) {
                    if (x = t[u]) {
                        x.pg && x.t._kill(p) && (q = !0);
                        if (!x.pg || 0 === x.t._overwriteProps.length) {
                            x._prev ? x._prev._next = x._next : x === this._firstPT && (this._firstPT = x._next), x._next && (x._next._prev = x._prev),
                                x._next = x._prev = null
                        }
                        delete t[u]
                    }
                    n && (v[u] = 1)
                }
            }
        }
        return q
    };
    ao.invalidate = function () {
        this._notifyPluginsOfEnabled && Y._onPluginEvent("_onDisable", this);
        this._onUpdate = this._overwrittenProps = this._firstPT = null;
        this._initted = this._active = this._notifyPluginsOfEnabled = !1;
        this._propLookup = this._targets ? {} : [];
        return this
    };
    ao._enabled = function (e, h) {
        if (e && this._gc) {
            if (this._targets) {
                for (var f = this._targets.length; - 1 < --f;) {
                    this._siblings[f] = V(this._targets[f], this, !0)
                }
            } else {
                this._siblings = V(this.target, this, !0)
            }
        }
        ac.prototype._enabled.call(this, e, h);
        return this._notifyPluginsOfEnabled && this._firstPT ? Y._onPluginEvent(e ? "_onEnable" : "_onDisable", this) : !1
    };
    Y.to = function (e, h, f) {
        return new Y(e, h, f)
    };
    Y.from = function (e, h, f) {
        f.runBackwards = !0;
        !1 != f.immediateRender && (f.immediateRender = !0);
        return new Y(e, h, f)
    };
    Y.fromTo = function (f, k, i, h) {
        h.startAt = i;
        i.immediateRender && (h.immediateRender = !0);
        return new Y(f, k, h)
    };
    Y.delayedCall = function (h, n, m, k, i) {
        return new Y(n, 0, {
            delay: h,
            onComplete: n,
            onCompleteParams: m,
            onCompleteScope: k,
            onReverseComplete: n,
            onReverseCompleteParams: m,
            onReverseCompleteScope: k,
            immediateRender: !1,
            useFrames: i,
            overwrite: 0
        })
    };
    Y.set = function (d, e) {
        return new Y(d, 0, e)
    };
    Y.killTweensOf = Y.killDelayedCallsTo = function (f, k) {
        for (var i = Y.getTweensOf(f), h = i.length; - 1 < --h;) {
            i[h]._kill(k, f)
        }
    };
    Y.getTweensOf = function (f) {
        if (null != f) {
            var k, i, h;
            if ((f instanceof Array || f.jquery) && "object" === typeof f[0]) {
                k = f.length;
                for (i = []; - 1 < --k;) {
                    i = i.concat(Y.getTweensOf(f[k]))
                }
                for (k = i.length; - 1 < --k;) {
                    h = i[k];
                    for (f = k; - 1 < --f;) {
                        h === i[f] && i.splice(k, 1)
                    }
                }
            } else {
                i = V(f)
                    .concat();
                for (k = i.length; - 1 < --k;) {
                    i[k]._gc && i.splice(k, 1)
                }
            }
            return i
        }
    };
    var Q = an("plugins.TweenPlugin", function (d, e) {
        this._overwriteProps = (d || "")
            .split(",");
        this._propName = this._overwriteProps[0];
        this._priority = e || 0
    }, !0);
    ao = Q.prototype;
    Q.version = 12;
    Q.API = 2;
    ao._firstPT = null;
    ao._addTween = function (k, u, t, q, p, n) {
        var m;
        if (null != q && (m = "number" === typeof q || "=" !== q.charAt(1) ? Number(q) - t : parseInt(q.charAt(0) + "1") * Number(q.substr(2)))) {
            this._firstPT = k = {
                _next: this._firstPT,
                t: k,
                p: u,
                s: t,
                c: m,
                f: "function" === typeof k[u],
                n: p || u,
                r: n
            }, k._next && (k._next._prev = k)
        }
    };
    ao.setRatio = function (e) {
        for (var h = this._firstPT, f; h;) {
            f = h.c * e + h.s;
            h.r && (f = f + (0 < f ? 0.5 : -0.5) >> 0);
            if (h.f) {
                h.t[h.p](f)
            } else {
                h.t[h.p] = f
            }
            h = h._next
        }
    };
    ao._kill = function (d) {
        if (null != d[this._propName]) {
            this._overwriteProps = []
        } else {
            for (var e = this._overwriteProps.length; - 1 < --e;) {
                null != d[this._overwriteProps[e]] && this._overwriteProps.splice(e, 1)
            }
        }
        for (e = this._firstPT; e;) {
            null != d[e.n] && (e._next && (e._next._prev = e._prev), e._prev ? (e._prev._next = e._next, e._prev = null) : this._firstPT === e && (this
                ._firstPT = e._next)), e = e._next
        }
        return !1
    };
    ao._roundProps = function (e, h) {
        for (var f = this._firstPT; f;) {
            if (e[this._propName] || null != f.n && e[f.n.split(this._propName + "_")
                    .join("")]) {
                f.r = h
            }
            f = f._next
        }
    };
    Y._onPluginEvent = function (m, x) {
        var v = x._firstPT,
            u;
        if ("_onInitAllProps" === m) {
            for (var t, q, p, n; v;) {
                n = v._next;
                for (t = q; t && t.pr > v.pr;) {
                    t = t._next
                }(v._prev = t ? t._prev : p) ? v._prev._next = v: q = v;
                (v._next = t) ? t._prev = v: p = v;
                v = n
            }
            v = x._firstPT = q
        }
        for (; v;) {
            v.pg && "function" === typeof v.t[m] && v.t[m]() && (u = !0), v = v._next
        }
        return u
    };
    Q.activate = function (d) {
        for (var e = d.length; - 1 < --e;) {
            d[e].API === Q.API && (Y._plugins[(new d[e])
                ._propName] = d[e])
        }
        return !0
    };
    if (af = R._gsQueue) {
        for (ah = 0; ah < af.length; ah++) {
            af[ah]()
        }
        for (ao in ap) {
            ap[ao].def || console.log("Warning: TweenLite encountered missing dependency: com.greensock." + ao)
        }
    }
})(window);
/*!
 * jQuery Transit - CSS3 transitions and transformations
 * Copyright(c) 2011 Rico Sta. Cruz <rico@ricostacruz.com>
 * MIT Licensed.
 *
 * http://ricostacruz.com/jquery.transit
 * http://github.com/rstacruz/jquery.transit
 */
(function (n) {
    n.transit = {
        version: "0.1.3",
        propertyMap: {
            marginLeft: "margin",
            marginRight: "margin",
            marginBottom: "margin",
            marginTop: "margin",
            paddingLeft: "padding",
            paddingRight: "padding",
            paddingBottom: "padding",
            paddingTop: "padding"
        },
        enabled: true,
        useTransitionEnd: false
    };
    var e = document.createElement("div");
    var t = {};

    function c(y) {
        var x = ["Moz", "Webkit", "O", "ms"];
        var u = y.charAt(0)
            .toUpperCase() + y.substr(1);
        if (y in e.style) {
            return y
        }
        for (var w = 0; w < x.length; ++w) {
            var v = x[w] + u;
            if (v in e.style) {
                return v
            }
        }
    }

    function f() {
        e.style[t.transform] = "";
        e.style[t.transform] = "rotateY(90deg)";
        return e.style[t.transform] !== ""
    }
    var b = navigator.userAgent.toLowerCase()
        .indexOf("chrome") > -1;
    t.transition = c("transition");
    t.transitionDelay = c("transitionDelay");
    t.transform = c("transform");
    t.transformOrigin = c("transformOrigin");
    t.transform3d = f();
    n.extend(n.support, t);
    var k = {
        MozTransition: "transitionend",
        OTransition: "oTransitionEnd",
        WebkitTransition: "webkitTransitionEnd",
        msTransition: "MSTransitionEnd"
    };
    var g = t.transitionEnd = k[t.transition] || null;
    e = null;
    n.cssEase = {
        _default: "ease",
        "in": "ease-in",
        out: "ease-out",
        "in-out": "ease-in-out",
        snap: "cubic-bezier(0,1,.5,1)"
    };
    n.cssHooks.transform = {
        get: function (u) {
            return n(u)
                .data("transform")
        },
        set: function (w, u) {
            var x = u;
            if (!(x instanceof m)) {
                x = new m(x)
            }
            if (t.transform === "WebkitTransform" && !b) {
                w.style[t.transform] = x.toString(true)
            } else {
                w.style[t.transform] = x.toString()
            }
            n(w)
                .data("transform", x)
        }
    };
    n.cssHooks.transformOrigin = {
        get: function (u) {
            return u.style[t.transformOrigin]
        },
        set: function (u, v) {
            u.style[t.transformOrigin] = v
        }
    };
    n.cssHooks.transition = {
        get: function (u) {
            return u.style[t.transition]
        },
        set: function (u, v) {
            u.style[t.transition] = v
        }
    };
    q("scale");
    q("translate");
    q("rotate");
    q("rotateX");
    q("rotateY");
    q("rotate3d");
    q("perspective");
    q("skewX");
    q("skewY");
    q("x", true);
    q("y", true);

    function m(u) {
        if (typeof u === "string") {
            this.parse(u)
        }
        return this
    }
    m.prototype = {
        setFromString: function (w, v) {
            var u = (typeof v === "string") ? v.split(",") : (v.constructor === Array) ? v : [v];
            u.unshift(w);
            m.prototype.set.apply(this, u)
        },
        set: function (v) {
            var u = Array.prototype.slice.apply(arguments, [1]);
            if (this.setter[v]) {
                this.setter[v].apply(this, u)
            } else {
                this[v] = u.join(",")
            }
        },
        get: function (u) {
            if (this.getter[u]) {
                return this.getter[u].apply(this)
            } else {
                return this[u] || 0
            }
        },
        setter: {
            rotate: function (u) {
                this.rotate = s(u, "deg")
            },
            rotateX: function (u) {
                this.rotateX = s(u, "deg")
            },
            rotateY: function (u) {
                this.rotateY = s(u, "deg")
            },
            scale: function (u, v) {
                if (v === undefined) {
                    v = u
                }
                this.scale = u + "," + v
            },
            skewX: function (u) {
                this.skewX = s(u, "deg")
            },
            skewY: function (u) {
                this.skewY = s(u, "deg")
            },
            perspective: function (u) {
                this.perspective = s(u, "px")
            },
            x: function (u) {
                this.set("translate", u, null)
            },
            y: function (u) {
                this.set("translate", null, u)
            },
            translate: function (u, v) {
                if (this._translateX === undefined) {
                    this._translateX = 0
                }
                if (this._translateY === undefined) {
                    this._translateY = 0
                }
                if (u !== null) {
                    this._translateX = s(u, "px")
                }
                if (v !== null) {
                    this._translateY = s(v, "px")
                }
                this.translate = this._translateX + "," + this._translateY
            }
        },
        getter: {
            x: function () {
                return this._translateX || 0
            },
            y: function () {
                return this._translateY || 0
            },
            scale: function () {
                var u = (this.scale || "1,1")
                    .split(",");
                if (u[0]) {
                    u[0] = parseFloat(u[0])
                }
                if (u[1]) {
                    u[1] = parseFloat(u[1])
                }
                return (u[0] === u[1]) ? u[0] : u
            },
            rotate3d: function () {
                var v = (this.rotate3d || "0,0,0,0deg")
                    .split(",");
                for (var u = 0; u <= 3; ++u) {
                    if (v[u]) {
                        v[u] = parseFloat(v[u])
                    }
                }
                if (v[3]) {
                    v[3] = s(v[3], "deg")
                }
                return v
            }
        },
        parse: function (v) {
            var u = this;
            v.replace(/([a-zA-Z0-9]+)\((.*?)\)/g, function (w, z, y) {
                u.setFromString(z, y)
            })
        },
        toString: function (w) {
            var v = [];
            for (var u in this) {
                if (this.hasOwnProperty(u)) {
                    if ((!t.transform3d) && ((u === "rotateX") || (u === "rotateY") || (u === "perspective") || (u === "transformOrigin"))) {
                        continue
                    }
                    if (u[0] !== "_") {
                        if (w && (u === "scale")) {
                            v.push(u + "3d(" + this[u] + ",1)")
                        } else {
                            if (w && (u === "translate")) {
                                v.push(u + "3d(" + this[u] + ",0)")
                            } else {
                                v.push(u + "(" + this[u] + ")")
                            }
                        }
                    }
                }
            }
            return v.join(" ")
        }
    };

    function p(v, u, w) {
        if (u === true) {
            v.queue(w)
        } else {
            if (u) {
                v.queue(u, w)
            } else {
                w()
            }
        }
    }

    function i(v) {
        var u = [];
        n.each(v, function (w) {
            w = n.camelCase(w);
            w = n.transit.propertyMap[w] || w;
            w = d(w);
            if (n.inArray(w, u) === -1) {
                u.push(w)
            }
        });
        return u
    }

    function h(v, y, A, u) {
        var w = i(v);
        if (n.cssEase[A]) {
            A = n.cssEase[A]
        }
        var z = "" + o(y) + " " + A;
        if (parseInt(u, 10) > 0) {
            z += " " + o(u)
        }
        var x = [];
        n.each(w, function (C, B) {
            x.push(B + " " + z)
        });
        return x.join(", ")
    }
    n.fn.transition = n.fn.transit = function (C, v, B, F) {
        var G = this;
        var x = 0;
        var z = true;
        if (typeof v === "function") {
            F = v;
            v = undefined
        }
        if (typeof B === "function") {
            F = B;
            B = undefined
        }
        if (typeof C.easing !== "undefined") {
            B = C.easing;
            delete C.easing
        }
        if (typeof C.duration !== "undefined") {
            v = C.duration;
            delete C.duration
        }
        if (typeof C.complete !== "undefined") {
            F = C.complete;
            delete C.complete
        }
        if (typeof C.queue !== "undefined") {
            z = C.queue;
            delete C.queue
        }
        if (typeof C.delay !== "undefined") {
            x = C.delay;
            delete C.delay
        }
        if (typeof v === "undefined") {
            v = n.fx.speeds._default
        }
        if (typeof B === "undefined") {
            B = n.cssEase._default
        }
        v = o(v);
        var H = h(C, v, B, x);
        var E = n.transit.enabled && t.transition;
        var w = E ? (parseInt(v, 10) + parseInt(x, 10)) : 0;
        if (w === 0) {
            var D = function (I) {
                G.css(C);
                if (F) {
                    F.apply(G)
                }
                if (I) {
                    I()
                }
            };
            p(G, z, D);
            return G
        }
        var A = {};
        var u = function (K) {
            var J = false;
            var I = function () {
                if (J) {
                    G.unbind(g, I)
                }
                if (w > 0) {
                    G.each(function () {
                        this.style[t.transition] = (A[this] || null)
                    })
                }
                if (typeof F === "function") {
                    F.apply(G)
                }
                if (typeof K === "function") {
                    K()
                }
            };
            if ((w > 0) && (g) && (n.transit.useTransitionEnd)) {
                J = true;
                G.bind(g, I)
            } else {
                window.setTimeout(I, w)
            }
            G.each(function () {
                if (w > 0) {
                    this.style[t.transition] = H
                }
                n(this)
                    .css(C)
            })
        };
        var y = function (J) {
            var I = 0;
            if ((t.transition === "MozTransition") && (I < 25)) {
                I = 25
            }
            window.setTimeout(function () {
                u(J)
            }, I)
        };
        p(G, z, y);
        return this
    };

    function q(v, u) {
        if (!u) {
            n.cssNumber[v] = true
        }
        n.transit.propertyMap[v] = t.transform;
        n.cssHooks[v] = {
            get: function (x) {
                var w = n(x)
                    .css("transform") || new m();
                return w.get(v)
            },
            set: function (x, y) {
                var w = n(x)
                    .css("transform") || new m();
                w.setFromString(v, y);
                n(x)
                    .css({
                        transform: w
                    })
            }
        }
    }

    function d(u) {
        return u.replace(/([A-Z])/g, function (v) {
            return "-" + v.toLowerCase()
        })
    }

    function s(v, u) {
        if ((typeof v === "string") && (!v.match(/^[\-0-9\.]+$/))) {
            return v
        } else {
            return "" + v + u
        }
    }

    function o(v) {
        var u = v;
        if (n.fx.speeds[u]) {
            u = n.fx.speeds[u]
        }
        return s(u, "ms")
    }
    n.transit.getTransitionValue = h
})(jQuery);

function PxLoader(d) {
    d = d || {};
    if (d.statusInterval == null) {
        d.statusInterval = 5000
    }
    if (d.loggingDelay == null) {
        d.loggingDelay = 20 * 1000
    }
    if (d.noProgressTimeout == null) {
        d.noProgressTimeout = Infinity
    }
    var g = [],
        b = [],
        o, c = +new Date;
    var k = {
        QUEUED: 0,
        WAITING: 1,
        LOADED: 2,
        ERROR: 3,
        TIMEOUT: 4
    };
    var m = function (p) {
        if (p == null) {
            return []
        }
        if (Array.isArray(p)) {
            return p
        }
        return [p]
    };
    this.add = function (p) {
        p.tags = new PxLoaderTags(p.tags);
        if (p.priority == null) {
            p.priority = Infinity
        }
        g.push({
            resource: p,
            status: k.QUEUED
        })
    };
    this.addProgressListener = function (q, p) {
        b.push({
            callback: q,
            tags: new PxLoaderTags(p)
        })
    };
    this.addCompletionListener = function (q, p) {
        b.push({
            tags: new PxLoaderTags(p),
            callback: function (s) {
                if (s.completedCount === s.totalCount) {
                    q()
                }
            }
        })
    };
    var i = function (p) {
        p = m(p);
        var q = function (v) {
            var w = v.resource,
                u = Infinity;
            for (var t = 0; t < w.tags.length; t++) {
                for (var s = 0; s < Math.min(p.length, u); s++) {
                    if (w.tags[t] == p[s] && s < u) {
                        u = s;
                        if (u === 0) {
                            break
                        }
                    }
                    if (u === 0) {
                        break
                    }
                }
            }
            return u
        };
        return function (t, s) {
            var v = q(t),
                u = q(s);
            if (v < u) {
                return -1
            }
            if (v > u) {
                return 1
            }
            if (t.priority < s.priority) {
                return -1
            }
            if (t.priority > s.priority) {
                return 1
            }
            return 0
        }
    };
    this.start = function (q) {
        o = +new Date;
        var s = i(q);
        g.sort(s);
        for (var t = 0, p = g.length; t < p; t++) {
            var u = g[t];
            u.status = k.WAITING;
            u.resource.start(this)
        }
        setTimeout(e, 100)
    };
    var e = function () {
        var u = false,
            v = (+new Date) - c,
            q = (v >= d.noProgressTimeout),
            s = (v >= d.loggingDelay);
        for (var t = 0, p = g.length; t < p; t++) {
            var w = g[t];
            if (w.status !== k.WAITING) {
                continue
            }
            if (w.resource.checkStatus) {
                w.resource.checkStatus()
            }
            if (w.status === k.WAITING) {
                if (q) {
                    w.resource.onTimeout()
                } else {
                    u = true
                }
            }
        }
        if (s && u) {
            f()
        }
        if (u) {
            setTimeout(e, d.statusInterval)
        }
    };
    this.isBusy = function () {
        for (var q = 0, p = g.length; q < p; q++) {
            if (g[q].status === k.QUEUED || g[q].status === k.WAITING) {
                return true
            }
        }
        return false
    };
    var n = function (s, y) {
        var x = null;
        for (var t = 0, w = g.length; t < w; t++) {
            if (g[t].resource === s) {
                x = g[t];
                break
            }
        }
        if (x == null || x.status !== k.WAITING) {
            return
        }
        x.status = y;
        c = +new Date;
        var p = s.tags.length;
        for (var t = 0, v = b.length; t < v; t++) {
            var q = b[t],
                u;
            if (q.tags.length === 0) {
                u = true
            } else {
                u = s.tags.contains(q.tags)
            }
            if (u) {
                h(x, q)
            }
        }
    };
    this.onLoad = function (p) {
        n(p, k.LOADED)
    };
    this.onError = function (p) {
        n(p, k.ERROR)
    };
    this.onTimeout = function (p) {
        n(p, k.TIMEOUT)
    };
    var h = function (q, x) {
        var u = 0,
            w = 0;
        for (var t = 0, p = g.length; t < p; t++) {
            var v = g[t],
                s = false;
            if (x.tags.length === 0) {
                s = true
            } else {
                s = v.resource.tags.contains(x.tags)
            }
            if (s) {
                w++;
                if (v.status === k.LOADED || v.status === k.ERROR || v.status === k.TIMEOUT) {
                    u++
                }
            }
        }
        x.callback({
            resource: q.resource,
            loaded: (q.status === k.LOADED),
            error: (q.status === k.ERROR),
            timeout: (q.status === k.TIMEOUT),
            completedCount: u,
            totalCount: w
        })
    };
    var f = this.log = function (t) {
        if (!window.console) {
            return
        }
        var s = Math.round((+new Date - o) / 1000);
        window.console.log("PxLoader elapsed: " + s + " sec");
        for (var q = 0, p = g.length; q < p; q++) {
            var v = g[q];
            if (!t && v.status !== k.WAITING) {
                continue
            }
            var u = "PxLoader: #" + q + " " + v.resource.getName();
            switch (v.status) {
            case k.QUEUED:
                u += " (Not Started)";
                break;
            case k.WAITING:
                u += " (Waiting)";
                break;
            case k.LOADED:
                u += " (Loaded)";
                break;
            case k.ERROR:
                u += " (Error)";
                break;
            case k.TIMEOUT:
                u += " (Timeout)";
                break
            }
            if (v.resource.tags.length > 0) {
                u += " Tags: [" + v.resource.tags.join(",") + "]"
            }
            window.console.log(u)
        }
    }
}

function PxLoaderTags(b) {
    this.array = [];
    this.object = {};
    this.value = null;
    this.length = 0;
    if (b !== null && b !== undefined) {
        if (Array.isArray(b)) {
            this.array = b
        } else {
            if (typeof b === "object") {
                for (var d in b) {
                    this.array.push(d)
                }
            } else {
                this.array.push(b);
                this.value = b
            }
        }
        this.length = this.array.length;
        for (var c = 0; c < this.length; c++) {
            this.object[this.array[c]] = true
        }
    }
    this.contains = function (e) {
        if (this.length === 0 || e.length === 0) {
            return false
        } else {
            if (this.length === 1 && this.value !== null) {
                if (e.length === 1) {
                    return this.value === e.value
                } else {
                    return e.object.hasOwnProperty(this.value)
                }
            } else {
                if (e.length < this.length) {
                    return e.contains(this)
                } else {
                    for (var f in this.object) {
                        if (e.object[f]) {
                            return true
                        }
                    }
                    return false
                }
            }
        }
    }
}
if (!Array.isArray) {
    Array.isArray = function (b) {
        return Object.prototype.toString.call(b) == "[object Array]"
    }
}

function PxLoaderImage(b, k, g) {
    var i = this,
        h = null;
    this.img = new Image();
    this.tags = k;
    this.priority = g;
    var c = function () {
        if (i.img.readyState == "complete") {
            d();
            h.onLoad(i)
        }
    };
    var f = function () {
        d();
        h.onLoad(i)
    };
    var e = function () {
        d();
        h.onError(i)
    };
    var d = function () {
        i.unbind("load", f);
        i.unbind("readystatechange", c);
        i.unbind("error", e)
    };
    this.start = function (m) {
        h = m;
        i.bind("load", f);
        i.bind("readystatechange", c);
        i.bind("error", e);
        i.img.src = b
    };
    this.checkStatus = function () {
        if (i.img.complete) {
            d();
            h.onLoad(i)
        }
    };
    this.onTimeout = function () {
        d();
        if (i.img.complete) {
            h.onLoad(i)
        } else {
            h.onTimeout(i)
        }
    };
    this.getName = function () {
        return b
    };
    this.bind = function (m, n) {
        if (i.img.addEventListener) {
            i.img.addEventListener(m, n, false)
        } else {
            if (i.img.attachEvent) {
                i.img.attachEvent("on" + m, n)
            }
        }
    };
    this.unbind = function (m, n) {
        if (i.img.removeEventListener) {
            i.img.removeEventListener(m, n, false)
        } else {
            if (i.img.detachEvent) {
                i.img.detachEvent("on" + m, n)
            }
        }
    }
}
PxLoader.prototype.addImage = function (d, c, e) {
    var b = new PxLoaderImage(d, c, e);
    this.add(b);
    return b.img
};
(function (b) {
    function c(g, f, n, i, h) {
        this._listener = f;
        this._isOnce = n;
        this.context = i;
        this._signal = g;
        this._priority = h || 0
    }

    function d(f, e) {
        if (typeof f !== "function") {
            throw Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}", e))
        }
    }

    function m() {
        this._bindings = [];
        this._prevParams = null;
        var e = this;
        this.dispatch = function () {
            m.prototype.dispatch.apply(e, arguments)
        }
    }
    c.prototype = {
        active: !0,
        params: null,
        execute: function (f) {
            var e;
            this.active && this._listener && (f = this.params ? this.params.concat(f) : f, e = this._listener.apply(this.context, f), this._isOnce &&
                this.detach());
            return e
        },
        detach: function () {
            return this.isBound() ? this._signal.remove(this._listener, this.context) : null
        },
        isBound: function () {
            return !!this._signal && !!this._listener
        },
        isOnce: function () {
            return this._isOnce
        },
        getListener: function () {
            return this._listener
        },
        getSignal: function () {
            return this._signal
        },
        _destroy: function () {
            delete this._signal;
            delete this._listener;
            delete this.context
        },
        toString: function () {
            return "[SignalBinding isOnce:" + this._isOnce + ", isBound:" + this.isBound() + ", active:" + this.active + "]"
        }
    };
    m.prototype = {
        VERSION: "0.9.0",
        memorize: !1,
        _shouldPropagate: !0,
        active: !0,
        _registerListener: function (g, f, n, i) {
            var h = this._indexOfListener(g, n);
            if (h !== -1) {
                if (g = this._bindings[h], g.isOnce() !== f) {
                    throw Error("You cannot add" + (f ? "" : "Once") + "() then add" + (!f ? "" : "Once") +
                        "() the same listener without removing the relationship first.")
                }
            } else {
                g = new c(this, g, f, n, i), this._addBinding(g)
            }
            this.memorize && this._prevParams && g.execute(this._prevParams);
            return g
        },
        _addBinding: function (f) {
            var e = this._bindings.length;
            do {
                --e
            } while (this._bindings[e] && f._priority <= this._bindings[e]._priority);
            this._bindings.splice(e + 1, 0, f)
        },
        _indexOfListener: function (f, e) {
            for (var h = this._bindings.length, g; h--;) {
                if (g = this._bindings[h], g._listener === f && g.context === e) {
                    return h
                }
            }
            return -1
        },
        has: function (f, e) {
            return this._indexOfListener(f, e) !== -1
        },
        add: function (f, e, g) {
            d(f, "add");
            return this._registerListener(f, !1, e, g)
        },
        addOnce: function (f, e, g) {
            d(f, "addOnce");
            return this._registerListener(f, !0, e, g)
        },
        remove: function (f, e) {
            d(f, "remove");
            var g = this._indexOfListener(f, e);
            g !== -1 && (this._bindings[g]._destroy(), this._bindings.splice(g, 1));
            return f
        },
        removeAll: function () {
            for (var e = this._bindings.length; e--;) {
                this._bindings[e]._destroy()
            }
            this._bindings.length = 0
        },
        getNumListeners: function () {
            return this._bindings.length
        },
        halt: function () {
            this._shouldPropagate = !1
        },
        dispatch: function (f) {
            if (this.active) {
                var e = Array.prototype.slice.call(arguments),
                    h = this._bindings.length,
                    g;
                if (this.memorize) {
                    this._prevParams = e
                }
                if (h) {
                    g = this._bindings.slice();
                    this._shouldPropagate = !0;
                    do {
                        h--
                    } while (g[h] && this._shouldPropagate && g[h].execute(e) !== !1)
                }
            }
        },
        forget: function () {
            this._prevParams = null
        },
        dispose: function () {
            this.removeAll();
            delete this._bindings;
            delete this._prevParams
        },
        toString: function () {
            return "[Signal active:" + this.active + " numListeners:" + this.getNumListeners() + "]"
        }
    };
    var k = m;
    k.Signal = m;
    typeof define === "function" && define.amd ? define(function () {
        return k
    }) : typeof module !== "undefined" && module.exports ? module.exports = k : b.signals = k
})(this);
/*!
 * Hasher <http://github.com/millermedeiros/hasher>
 * @author Miller Medeiros
 * @version 1.1.2 (2012/10/31 03:19 PM)
 * Released under the MIT License
 */
(function (b) {
    b("hasher", ["signals"], function (d) {
        var e = (function (Y) {
            var U = 25,
                R = Y.document,
                V = Y.history,
                H = d.Signal,
                ad, J, W, L, af, P, N = /#(.*)$/,
                Z = /(\?.*)|(\#.*)/,
                ac = /^\#/,
                aa = (!+"\v1"),
                T = ("onhashchange" in Y) && R.documentMode !== 7,
                ae = aa && !T,
                O = (location.protocol === "file:");

            function K(f) {
                if (!f) {
                    return ""
                }
                var g = new RegExp("^\\" + ad.prependHash + "|\\" + ad.appendHash + "$", "g");
                return f.replace(g, "")
            }

            function M() {
                var f = N.exec(ad.getURL());
                return (f && f[1]) ? decodeURIComponent(f[1]) : ""
            }

            function c() {
                return (af) ? af.contentWindow.frameHash : null
            }

            function F() {
                af = R.createElement("iframe");
                af.src = "about:blank";
                af.style.display = "none";
                R.body.appendChild(af)
            }

            function ab() {
                if (af && J !== c()) {
                    var f = af.contentWindow.document;
                    f.open();
                    f.write("<html><head><title>" + R.title + '</title><script type="text/javascript">var frameHash="' + J +
                        '";<\/script></head><body>&nbsp;</body></html>');
                    f.close()
                }
            }

            function X(h, g) {
                if (J !== h) {
                    var f = J;
                    J = h;
                    if (ae) {
                        if (!g) {
                            ab()
                        } else {
                            af.contentWindow.frameHash = h
                        }
                    }
                    ad.changed.dispatch(K(h), K(f))
                }
            }
            if (ae) {
                P = function () {
                    var f = M(),
                        g = c();
                    if (g !== J && g !== f) {
                        ad.setHash(K(g))
                    } else {
                        if (f !== J) {
                            X(f)
                        }
                    }
                }
            } else {
                P = function () {
                    var f = M();
                    if (f !== J) {
                        X(f)
                    }
                }
            }

            function Q(f, h, g) {
                if (f.addEventListener) {
                    f.addEventListener(h, g, false)
                } else {
                    if (f.attachEvent) {
                        f.attachEvent("on" + h, g)
                    }
                }
            }

            function G(f, h, g) {
                if (f.removeEventListener) {
                    f.removeEventListener(h, g, false)
                } else {
                    if (f.detachEvent) {
                        f.detachEvent("on" + h, g)
                    }
                }
            }

            function S(f) {
                f = Array.prototype.slice.call(arguments);
                var g = f.join(ad.separator);
                g = g ? ad.prependHash + g.replace(ac, "") + ad.appendHash : g;
                return g
            }

            function I(f) {
                f = encodeURI(f);
                if (aa && O) {
                    f = f.replace(/\?/, "%3F")
                }
                return f
            }
            ad = {
                VERSION: "1.1.2",
                appendHash: "",
                prependHash: "/",
                separator: "/",
                changed: new H(),
                stopped: new H(),
                initialized: new H(),
                init: function () {
                    if (L) {
                        return
                    }
                    J = M();
                    if (T) {
                        Q(Y, "hashchange", P)
                    } else {
                        if (ae) {
                            if (!af) {
                                F()
                            }
                            ab()
                        }
                        W = setInterval(P, U)
                    }
                    L = true;
                    ad.initialized.dispatch(K(J))
                },
                stop: function () {
                    if (!L) {
                        return
                    }
                    if (T) {
                        G(Y, "hashchange", P)
                    } else {
                        clearInterval(W);
                        W = null
                    }
                    L = false;
                    ad.stopped.dispatch(K(J))
                },
                isActive: function () {
                    return L
                },
                getURL: function () {
                    return Y.location.href
                },
                getBaseURL: function () {
                    return ad.getURL()
                        .replace(Z, "")
                },
                setHash: function (f) {
                    f = S.apply(null, arguments);
                    if (f !== J) {
                        X(f);
                        if (f === J) {
                            Y.location.hash = "#" + I(f)
                        }
                    }
                },
                replaceHash: function (f) {
                    f = S.apply(null, arguments);
                    if (f !== J) {
                        X(f, true);
                        if (f === J) {
                            Y.location.replace("#" + I(f))
                        }
                    }
                },
                getHash: function () {
                    return K(J)
                },
                getHashAsArray: function () {
                    return ad.getHash()
                        .split(ad.separator)
                },
                dispose: function () {
                    ad.stop();
                    ad.initialized.dispose();
                    ad.stopped.dispose();
                    ad.changed.dispose();
                    af = ad = Y.hasher = null
                },
                toString: function () {
                    return '[hasher version="' + ad.VERSION + '" hash="' + ad.getHash() + '"]'
                }
            };
            ad.initialized.memorize = true;
            return ad
        }(window));
        return e
    })
}(typeof define === "function" && define.amd ? define : function (f, d, e) {
    window[f] = e(window[d[0]])
}));
/*! Copyright (c) 2013 Brandon Aaron (http://brandonaaron.net)
 * Licensed under the MIT License (LICENSE.txt).
 *
 * Thanks to: http://adomas.org/javascript-mouse-wheel/ for some pointers.
 * Thanks to: Mathias Bank(http://www.mathias-bank.de) for a scope bug fix.
 * Thanks to: Seamus Leahy for adding deltaX and deltaY
 *
 * Version: 3.1.3
 *
 * Requires: 1.2.2+
 */
(function (e) {
    if (typeof define === "function" && define.amd) {
        define(["jquery"], e)
    } else if (typeof exports === "object") {
        module.exports = e
    } else {
        e(jQuery)
    }
})(function (e) {
    function o(t) {
        var n = t || window.event,
            s = [].slice.call(arguments, 1),
            o = 0,
            u = 0,
            a = 0,
            f = 0,
            l = 0,
            c;
        t = e.event.fix(n);
        t.type = "mousewheel";
        if (n.wheelDelta) {
            o = n.wheelDelta
        }
        if (n.detail) {
            o = n.detail * -1
        }
        if (n.deltaY) {
            a = n.deltaY * -1;
            o = a
        }
        if (n.deltaX) {
            u = n.deltaX;
            o = u * -1
        }
        if (n.wheelDeltaY !== undefined) {
            a = n.wheelDeltaY
        }
        if (n.wheelDeltaX !== undefined) {
            u = n.wheelDeltaX * -1
        }
        f = Math.abs(o);
        if (!r || f < r) {
            r = f
        }
        l = Math.max(Math.abs(a), Math.abs(u));
        if (!i || l < i) {
            i = l
        }
        c = o > 0 ? "floor" : "ceil";
        o = Math[c](o / r);
        u = Math[c](u / i);
        a = Math[c](a / i);
        s.unshift(t, o, u, a);
        return (e.event.dispatch || e.event.handle)
            .apply(this, s)
    }
    var t = ["wheel", "mousewheel", "DOMMouseScroll", "MozMousePixelScroll"];
    var n = "onwheel" in document || document.documentMode >= 9 ? ["wheel"] : ["mousewheel", "DomMouseScroll", "MozMousePixelScroll"];
    var r, i;
    if (e.event.fixHooks) {
        for (var s = t.length; s;) {
            e.event.fixHooks[t[--s]] = e.event.mouseHooks
        }
    }
    e.event.special.mousewheel = {
        setup: function () {
            if (this.addEventListener) {
                for (var e = n.length; e;) {
                    this.addEventListener(n[--e], o, false)
                }
            } else {
                this.onmousewheel = o
            }
        },
        teardown: function () {
            if (this.removeEventListener) {
                for (var e = n.length; e;) {
                    this.removeEventListener(n[--e], o, false)
                }
            } else {
                this.onmousewheel = null
            }
        }
    };
    e.fn.extend({
        mousewheel: function (e) {
            return e ? this.bind("mousewheel", e) : this.trigger("mousewheel")
        },
        unmousewheel: function (e) {
            return this.unbind("mousewheel", e)
        }
    })
});
/*!
 
 Copyright (c) 2011 Peter van der Spek
 
 Permission is hereby granted, free of charge, to any person obtaining a copy
 of this software and associated documentation files (the "Software"), to deal
 in the Software without restriction, including without limitation the rights
 to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the Software is
 furnished to do so, subject to the following conditions:
 
 The above copyright notice and this permission notice shall be included in
 all copies or substantial portions of the Software.
 
 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 THE SOFTWARE. 
 */
function handleChanges(e, t) {
    var n = hasher.getHashAsArray();
    if (n.length > 2) {
        hasher.replaceHash(n[0], n[1])
    }
    n = hasher.getHashAsArray();
    if (e == "") {
        hasher.replaceHash("home");
        n = hasher.getHashAsArray()
    }
    if (!app.buckets.isValidHash(n)) {
        hasher.replaceHash("home");
        n = hasher.getHashAsArray()
    }
    app.buckets.selectBucket(n)
}

function handleInitial(e, t) {
    hasher.changed.active = false;
    var n = hasher.getHashAsArray();
    if (n.length > 2) {
        hasher.replaceHash(n[0], n[1])
    }
    n = hasher.getHashAsArray();
    if (e == "" || !app.buckets.isValidHash(n)) {
        hasher.replaceHash("home");
        app.buckets.initialDeepLink = hasher.getHashAsArray()
    } else {
        app.buckets.initialDeepLink = n
    }
    hasher.changed.active = true
}

function clearText(e) {
    if (e.defaultValue == e.value) e.value = "";
    else if (e.value == "") e.value = e.defaultValue
}

function setCookie(e, t, n) {
    var r = new Date;
    r.setDate(r.getDate() + n);
    var i = escape(t) + (n == null ? "" : "; expires=" + r.toUTCString());
    document.cookie = e + "=" + i
}

function getCookie(e) {
    var t = document.cookie;
    var n = t.indexOf(" " + e + "=");
    if (n == -1) {
        n = t.indexOf(e + "=")
    }
    if (n == -1) {
        t = null
    } else {
        n = t.indexOf("=", n) + 1;
        var r = t.indexOf(";", n);
        if (r == -1) {
            r = t.length
        }
        t = unescape(t.substring(n, r))
    }
    return t
}(function (e) {
    e.projectBucket = function (t, n) {
        var r = {
            expandedRows: 3,
            expandedCols: 1,
            collapsedRows: 1,
            collapsedCols: 1
        };
        var i = this;
        i.settings = {};
        var s = e(t),
            t = t;
        var o = false;
        var u;
        var a;
        var f;
        var l = false;
        var c = "left";
        var h = 0,
            p = 0;
        var d = false;
        var v = false;
        var m = false;
        var g = false;
        var y = 512,
            w = 256;
        var E = 30;
        var S = 768;
        var x = 280;
        var T = S / x;
        var N = [];
        var C = [];
        var k;
        var L = null;
        var A = 0;
        var O = false;
        var M = false;
        var _ = true;
        i.init = function () {
            i.settings = e.extend({}, r, n);
            s.data("hasSlider", false)
        };
        i.setData = function (e, t, n) {
            u = e;
            a = t;
            f = n
        };
        i.setupLayout = function () {
            if (u.resize == "0") {
                _ = false
            }
            var t = s.find(".image");
            t.css({
                background: "url(" + u.imagePath + ") repeat center",
                backgroundPosition: "50%, 50%"
            });
            e("<span />")
                .addClass("arrow_left")
                .appendTo(t);
            var n = s.find(".description");
            if (!app.isMobile) {
                e("<span />")
                    .addClass("arrow_right")
                    .prependTo(n)
            }
            var r = s.find(".viewButton");
            e("<div />")
                .addClass("viewButtonOver")
                .prependTo(r);
            if (!_) {
                r.css({
                    display: "none"
                })
            }
            var i = s.find(".project_content");
            i.css({
                top: "256px"
            });
            if (!_) {
                var o = e("<div>")
                    .addClass("download_files")
                    .appendTo(n)
            } else {
                var o = e("<div>")
                    .addClass("download_files")
                    .appendTo(i)
            }
            if (a) {
                e.each(a, function (t, n) {
                    if (a[t].id_bucket === u.name) {
                        var r = e("<div>")
                            .addClass("download_file")
                            .appendTo(o);
                        r.text(a[t].name);
                        r.on({
                            click: function () {
                                window.open(a[t].path)
                            },
                            mouseenter: function () {
                                TweenMax.to(r, .4, {
                                    css: {
                                        backgroundColor: "#f8ecf1",
                                        color: "#a4248d"
                                    },
                                    overwrite: "auto"
                                })
                            },
                            mouseleave: function () {
                                TweenMax.to(r, .4, {
                                    css: {
                                        backgroundColor: "#a4248d",
                                        color: "#f8ecf1"
                                    },
                                    overwrite: "auto"
                                })
                            }
                        });
                        r.css({
                            position: "relative",
                            width: 101,
                            height: 26,
                            cursor: "pointer"
                        })
                    }
                })
            }
            if (f) {
                e.each(f, function (t, n) {
                    if (f[t].id_bucket === u.name) {
                        var r = e("<div>")
                            .addClass("download_file")
                            .appendTo(o);
                        r.text(f[t].title);
                        r.on({
                            click: function () {
                                if (f[t].type === "out_link") {
                                    window.open(f[t].value)
                                } else if (f[t].type === "in_link") {
                                    document.location.href = f[t].value
                                } else if (f[t].type === "form") {
                                    e("#lightbox")
                                        .data("lightBox")
                                        .showForm(f[t].value + ".html")
                                } else if (f[t].type === "youtube") {
                                    e("#lightbox")
                                        .data("lightBox")
                                        .playYoutubeVideo(f[t].value)
                                } else if (f[t].type === "vimeo") {
                                    e("#lightbox")
                                        .data("lightBox")
                                        .playVimeoVideo(f[t].value)
                                }
                            },
                            mouseenter: function () {
                                TweenMax.to(r, .4, {
                                    css: {
                                        backgroundColor: "#f8ecf1",
                                        color: "#a4248d"
                                    },
                                    overwrite: "auto"
                                })
                            },
                            mouseleave: function () {
                                TweenMax.to(r, .4, {
                                    css: {
                                        backgroundColor: "#a4248d",
                                        color: "#f8ecf1"
                                    },
                                    overwrite: "auto"
                                })
                            }
                        });
                        r.css({
                            position: "relative",
                            width: 101,
                            height: 26,
                            cursor: "pointer"
                        })
                    }
                })
            }
            i.find(".read_more")
                .each(function () {
                    var t = e(this);
                    t.on({
                        click: function () {
                            e("#lightbox")
                                .data("lightBox")
                                .loadReadMoreBox(u.readMore, u.id)
                        },
                        mouseenter: function () {
                            TweenMax.to(t, .4, {
                                css: {
                                    backgroundColor: "#f8ecf1",
                                    color: "#8A6BCA"
                                },
                                overwrite: "auto"
                            })
                        },
                        mouseleave: function () {
                            TweenMax.to(t, .4, {
                                css: {
                                    backgroundColor: "#8A6BCA",
                                    color: "#f8ecf1"
                                },
                                overwrite: "auto"
                            })
                        }
                    });
                    t.css({
                        position: "relative",
                        width: 101,
                        height: 26,
                        cursor: "pointer"
                    })
                });
            e("body")
                .bind("keyup", function (e) {
                    if (e.which == "27") {
                        signals.layout.closeBucketClicked.dispatch()
                    }
                });
            var l = e("<div>")
                .addClass("close_project")
                .appendTo(s);
            e("<div>")
                .addClass("close_project_over")
                .appendTo(l);
            var c = l.find(".close_project_over");
            l.on({
                click: function (e) {
                    e.preventDefault();
                    e.stopPropagation();
                    signals.layout.closeBucketClicked.dispatch()
                },
                mouseenter: function (e) {
                    e.preventDefault();
                    TweenMax.to(c, .4, {
                        css: {
                            autoAlpha: 1
                        },
                        overwrite: "auto"
                    })
                },
                mouseleave: function (e) {
                    e.preventDefault();
                    TweenMax.to(c, .4, {
                        css: {
                            autoAlpha: 0
                        },
                        overwrite: "auto"
                    })
                }
            });
            var h = w + E;
            i.css({
                top: h + "px",
                width: y - 2 * E
            });
            var p = e("<div>")
                .addClass("project_thumbnail_container")
                .appendTo(s);
            this.addMouseEvents();
            if (!_) {
                this.disableResizing()
            }
        };
        i.isExpanded = function () {
            return d
        };
        i.setupThumbnails = function (t) {
            if (app.isMobile) {
                signals.layout.changed.dispatch(true)
            }
            var n = s.find(".project_thumbnail_container");
            n.empty();
            var r = e("<div>")
                .html(t)
                .children();
            if (!app.isMobile) {
                var o = e("<div>")
                    .addClass("temp_thumbs")
                    .appendTo(n);
                var u = Math.min(4, r.length);
                r.each(function (t, n) {
                    var s = e(this)
                        .data("rstmb");
                    var a = e("<img />")
                        .attr({
                            src: s
                        })
                        .appendTo(o);
                    a.load(function () {
                        if (--u === 0) {
                            i.displayThumbnails(r)
                        }
                    })
                })
            } else {
                setTimeout(function () {
                    i.displayThumbnails(r)
                }, 600)
            }
        };
        i.displayThumbnails = function (t) {
            var n = 4;
            var r = -1;
            var o = s.find(".project_thumbnail_container");
            o.empty();
            if (!d) {
                return
            }
            var u = e("<div>")
                .addClass("thumbnail_slider")
                .addClass("royalSlider")
                .addClass("rsDefaultInv")
                .appendTo(o);
            var a;
            N.length = 0;
            t.each(function (t, s) {
                if (t % n == 0) {
                    a = e("<div>")
                        .appendTo(u);
                    r++
                }
                var o = e(this)
                    .data("rstmb");
                var f = e("<div>")
                    .addClass("project_thumbnail");
                f.css({
                    width: 90,
                    height: 90
                });
                f.css("backgroundImage", "url(" + o + ")");
                var l = e("<div>")
                    .appendTo(a);
                l.css({
                    display: "inline-block",
                    position: "relative"
                });
                f.appendTo(l);
                var c = e("<div>")
                    .addClass("project_thumbnail_overlay")
                    .appendTo(f);
                f.data({
                    thumb_id: t
                });
                N.push(f);
                f.on({
                    click: function (t) {
                        if (u.data("royalSlider")
                            .dragSuccess == true) {
                            return false
                        }
                        t.preventDefault();
                        i.displayImageGallery(e(this)
                            .data("thumb_id"))
                    },
                    mouseenter: function (e) {
                        e.preventDefault();
                        TweenMax.to(c, .4, {
                            css: {
                                autoAlpha: .35
                            }
                        })
                    },
                    mouseleave: function (e) {
                        e.preventDefault();
                        TweenMax.to(c, .4, {
                            css: {
                                autoAlpha: 0
                            }
                        })
                    }
                })
            });
            e(".thumbnail_slider")
                .royalSlider({
                    arrowsNav: false,
                    navigation: "bullets",
                    autoScaleSlider: false,
                    autoScaleSliderWidth: 960,
                    autoScaleSliderHeight: 191,
                    navigateByClick: false,
                    addActiveClass: true
                });
            s.data("hasSlider", true);
            g = true;
            this.resizeThumbnails()
        };
        i.addMouseEvents = function () {
            s.css({
                cursor: "pointer"
            });
            s.on({
                click: function (e) {
                    if (_) {
                        e.preventDefault();
                        if (!o || d) {
                            return
                        }
                        e.stopPropagation();
                        hasher.setHash(s.data()
                            .id)
                    } else {}
                },
                mouseenter: function (e) {
                    e.preventDefault();
                    if (app.isMobile) {
                        return
                    }
                    if (!o) {
                        return
                    }
                    TweenMax.to(s, .4, {
                        css: {
                            backgroundColor: "#8a6bca"
                        },
                        overwrite: "auto"
                    });
                    var t = s.find(".description");
                    TweenMax.to(t, .4, {
                        css: {
                            backgroundColor: "#8a6bca"
                        },
                        overwrite: "auto"
                    });
                    var e = s.find(".description h1");
                    TweenMax.to(e, .4, {
                        css: {
                            color: "#ffffff"
                        },
                        overwrite: "auto"
                    });
                    var n = s.find(".description p");
                    TweenMax.to(n, .4, {
                        css: {
                            color: "#ffffff"
                        },
                        overwrite: "auto"
                    });
                    var r = s.find(".viewButtonOver");
                    TweenMax.to(r, .4, {
                        css: {
                            autoAlpha: 1
                        },
                        overwrite: "auto"
                    });
                    var i = s.find(".arrow_left");
                    TweenMax.to(i, .4, {
                        css: {
                            backgroundColor: "#8a6bca",
                            backgroundImage: "url('Public/Images/arrow-left-active.png')"
                        },
                        overwrite: "auto"
                    });
                    var u = s.find(".arrow_right");
                    TweenMax.to(u, .4, {
                        css: {
                            backgroundColor: "#8a6bca",
                            backgroundImage: "url('Public/Images/arrow-right-active.png')"
                        },
                        overwrite: "auto"
                    });
                    var a = s.find(".image");
                    a.animate({
                            backgroundPosition: "49%"
                        }, "300")
                        .animate({
                            backgroundPosition: "51%"
                        }, "300")
                        .animate({
                            backgroundPosition: "50%"
                        }, "300");
                    if (c == "left") {} else {}
                },
                mouseleave: function (e) {
                    e.preventDefault();
                    if (app.isMobile) {
                        return
                    }
                    if (!o) {
                        return
                    }
                    TweenMax.to(s, .4, {
                        css: {
                            backgroundColor: "#ffffff"
                        },
                        overwrite: "auto"
                    });
                    var t = s.find(".description");
                    TweenMax.to(t, .4, {
                        css: {
                            backgroundColor: "#ffffff"
                        },
                        overwrite: "auto"
                    });
                    var e = s.find(".description h1");
                    TweenMax.to(e, .4, {
                        css: {
                            color: "#3B353A"
                        },
                        overwrite: "auto"
                    });
                    var n = s.find(".description p");
                    TweenMax.to(n, .4, {
                        css: {
                            color: "#84717A"
                        },
                        overwrite: "auto"
                    });
                    var r = s.find(".viewButtonOver");
                    TweenMax.to(r, .4, {
                        css: {
                            autoAlpha: 0
                        },
                        overwrite: "auto"
                    });
                    var i = s.find(".arrow_left");
                    TweenMax.to(i, .4, {
                        css: {
                            backgroundColor: "#ffffff",
                            backgroundImage: "url('Public/Images/arrow-left.png')"
                        },
                        overwrite: "auto"
                    });
                    var u = s.find(".arrow_right");
                    TweenMax.to(u, .4, {
                        css: {
                            backgroundColor: "#ffffff",
                            backgroundImage: "url('Public/Images/arrow-right.png')"
                        },
                        overwrite: "auto"
                    });
                    var n = s.find(".image");
                    TweenMax.to(n, .6, {
                        css: {
                            backgroundPosition: "50%, 50%"
                        },
                        overwrite: "all",
                        ease: Strong.easeOut
                    });
                    var a = s.find(".image")
                }
            })
        };
        i.disableResizing = function () {
            s.css({
                cursor: "default"
            })
        };
        i.removeMouseEvents = function () {
            s.css({
                cursor: "default"
            });
            s.off("click", "mouseenter", "mouseleave")
        };
        i.enableMouseEvents = function (e) {
            if (e && d) {
                return
            }
            o = e;
            o ? s.css({
                pointer: "pointer"
            }) : s.css({
                pointer: "hourglass"
            })
        };
        i.selectBucket = function (e) {
            d = true;
            v = true;
            m = false;
            g = false;
            if (!app.isMobile) {
                TweenMax.to(s, .4, {
                    css: {
                        backgroundColor: "#ffffff"
                    },
                    overwrite: "auto"
                });
                var t = s.find(".description");
                TweenMax.to(t, .4, {
                    css: {
                        backgroundColor: "#ffffff"
                    },
                    overwrite: "auto"
                });
                var e = s.find(".description h1");
                TweenMax.to(e, .4, {
                    css: {
                        color: "#3B353A"
                    },
                    overwrite: "auto"
                });
                var n = s.find(".description p");
                TweenMax.to(n, .4, {
                    css: {
                        color: "#84717A"
                    },
                    overwrite: "auto"
                });
                var r = s.find(".viewButtonOver");
                TweenMax.to(r, .4, {
                    css: {
                        autoAlpha: 0
                    },
                    overwrite: "auto"
                });
                var i = s.find(".arrow_left");
                TweenMax.to(i, .4, {
                    css: {
                        backgroundColor: "#ffffff",
                        backgroundImage: "url('Public/Images/arrow-left.png')"
                    },
                    overwrite: "auto"
                });
                var o = s.find(".arrow_right");
                TweenMax.to(o, .4, {
                    css: {
                        backgroundColor: "#ffffff",
                        backgroundImage: "url('Public/Images/arrow-right.png')"
                    },
                    overwrite: "auto"
                });
                var n = s.find(".image");
                TweenMax.to(n, .6, {
                    css: {
                        backgroundPosition: "50%, 50%"
                    },
                    overwrite: "all",
                    ease: Strong.easeOut
                })
            }
            this.enableMouseEvents(false);
            O = e;
            if (!app.isMobile) {
                signals.layout.changed.dispatch(true)
            } else {
                if (app.isMobile) {
                    signals.layout.changed.dispatch(true)
                }
            }
        };
        i.doThumbnailAjaxCall = function () {
            if (s.data("hasSlider", true)) {
                this.removeSlider()
            }
            if (u.galleryPath != "undefined") {
                e.ajax({
                    url: u.galleryPath,
                    dataType: "html",
                    context: i,
                    success: function (e) {
                        if (this.isExpanded()) {
                            this.setupThumbnails(e)
                        } else {
                            signals.layout.changed.dispatch(true)
                        }
                    },
                    error: function () {}
                })
            }
            setTimeout(function () {
                A += 53;
                e.scrollTo(A, 600, {
                    axis: "y"
                })
            }, 100)
        };
        i.closeBucket = function () {
            var e = s.find(".project_content");
            if (e.length > 0) {
                d = false;
                v = false;
                m = true;
                g = false;
                TweenMax.to(e, .6, {
                    css: {
                        autoAlpha: 0
                    }
                });
                var t = s.find(".close_project");
                TweenMax.killTweensOf(t);
                TweenMax.to(t, .5, {
                    css: {
                        right: -t.width() - 10
                    },
                    ease: Quad.easeInOut,
                    onComplete: this.enableMouseEvents,
                    onCompleteParams: [true],
                    onCompleteScope: this
                });
                this.addMouseEvents();
                var n = s.find(".rsBullets");
                var r = s.find(".thumbnail_slider");
                if (r.length > 0 && n.length > 0) {
                    TweenMax.to(n, .25, {
                        css: {
                            opacity: 0
                        },
                        ease: Quad.easeIn
                    });
                    var i = N.length;
                    if (i > 4) {
                        i = 4
                    }
                    for (var o = 0; o < i; o++) {
                        var u = o / i;
                        if (o == i - 1) {
                            TweenMax.to(N[o], .5, {
                                css: {
                                    top: s.height() + 5
                                },
                                ease: Quad.easeIn,
                                delay: u * .2,
                                onComplete: this.removeSlider,
                                onCompleteScope: this
                            })
                        } else {
                            TweenMax.to(N[o], .5, {
                                css: {
                                    top: s.height() + 5
                                },
                                ease: Quad.easeIn,
                                delay: u * .2
                            })
                        }
                    }
                } else {
                    signals.layout.changed.dispatch(true)
                }
            }
        };
        i.removeSlider = function () {
            var e = s.find(".thumbnail_slider");
            if (e.length === 0) {
                s.data("hasSlider", false);
                return
            }
            if (s.data("hasSlider") === true) {
                e.data("royalSlider")
                    .destroy();
                s.data("hasSlider", false)
            }
            e.remove();
            signals.layout.changed.dispatch(true)
        };
        i.playVideoHeader = function () {
            signals.layout.videoLoaded.dispatch();
            var e = 768;
            var t = 214;
            var n = Math.min(s.find(".image")
                .height(), x);
            var r = u.videoHeaderPath;
            var i = s.find(".videoContainer");
            i.css({
                width: e,
                height: n,
                top: 0
            });
            var o = '<video preload="auto" autoplay="autoplay" loop="loop" width="' + e + '" height="' + t + '"><source type="video/mp4" src="' +
                r + '.mp4" /><source type="video/webm" src="' + r + '.webm" /></video>';
            i.html(o);
            var a = s.find(".videoContainer video")
                .get(0);
            a.load();
            a.addEventListener("canplaythrough", function (e) {
                return e.onVideoLoaded()
            }(this), false)
        };
        i.onVideoLoaded = function () {
            var e = s.find(".videoContainer video")
                .get(0);
            var t = s.find(".videoContainer");
            e.removeEventListener("canplaythrough", this.onVideoLoaded);
            t.css("visibility", "hidden");
            if (!TweenMax.isTweening(t)) {
                TweenMax.to(t, .6, {
                    css: {
                        autoAlpha: 1
                    },
                    delay: .8
                });
                e.play()
            }
        };
        i.removeVideoHeader = function () {
            clearTimeout(L);
            var e = s.find(".videoContainer");
            var t = s.find(".videoContainer video");
            if (t.length > 0 && e.length > 0) {
                t.get(0)
                    .pause();
                TweenMax.killTweensOf(e);
                TweenMax.to(e, .2, {
                    css: {
                        autoAlpha: 0
                    },
                    onComplete: function () {
                        t.get(0)
                            .src = "";
                        t.get(0)
                            .load();
                        e.empty()
                    }
                })
            }
        };
        i.pauseVideoHeader = function () {
            var e = s.find(".videoContainer video");
            if (e.length > 0) {
                e.get(0)
                    .pause()
            }
        };
        i.resumeVideoHeader = function () {
            var e = s.find(".videoContainer video");
            e.get(0)
                .play()
        };
        i.getColSpan = function () {
            return d ? this.settings.expandedCols : this.settings.collapsedCols
        };
        i.getRowSpan = function () {
            return d ? this.settings.expandedRows : this.settings.collapsedRows
        };
        i.isExpanded = function () {
            return d
        };
        i.setColAndRow = function (e, t) {
            if (app.isMobile) {
                c = "left";
                return
            }
            h = e;
            p = t;
            if (p % 2 == 0) {
                c = "left"
            } else {
                c = "right"
            }
        };
        i.updateArrow = function () {
            var e = s.find(".arrow_left");
            var t = s.find(".arrow_right");
            if (p % 2 == 0) {
                t.hide();
                e.show()
            } else {
                e.hide();
                t.show()
            }
        };
        i.resizeBucket = function (e, t) {
            if (d) {
                return
            }
            var n = s.find(".image");
            var r = s.find(".description");
            var i = s.find(".arrow_left");
            var o = s.find(".viewButton");
            if (!app.isMobile) {
                i.css({
                    left: 0,
                    right: "auto"
                });
                TweenMax.killTweensOf(n);
                TweenMax.killTweensOf(r);
                TweenMax.killTweensOf(i)
            }
            var u = parseInt(e / 2);
            if (c == "left") {
                n.css({
                    left: "auto"
                });
                r.css({
                    right: "auto"
                });
                if (app.isMobile) {
                    o.css({
                        right: "auto",
                        left: 20,
                        top: t - o.height() - 20
                    });
                    n.css({
                        left: "right",
                        top: 0,
                        width: u,
                        height: t - 64
                    });
                    r.transition({
                        opacity: 1
                    }, 200)
                } else {
                    TweenMax.to(o, .4, {
                        css: {
                            right: "auto",
                            left: 20,
                            top: t - o.height() - 20
                        },
                        overwrite: "none"
                    });
                    var a = Math.min(t, x);
                    TweenMax.to(n, .4, {
                        css: {
                            right: 0,
                            top: 0,
                            width: u,
                            height: a
                        },
                        onComplete: function () {
                            s.find(".info")
                                .ellipsis({
                                    live: false
                                })
                        },
                        onCompleteScope: this
                    });
                    TweenMax.to(r, .4, {
                        css: {
                            left: 0,
                            top: 0,
                            width: u,
                            height: t
                        }
                    })
                }
            } else {
                if (c == "right") {
                    n.css({
                        right: "auto"
                    });
                    r.css({
                        left: "auto"
                    });
                    if (app.isMobile) {
                        o.css({
                            left: "auto",
                            right: e / 2 - o.width() - 20,
                            top: t - o.height() - 20
                        });
                        n.css({
                            left: 0,
                            top: 0,
                            width: u,
                            height: t
                        });
                        r.css({
                            right: 0,
                            top: 0,
                            width: u,
                            height: t
                        })
                    } else {
                        TweenMax.to(o, .4, {
                            css: {
                                left: "auto",
                                right: e / 2 - o.width() - 20,
                                top: t - o.height() - 20
                            },
                            overwrite: "none"
                        });
                        var a = Math.min(t, x);
                        TweenMax.to(n, .4, {
                            css: {
                                left: 0,
                                top: 0,
                                width: u,
                                height: a
                            },
                            onComplete: function () {
                                s.find(".info")
                                    .ellipsis({
                                        live: false
                                    })
                            },
                            onCompleteScope: this
                        });
                        TweenMax.to(r, .4, {
                            css: {
                                right: 0,
                                top: 0,
                                width: u,
                                height: t
                            }
                        })
                    }
                }
            }
            if (!app.isMobile) {
                n.css({
                    backgroundSize: parseInt(t * T) + "px " + t + "px"
                });
                this.updateArrow()
            }
        };
        i.updatePositionAndSize = function (e, t, n, r, o, u) {
            if (M) {
                return
            }
            y = n;
            w = r;
            var a = s.find(".image");
            var f = s.find(".description");
            var l = s.find(".viewButton");
            var h = s.find(".arrow_left");
            var p = s.find(".arrow_right");
            var g = s.find(".project_content");
            if (app.isMobile) {
                g.css({
                    width: n - 60
                })
            }
            if (d) {
                w = this.settings.expandedRows * r + app.config.buckets.BORDER_SPACING * (this.settings.expandedRows - 1);
                var b = s.find(".close_project");
                if (v) {
                    this.removeMouseEvents();
                    TweenMax.killTweensOf(g);
                    g.css({
                        opacity: 1,
                        visibility: "visible"
                    });
                    o += .4;
                    if (c == "left") {
                        if (app.isMobile) {
                            f.css({
                                opacity: 0
                            });
                            a.css({
                                left: "auto",
                                right: 0,
                                top: 0,
                                width: r * T,
                                height: 200
                            });
                            l.css({
                                left: -l.width() - 40,
                                right: "auto"
                            });
                            setTimeout(function () {
                                i.doThumbnailAjaxCall()
                            }, 600);
                            signals.layout.bucketExpanded.dispatch()
                        } else {
                            TweenMax.to(f, .4, {
                                css: {
                                    top: 0,
                                    right: "auto",
                                    left: -y
                                },
                                overwrite: "auto",
                                ease: Quad.easeInOut,
                                delay: o,
                                onComplete: function () {
                                    signals.layout.bucketExpanded.dispatch();
                                    i.resizeThumbnails();
                                    i.doThumbnailAjaxCall()
                                },
                                onCompleteScope: this
                            });
                            var S = Math.min(r, x);
                            TweenMax.to(a, .4, {
                                css: {
                                    left: "auto",
                                    right: 0,
                                    top: 0,
                                    width: S * T,
                                    height: S
                                },
                                overwrite: "auto",
                                ease: Quad.easeInOut,
                                delay: o
                            });
                            TweenMax.to(h, .4, {
                                css: {
                                    left: -20,
                                    right: "auto"
                                },
                                overwrite: "auto",
                                ease: Quad.easeInOut,
                                delay: o
                            });
                            TweenMax.to(l, .4, {
                                css: {
                                    left: -l.width() - 40,
                                    right: "auto"
                                },
                                overwrite: "auto",
                                ease: Quad.easeInOut,
                                delay: o
                            })
                        }
                    } else {
                        if (c == "right") {
                            if (app.isMobile) {
                                console.log("in the right expanding function");
                                f.css({
                                    top: 0,
                                    left: "auto",
                                    right: -y - 20
                                });
                                a.css({
                                    right: "auto",
                                    left: 0,
                                    top: 0,
                                    width: r * T,
                                    height: 120
                                });
                                l.css({
                                    left: "auto",
                                    right: -l.width() - 40
                                });
                                signals.layout.bucketExpanded.dispatch();
                                i.resizeThumbnails()
                            } else {
                                TweenMax.to(f, .4, {
                                    css: {
                                        top: 0,
                                        left: "auto",
                                        right: -y - 20
                                    },
                                    overwrite: "auto",
                                    ease: Quad.easeInOut,
                                    delay: o,
                                    onComplete: function () {
                                        signals.layout.bucketExpanded.dispatch();
                                        i.resizeThumbnails();
                                        i.doThumbnailAjaxCall()
                                    },
                                    onCompleteScope: this
                                });
                                var S = Math.min(r, x);
                                TweenMax.to(a, .4, {
                                    css: {
                                        right: "auto",
                                        left: 0,
                                        top: 0,
                                        width: S * T,
                                        height: S
                                    },
                                    overwrite: "auto",
                                    ease: Quad.easeInOut,
                                    delay: o
                                });
                                TweenMax.to(l, .4, {
                                    css: {
                                        left: "auto",
                                        right: -l.width() - 40
                                    },
                                    overwrite: "auto",
                                    ease: Quad.easeInOut,
                                    delay: o
                                })
                            }
                        }
                    }
                    TweenMax.to(b, .4, {
                        css: {
                            right: 10
                        },
                        ease: Quad.easeInOut,
                        delay: o + .1
                    });
                    v = false;
                    TweenMax.to(s, .4, {
                        css: {
                            backgroundColor: "#ffffff"
                        },
                        overwrite: "auto"
                    });
                    for (var C = 0; C < N.length; C++) {
                        var k = C / N.length;
                        TweenMax.from(N[C], .4, {
                            css: {
                                top: g.height()
                            },
                            ease: Quad.easeOut,
                            delay: k * .3 + .6
                        })
                    }
                } else {
                    this.resizeThumbnails()
                }
                if (app.isMobile) {
                    r = 200;
                    S = 200;
                    a.css({
                        height: r
                    });
                    if (d) {
                        f.css({
                            opacity: 0
                        })
                    } else {
                        f.css({
                            opacity: 1
                        })
                    }
                } else {
                    var S = Math.min(r, x);
                    a.css({
                        height: S
                    });
                    var L = s.find(".videoContainer");
                    if (L.length != 0) {
                        L.css({
                            height: S
                        })
                    }
                    var O = S + E;
                    if (g.length != 0) {
                        g.css({
                            top: O + "px",
                            width: y - 60
                        })
                    }
                }
                if (app.buckets.numCols() == 1) {
                    a.css({
                        backgroundSize: "768px 280px"
                    })
                }
                this.resizeThumbnails()
            } else {
                this.resizeBucket(y, w)
            }
            A = t;
            if (app.isMobile) {
                if (d) {
                    var _ = s.find(".project_thumbnail_container");
                    var D = 10;
                    var P = parseInt(g.width() / 4 - D + D / 4) + 25;
                    _.css({
                        height: P
                    });
                    w = parseInt(g.position()
                        .top) + g.height() + _.height() + E + 15
                }
                s.css({
                    top: t,
                    height: w
                });
                s.css({
                    width: y
                })
            } else {
                var H = .6;
                if (m) {
                    o = .1;
                    H = .6;
                    m = false;
                    TweenMax.to(s, H, {
                        css: {
                            left: e,
                            top: t,
                            width: y,
                            height: w
                        },
                        overwrite: "auto",
                        ease: Strong.easeIn,
                        delay: o
                    })
                } else {
                    o += .2;
                    TweenMax.to(s, H, {
                        css: {
                            left: e,
                            top: t,
                            width: y,
                            height: w
                        },
                        overwrite: "auto",
                        ease: Strong.easeOut,
                        delay: o
                    })
                }
            }
        };
        i.initialSizeAndPosition = function (e, t, n, r) {
            y = n;
            w = r;
            this.resizeBucket(n, r);
            var i = s.find(".project_content");
            if (app.isMobile) {
                i.css({
                    top: 200 + E + "px",
                    width: n - 60
                });
                s.css({
                    left: e,
                    top: t,
                    width: n,
                    height: r
                })
            } else {
                i.css({
                    top: w + "px"
                });
                s.css({
                    left: e,
                    top: t + window.innerHeight,
                    width: n,
                    height: r
                })
            }
        };
        i.initialBuildAnim = function (e, t, n) {
            if (app.isIpad) {
                if (n) {
                    s.transition({
                        top: e,
                        delay: t * 1e3
                    }, 600, function () {
                        signals.layout.buildCompleted.dispatch()
                    })
                } else {
                    s.transition({
                        top: e,
                        delay: t * 1e3
                    }, 600)
                }
            } else {
                if (app.isMobile) {
                    s.css({
                        top: e
                    })
                } else {
                    if (n) {
                        TweenMax.to(s, .6, {
                            css: {
                                top: e
                            },
                            overwrite: "auto",
                            ease: Strong.easeOut,
                            delay: t,
                            onComplete: function () {
                                signals.layout.buildCompleted.dispatch()
                            }
                        })
                    } else {
                        TweenMax.to(s, .6, {
                            css: {
                                top: e
                            },
                            overwrite: "auto",
                            ease: Strong.easeOut,
                            delay: t
                        })
                    }
                }
            }
        };
        i.resizeThumbnails = function () {
            if (!g) {
                return
            }
            var t = s.find(".project_content");
            var n = s.find(".project_thumbnail_container");
            var r = e(".thumbnail_slider");
            if (!t.length || !n.length || !r.length) {
                return
            }
            var i = t.width();
            var o = 10;
            var u = parseInt(i / 4 - o + o / 4);
            n.css({
                width: t.width(),
                height: u + 30
            });
            if (!app.isMobile) {
                var a = parseInt(t.position()
                    .top) + t.height();
                var f = (w - a) / 2;
                var l = a + f - n.height() / 2;
                n.css({
                    botton: "40px"
                })
            }
            var c = -1;
            for (var h = 0; h < N.length; h++) {
                if (h % 4 == 0) {
                    c++
                }
                var p = N[h];
                p.css({
                    left: (h - c * 4) * (u + o),
                    width: u + "px",
                    height: u + "px"
                })
            }
            if (s.data("hasSlider") === true) {
                r.data("royalSlider")
                    .updateSliderSize()
            }
        };
        i.displayImageGallery = function (t) {
            if (!app.isAndroid && !app.isIOS) {
                this.pauseVideoHeader()
            }
            e("#gallery")
                .data("imageGallery")
                .loadGallery(u.galleryPath, t)
        };
        i.getHeight = function () {
            return w
        };
        i.getWidth = function () {
            return y
        };
        i.hasSubsections = false;
        i.hasBaseSection = true;
        var D = function () {};
        i.init()
    };
    e.fn.projectBucket = function (t) {
        return this.each(function () {
            if (undefined == e(this)
                .data("projectBucket")) {
                var n = new e.projectBucket(this, t);
                e(this)
                    .data("bucket", n)
            }
        })
    }
})(jQuery);
(function (e) {
    e.projectLargeBucket = function (t, n) {
        var r = {
            expandedRows: 3,
            expandedCols: 1,
            collapsedRows: 2,
            collapsedCols: 1
        };
        var i = this;
        i.settings = {};
        var s = e(t),
            t = t;
        var o = false;
        var u;
        var a;
        var f;
        var l = false;
        var c = "left";
        var h = 0,
            p = 0;
        var d = false;
        var v = false;
        var m = false;
        var g = false;
        var y = 512,
            w = 256;
        var E = 30;
        var S = 768;
        var x = 280;
        var T = S / x;
        var N = [];
        var C = [];
        var k;
        var L = null;
        var A = 0;
        var O = false;
        var M = false;
        var _ = true;
        i.init = function () {
            i.settings = e.extend({}, r, n);
            s.data("hasSlider", false)
        };
        i.setData = function (e, t, n) {
            u = e;
            a = t;
            f = n
        };
        i.setupLayout = function () {
            if (u.resize == "0") {
                _ = false
            }
            var t = s.find(".image");
            t.css({
                background: "url(" + u.imagePath + ") repeat center",
                backgroundPosition: "50%, 50%"
            });
            var n = s.find(".description");
            if (!app.isMobile) {
                e("<span />")
                    .addClass("arrow_right")
                    .prependTo(n)
            }
            var r = s.find(".viewButton");
            e("<div />")
                .addClass("viewButtonOver")
                .prependTo(r);
            if (!_) {
                r.css({
                    display: "none"
                })
            }
            var i = s.find(".project_content");
            i.css({
                top: "256px"
            });
            if (!_) {
                var o = e("<div>")
                    .addClass("download_files")
                    .appendTo(n)
            } else {
                var o = e("<div>")
                    .addClass("download_files")
                    .appendTo(i)
            }
            if (a) {
                e.each(a, function (t, n) {
                    if (a[t].id_bucket === u.name) {
                        var r = e("<div>")
                            .addClass("download_file")
                            .appendTo(o);
                        r.text(a[t].name);
                        r.on({
                            click: function () {
                                window.open(a[t].path)
                            },
                            mouseenter: function () {
                                TweenMax.to(r, .4, {
                                    css: {
                                        backgroundColor: "#f8ecf1",
                                        color: "#a4248d"
                                    },
                                    overwrite: "auto"
                                })
                            },
                            mouseleave: function () {
                                TweenMax.to(r, .4, {
                                    css: {
                                        backgroundColor: "#a4248d",
                                        color: "#f8ecf1"
                                    },
                                    overwrite: "auto"
                                })
                            }
                        });
                        r.css({
                            position: "relative",
                            width: 101,
                            height: 26,
                            cursor: "pointer"
                        })
                    }
                })
            }
            if (f) {
                e.each(f, function (t, n) {
                    if (f[t].id_bucket === u.name) {
                        var r = e("<div>")
                            .addClass("download_file")
                            .appendTo(o);
                        r.text(f[t].title);
                        r.on({
                            click: function () {
                                if (f[t].type === "out_link") {
                                    window.open(f[t].value)
                                } else if (f[t].type === "in_link") {
                                    document.location.href = f[t].value
                                } else if (f[t].type === "form") {
                                    e("#lightbox")
                                        .data("lightBox")
                                        .showForm(f[t].value + ".html")
                                } else if (f[t].type === "youtube") {
                                    e("#lightbox")
                                        .data("lightBox")
                                        .playYoutubeVideo(f[t].value)
                                } else if (f[t].type === "vimeo") {
                                    e("#lightbox")
                                        .data("lightBox")
                                        .playVimeoVideo(f[t].value)
                                }
                            },
                            mouseenter: function () {
                                TweenMax.to(r, .4, {
                                    css: {
                                        backgroundColor: "#f8ecf1",
                                        color: "#a4248d"
                                    },
                                    overwrite: "auto"
                                })
                            },
                            mouseleave: function () {
                                TweenMax.to(r, .4, {
                                    css: {
                                        backgroundColor: "#a4248d",
                                        color: "#f8ecf1"
                                    },
                                    overwrite: "auto"
                                })
                            }
                        });
                        r.css({
                            position: "relative",
                            width: 101,
                            height: 26,
                            cursor: "pointer"
                        })
                    }
                })
            }
            i.find(".read_more")
                .each(function () {
                    var t = e(this);
                    t.on({
                        click: function () {
                            e("#lightbox")
                                .data("lightBox")
                                .loadReadMoreBox(u.readMore, u.id)
                        },
                        mouseenter: function () {
                            TweenMax.to(t, .4, {
                                css: {
                                    backgroundColor: "#f8ecf1",
                                    color: "#8A6BCA"
                                },
                                overwrite: "auto"
                            })
                        },
                        mouseleave: function () {
                            TweenMax.to(t, .4, {
                                css: {
                                    backgroundColor: "#8A6BCA",
                                    color: "#f8ecf1"
                                },
                                overwrite: "auto"
                            })
                        }
                    });
                    t.css({
                        position: "relative",
                        width: 101,
                        height: 26,
                        cursor: "pointer"
                    })
                });
            var l = e("<div>")
                .addClass("close_project")
                .appendTo(s);
            e("<div>")
                .addClass("close_project_over")
                .appendTo(l);
            var c = l.find(".close_project_over");
            l.on({
                click: function (e) {
                    e.preventDefault();
                    e.stopPropagation();
                    signals.layout.closeBucketClicked.dispatch()
                },
                mouseenter: function (e) {
                    e.preventDefault();
                    TweenMax.to(c, .4, {
                        css: {
                            autoAlpha: 1
                        },
                        overwrite: "auto"
                    })
                },
                mouseleave: function (e) {
                    e.preventDefault();
                    TweenMax.to(c, .4, {
                        css: {
                            autoAlpha: 0
                        },
                        overwrite: "auto"
                    })
                }
            });
            var h = w + E;
            i.css({
                top: h + "px",
                width: y - 2 * E
            });
            var p = e("<div>")
                .addClass("project_thumbnail_container")
                .appendTo(s);
            this.addMouseEvents();
            if (!_) {
                this.disableResizing()
            }
        };
        i.isExpanded = function () {
            return d
        };
        i.setupThumbnails = function (t) {
            if (app.isMobile) {
                signals.layout.changed.dispatch(true)
            }
            var n = s.find(".project_thumbnail_container");
            n.empty();
            var r = e("<div>")
                .html(t)
                .children();
            if (!app.isMobile) {
                var o = e("<div>")
                    .addClass("temp_thumbs")
                    .appendTo(n);
                var u = Math.min(4, r.length);
                r.each(function (t, n) {
                    var s = e(this)
                        .data("rstmb");
                    var a = e("<img />")
                        .attr({
                            src: s
                        })
                        .appendTo(o);
                    a.load(function () {
                        if (--u === 0) {
                            i.displayThumbnails(r)
                        }
                    })
                })
            } else {
                setTimeout(function () {
                    i.displayThumbnails(r)
                }, 600)
            }
            if (app.isDesktop) {}
        };
        i.displayThumbnails = function (t) {
            var n = 4;
            var r = -1;
            var o = s.find(".project_thumbnail_container");
            o.empty();
            if (!d) {
                return
            }
            var u = e("<div>")
                .addClass("thumbnail_slider")
                .addClass("royalSlider")
                .addClass("rsDefaultInv")
                .appendTo(o);
            var a;
            N.length = 0;
            t.each(function (t, s) {
                if (t % n == 0) {
                    a = e("<div>")
                        .appendTo(u);
                    r++
                }
                var o = e(this)
                    .data("rstmb");
                var f = e("<div>")
                    .addClass("project_thumbnail");
                f.css({
                    width: 90,
                    height: 90
                });
                f.css("backgroundImage", "url(" + o + ")");
                var l = e("<div>")
                    .appendTo(a);
                l.css({
                    display: "inline-block",
                    position: "relative"
                });
                f.appendTo(l);
                var c = e("<div>")
                    .addClass("project_thumbnail_overlay")
                    .appendTo(f);
                f.data({
                    thumb_id: t
                });
                N.push(f);
                f.on({
                    click: function (t) {
                        if (u.data("royalSlider")
                            .dragSuccess == true) {
                            return false
                        }
                        t.preventDefault();
                        i.displayImageGallery(e(this)
                            .data("thumb_id"))
                    },
                    mouseenter: function (e) {
                        e.preventDefault();
                        TweenMax.to(c, .4, {
                            css: {
                                autoAlpha: .35
                            }
                        })
                    },
                    mouseleave: function (e) {
                        e.preventDefault();
                        TweenMax.to(c, .4, {
                            css: {
                                autoAlpha: 0
                            }
                        })
                    }
                })
            });
            e(".thumbnail_slider")
                .royalSlider({
                    arrowsNav: false,
                    navigation: "bullets",
                    autoScaleSlider: false,
                    autoScaleSliderWidth: 960,
                    autoScaleSliderHeight: 191,
                    navigateByClick: false,
                    addActiveClass: true
                });
            s.data("hasSlider", true);
            g = true;
            this.resizeThumbnails()
        };
        i.disableResizing = function () {
            s.css({
                cursor: "default"
            });
            s.off("click")
        };
        i.addMouseEvents = function () {
            s.css({
                cursor: "pointer"
            });
            s.on({
                click: function (e) {
                    e.preventDefault();
                    if (!o || d) {
                        return
                    }
                    e.stopPropagation();
                    hasher.setHash(s.data()
                        .id);
                    if (!app.isAndroid && !app.isIOS) {}
                },
                mouseenter: function (e) {
                    e.preventDefault();
                    if (app.isMobile) {
                        return
                    }
                    if (!o) {
                        return
                    }
                    TweenMax.to(s, .4, {
                        css: {
                            backgroundColor: "#8a6bca"
                        },
                        overwrite: "auto"
                    });
                    var t = s.find(".description");
                    TweenMax.to(t, .4, {
                        css: {
                            backgroundColor: "#8a6bca"
                        },
                        overwrite: "auto"
                    });
                    var e = s.find(".description h1");
                    TweenMax.to(e, .4, {
                        css: {
                            color: "#ffffff"
                        },
                        overwrite: "auto"
                    });
                    var n = s.find(".description p");
                    TweenMax.to(n, .4, {
                        css: {
                            color: "#ffffff"
                        },
                        overwrite: "auto"
                    });
                    var r = s.find(".viewButtonOver");
                    TweenMax.to(r, .4, {
                        css: {
                            autoAlpha: 1
                        },
                        overwrite: "auto"
                    });
                    var i = s.find(".image");
                    if (c == "left") {} else {}
                },
                mouseleave: function (e) {
                    e.preventDefault();
                    if (app.isMobile) {
                        return
                    }
                    if (!o) {
                        return
                    }
                    TweenMax.to(s, .4, {
                        css: {
                            backgroundColor: "#ffffff"
                        },
                        overwrite: "auto"
                    });
                    var t = s.find(".description");
                    TweenMax.to(t, .4, {
                        css: {
                            backgroundColor: "#ffffff"
                        },
                        overwrite: "auto"
                    });
                    var e = s.find(".description h1");
                    TweenMax.to(e, .4, {
                        css: {
                            color: "#3B353A"
                        },
                        overwrite: "auto"
                    });
                    var n = s.find(".description p");
                    TweenMax.to(n, .4, {
                        css: {
                            color: "#84717A"
                        },
                        overwrite: "auto"
                    });
                    var r = s.find(".viewButtonOver");
                    TweenMax.to(r, .4, {
                        css: {
                            autoAlpha: 0
                        },
                        overwrite: "auto"
                    });
                    var n = s.find(".image");
                    TweenMax.to(n, .6, {
                        css: {
                            backgroundPosition: "50%, 50%"
                        },
                        overwrite: "all",
                        ease: Strong.easeOut
                    })
                }
            })
        };
        i.removeMouseEvents = function () {
            s.css({
                cursor: "default"
            });
            s.off("click", "mouseenter", "mouseleave")
        };
        i.enableMouseEvents = function (e) {
            if (e && d) {
                return
            }
            o = e;
            o ? s.css({
                pointer: "pointer"
            }) : s.css({
                pointer: "hourglass"
            })
        };
        i.selectBucket = function (t) {
            d = true;
            v = true;
            m = false;
            g = false;
            if (!app.isMobile) {
                TweenMax.to(s, .4, {
                    css: {
                        backgroundColor: "#ffffff"
                    },
                    overwrite: "auto"
                });
                var n = s.find(".description");
                TweenMax.to(n, .4, {
                    css: {
                        backgroundColor: "#ffffff"
                    },
                    overwrite: "auto"
                });
                var t = s.find(".description h1");
                TweenMax.to(t, .4, {
                    css: {
                        color: "#3B353A"
                    },
                    overwrite: "auto"
                });
                var r = s.find(".description p");
                TweenMax.to(r, .4, {
                    css: {
                        color: "#84717A"
                    },
                    overwrite: "auto"
                });
                var i = s.find(".viewButtonOver");
                TweenMax.to(i, .4, {
                    css: {
                        autoAlpha: 0
                    },
                    overwrite: "auto"
                });
                var r = s.find(".image");
                TweenMax.to(r, .6, {
                    css: {
                        backgroundPosition: "50%, 50%"
                    },
                    overwrite: "all",
                    ease: Strong.easeOut
                })
            }
            this.enableMouseEvents(false);
            O = t;
            if (!app.isMobile) {
                e("video")
                    .each(function (t) {
                        e(this)
                            .get(0)
                            .pause()
                    });
                signals.layout.changed.dispatch(true)
            } else {
                if (app.isMobile) {
                    signals.layout.changed.dispatch(true)
                }
            }
        };
        i.doThumbnailAjaxCall = function () {
            if (s.data("hasSlider", true)) {
                this.removeSlider()
            }
            if (u.galleryPath != "undefined") {
                e.ajax({
                    url: u.galleryPath,
                    dataType: "html",
                    context: i,
                    success: function (e) {
                        if (this.isExpanded()) {
                            this.setupThumbnails(e)
                        } else {
                            signals.layout.changed.dispatch(true)
                        }
                    },
                    error: function () {}
                })
            }
            setTimeout(function () {
                A += 53;
                e.scrollTo(A, 600, {
                    axis: "y"
                })
            }, 100)
        };
        i.closeBucket = function () {
            var e = s.find(".project_content");
            if (e.length > 0) {
                d = false;
                v = false;
                m = true;
                g = false;
                TweenMax.to(e, .6, {
                    css: {
                        autoAlpha: 0
                    }
                });
                var t = s.find(".close_project");
                TweenMax.killTweensOf(t);
                TweenMax.to(t, .5, {
                    css: {
                        right: -t.width() - 10
                    },
                    ease: Quad.easeInOut,
                    onComplete: this.enableMouseEvents,
                    onCompleteParams: [true],
                    onCompleteScope: this
                });
                if (!app.isAndroid && !app.isIOS) {
                    this.removeVideoHeader()
                }
                this.addMouseEvents();
                var n = s.find(".rsBullets");
                var r = s.find(".thumbnail_slider");
                if (r.length > 0 && n.length > 0) {
                    TweenMax.to(n, .25, {
                        css: {
                            opacity: 0
                        },
                        ease: Quad.easeIn
                    });
                    var i = N.length;
                    if (i > 4) {
                        i = 4
                    }
                    for (var o = 0; o < i; o++) {
                        var u = o / i;
                        if (o == i - 1) {
                            TweenMax.to(N[o], .5, {
                                css: {
                                    top: s.height() + 5
                                },
                                ease: Quad.easeIn,
                                delay: u * .2,
                                onComplete: this.removeSlider,
                                onCompleteScope: this
                            })
                        } else {
                            TweenMax.to(N[o], .5, {
                                css: {
                                    top: s.height() + 5
                                },
                                ease: Quad.easeIn,
                                delay: u * .2
                            })
                        }
                    }
                } else {
                    signals.layout.changed.dispatch(true)
                }
            }
        };
        i.removeSlider = function () {
            var e = s.find(".thumbnail_slider");
            if (e.length === 0) {
                s.data("hasSlider", false);
                return
            }
            if (s.data("hasSlider") === true) {
                e.data("royalSlider")
                    .destroy();
                s.data("hasSlider", false)
            }
            e.remove();
            signals.layout.changed.dispatch(true)
        };
        i.playVideoHeader = function () {
            signals.layout.videoLoaded.dispatch();
            var e = 768;
            var t = 214;
            var n = Math.min(s.find(".image")
                .height(), x);
            var r = u.videoHeaderPath;
            var i = s.find(".videoContainer");
            i.css({
                width: e,
                height: n,
                top: 0
            });
            var o = '<video preload="auto" autoplay="autoplay" loop="loop" width="' + e + '" height="' + t + '"><source type="video/mp4" src="' + r +
                '.mp4" /><source type="video/webm" src="' + r + '.webm" /></video>';
            i.html(o);
            var a = s.find(".videoContainer video")
                .get(0);
            a.load();
            a.addEventListener("canplaythrough", function (e) {
                return e.onVideoLoaded()
            }(this), false)
        };
        i.onVideoLoaded = function () {
            var e = s.find(".videoContainer video")
                .get(0);
            var t = s.find(".videoContainer");
            e.removeEventListener("canplaythrough", this.onVideoLoaded);
            t.css("visibility", "hidden");
            if (!TweenMax.isTweening(t)) {
                TweenMax.to(t, .6, {
                    css: {
                        autoAlpha: 1
                    },
                    delay: .8
                });
                e.play()
            }
        };
        i.removeVideoHeader = function () {
            clearTimeout(L);
            var e = s.find(".videoContainer");
            var t = s.find(".videoContainer video");
            if (t.length > 0 && e.length > 0) {
                t.get(0)
                    .pause();
                TweenMax.killTweensOf(e);
                TweenMax.to(e, .2, {
                    css: {
                        autoAlpha: 0
                    },
                    onComplete: function () {
                        t.get(0)
                            .src = "";
                        t.get(0)
                            .load();
                        e.empty()
                    }
                })
            }
        };
        i.pauseVideoHeader = function () {
            var e = s.find(".videoContainer video");
            if (e.length > 0) {
                e.get(0)
                    .pause()
            }
        };
        i.resumeVideoHeader = function () {
            var e = s.find(".videoContainer video");
            e.get(0)
                .play()
        };
        i.getColSpan = function () {
            return d ? this.settings.expandedCols : this.settings.collapsedCols
        };
        i.getRowSpan = function () {
            return d ? this.settings.expandedRows : this.settings.collapsedRows
        };
        i.isExpanded = function () {
            return d
        };
        i.setColAndRow = function (e, t) {
            if (app.isMobile) {
                c = "left";
                return
            }
            h = e;
            p = t;
            if (p % 2 == 0) {
                c = "left"
            } else {
                c = "right"
            }
        };
        i.updateArrow = function () {
            var e = s.find(".arrow_left");
            var t = s.find(".arrow_right");
            if (p % 2 == 0) {
                t.hide();
                e.show()
            } else {
                e.hide();
                t.show()
            }
        };
        i.resizeBucket = function (e, t) {
            if (d) {
                return
            }
            var n = s.find(".image");
            var r = s.find(".description");
            var i = s.find(".viewButton");
            if (!app.isMobile) {
                TweenMax.killTweensOf(n);
                TweenMax.killTweensOf(r)
            }
            n.css({
                left: "auto"
            });
            r.css({
                right: "auto"
            });
            if (app.isMobile) {
                i.css({
                    right: "auto",
                    left: 20,
                    top: t - i.height() - 20
                });
                n.css({
                    left: "right",
                    top: 0,
                    width: e,
                    height: t - 64
                });
                r.transition({
                    opacity: 1
                }, 200)
            } else {
                TweenMax.to(i, .4, {
                    css: {
                        right: "auto",
                        left: 20,
                        top: t - i.height() - 20
                    },
                    overwrite: "none"
                });
                var o = Math.min(t, x);
                TweenMax.to(n, .4, {
                    css: {
                        right: 0,
                        top: 0,
                        width: e,
                        height: o
                    },
                    onComplete: function () {
                        s.find(".info")
                            .ellipsis({
                                live: false
                            })
                    },
                    onCompleteScope: this
                });
                TweenMax.to(r, .4, {
                    css: {
                        left: 0,
                        top: o,
                        width: e,
                        height: t - 13
                    }
                })
            }
        };
        i.updatePositionAndSize = function (e, t, n, r, o, u) {
            if (M) {
                return
            }
            y = n;
            w = r;
            var a = s.find(".image");
            var f = s.find(".description");
            var l = s.find(".viewButton");
            var c = s.find(".project_content");
            if (app.isMobile) {
                c.css({
                    width: n - 60
                })
            }
            if (d) {
                w = this.settings.expandedRows * r + app.config.buckets.BORDER_SPACING * (this.settings.expandedRows - 1);
                var h = s.find(".close_project");
                if (v) {
                    this.removeMouseEvents();
                    TweenMax.killTweensOf(c);
                    c.css({
                        opacity: 1,
                        visibility: "visible"
                    });
                    o += .4;
                    if (app.isMobile) {
                        f.css({
                            opacity: 0
                        });
                        a.css({
                            left: "auto",
                            right: 0,
                            top: 0,
                            height: 200
                        });
                        l.css({
                            left: -l.width() - 40,
                            right: "auto"
                        });
                        setTimeout(function () {
                            i.doThumbnailAjaxCall()
                        }, 600);
                        signals.layout.bucketExpanded.dispatch()
                    } else {
                        TweenMax.to(f, .4, {
                            css: {
                                top: 0,
                                right: "auto",
                                left: -y
                            },
                            overwrite: "auto",
                            ease: Quad.easeInOut,
                            delay: o,
                            onComplete: function () {
                                signals.layout.bucketExpanded.dispatch();
                                i.resizeThumbnails();
                                i.doThumbnailAjaxCall()
                            },
                            onCompleteScope: this
                        });
                        var p = Math.min(r, x);
                        TweenMax.to(a, .4, {
                            css: {
                                left: "auto",
                                right: 0,
                                top: 0,
                                height: p
                            },
                            overwrite: "auto",
                            ease: Quad.easeInOut,
                            delay: o
                        });
                        TweenMax.to(l, .4, {
                            css: {
                                left: -l.width() - 40,
                                right: "auto"
                            },
                            overwrite: "auto",
                            ease: Quad.easeInOut,
                            delay: o
                        })
                    }
                    TweenMax.to(h, .4, {
                        css: {
                            right: 10
                        },
                        ease: Quad.easeInOut,
                        delay: o + .1
                    });
                    v = false;
                    TweenMax.to(s, .4, {
                        css: {
                            backgroundColor: "#ffffff"
                        },
                        overwrite: "auto"
                    });
                    for (var g = 0; g < N.length; g++) {
                        var b = g / N.length;
                        TweenMax.from(N[g], .4, {
                            css: {
                                top: c.height()
                            },
                            ease: Quad.easeOut,
                            delay: b * .3 + .6
                        })
                    }
                } else {
                    this.resizeThumbnails()
                }
                if (app.isMobile) {
                    r = 200;
                    p = 200;
                    a.css({
                        height: r
                    });
                    if (d) {
                        f.css({
                            opacity: 0
                        })
                    } else {
                        f.css({
                            opacity: 1
                        })
                    }
                } else {
                    var p = Math.min(r, x);
                    a.css({
                        height: p
                    });
                    var S = s.find(".videoContainer");
                    if (S.length != 0) {
                        S.css({
                            height: p
                        })
                    }
                    var T = p + E;
                    if (c.length != 0) {
                        c.css({
                            top: T + "px",
                            width: y - 60
                        })
                    }
                }
                if (app.buckets.numCols() == 1) {
                    a.css({
                        backgroundSize: "768px 280px"
                    })
                }
                this.resizeThumbnails()
            } else {
                this.resizeBucket(y, w);
                w = this.settings.collapsedRows * r + app.config.buckets.BORDER_SPACING * (this.settings.collapsedRows - 1)
            }
            A = t;
            if (app.isMobile) {
                if (d) {
                    var C = s.find(".project_thumbnail_container");
                    var k = 10;
                    var L = parseInt(c.width() / 4 - k + k / 4) + 25;
                    C.css({
                        height: L
                    });
                    w = parseInt(c.position()
                        .top) + c.height() + C.height() + E + 15
                }
                s.css({
                    top: t,
                    height: w
                });
                s.css({
                    width: y
                })
            } else {
                var O = .6;
                if (m) {
                    o = .1;
                    O = .6;
                    m = false;
                    TweenMax.to(s, O, {
                        css: {
                            left: e,
                            top: t,
                            width: y,
                            height: w
                        },
                        overwrite: "auto",
                        ease: Strong.easeIn,
                        delay: o
                    })
                } else {
                    o += .2;
                    TweenMax.to(s, O, {
                        css: {
                            left: e,
                            top: t,
                            width: y,
                            height: w
                        },
                        overwrite: "auto",
                        ease: Strong.easeOut,
                        delay: o
                    })
                }
            }
        };
        i.initialSizeAndPosition = function (e, t, n, r) {
            y = n;
            w = r;
            r = this.settings.collapsedRows * r + app.config.buckets.BORDER_SPACING * (this.settings.collapsedRows - 1);
            this.resizeBucket(n, w);
            var i = s.find(".project_content");
            if (app.isMobile) {
                i.css({
                    top: 200 + E + "px",
                    width: n - 60
                });
                s.css({
                    left: e,
                    top: t,
                    width: n,
                    height: r
                })
            } else {
                i.css({
                    top: w + "px"
                });
                s.css({
                    left: e,
                    top: t + window.innerHeight,
                    width: n,
                    height: r
                })
            }
            w = r
        };
        i.initialBuildAnim = function (e, t, n) {
            if (app.isIpad) {
                if (n) {
                    s.transition({
                        top: e,
                        delay: t * 1e3
                    }, 600, function () {
                        signals.layout.buildCompleted.dispatch()
                    })
                } else {
                    s.transition({
                        top: e,
                        delay: t * 1e3
                    }, 600)
                }
            } else {
                if (app.isMobile) {
                    s.css({
                        top: e
                    })
                } else {
                    if (n) {
                        TweenMax.to(s, .6, {
                            css: {
                                top: e
                            },
                            overwrite: "auto",
                            ease: Strong.easeOut,
                            delay: t,
                            onComplete: function () {
                                signals.layout.buildCompleted.dispatch()
                            }
                        })
                    } else {
                        TweenMax.to(s, .6, {
                            css: {
                                top: e
                            },
                            overwrite: "auto",
                            ease: Strong.easeOut,
                            delay: t
                        })
                    }
                }
            }
        };
        i.resizeThumbnails = function () {
            if (!g) {
                return
            }
            var t = s.find(".project_content");
            var n = s.find(".project_thumbnail_container");
            var r = e(".thumbnail_slider");
            if (!t.length || !n.length || !r.length) {
                return
            }
            var i = t.width();
            var o = 10;
            var u = parseInt(i / 4 - o + o / 4);
            n.css({
                width: t.width(),
                height: u + 30
            });
            if (!app.isMobile) {
                var a = parseInt(t.position()
                    .top) + t.height();
                var f = (w - a) / 2;
                var l = a + f - n.height() / 2;
                n.css({
                    top: l - 8
                })
            }
            var c = -1;
            for (var h = 0; h < N.length; h++) {
                if (h % 4 == 0) {
                    c++
                }
                var p = N[h];
                p.css({
                    left: (h - c * 4) * (u + o),
                    width: u + "px",
                    height: u + "px"
                })
            }
            if (s.data("hasSlider") === true) {
                r.data("royalSlider")
                    .updateSliderSize()
            }
        };
        i.displayImageGallery = function (t) {
            if (!app.isAndroid && !app.isIOS) {
                this.pauseVideoHeader()
            }
            e("#gallery")
                .data("imageGallery")
                .loadGallery(u.galleryPath, t)
        };
        i.getHeight = function () {
            return w
        };
        i.getWidth = function () {
            return y
        };
        i.hasSubsections = false;
        i.hasBaseSection = true;
        var D = function () {};
        i.init()
    };
    e.fn.projectLargeBucket = function (t) {
        return this.each(function () {
            if (undefined == e(this)
                .data("projectLargeBucket")) {
                var n = new e.projectLargeBucket(this, t);
                e(this)
                    .data("bucket", n)
            }
        })
    }
})(jQuery);
(function (e) {
    e.miejskoaktywniBucket = function (t, n) {
        var r = {
            expandedRows: 2,
            expandedCols: 2,
            collapsedRows: 2,
            collapsedCols: 1
        };
        var i = this;
        i.settings = {};
        var s = e(t),
            t = t;
        var o = false;
        var u = "left";
        var a = 0,
            f = 0;
        var l = 512,
            c = 512;
        var h;
        var p = false;
        var d = false;
        var v = false;
        var m = false;
        var g;
        var y = null;
        var w = ["whatis", "reel", "page3"];
        var E = null;
        var S;
        i.init = function () {
            i.settings = e.extend({}, r, n);
            this.addMouseEvents();
            var t = null;
            var s = {
                autoPlay: {
                    enabled: true,
                    pauseOnHover: true,
                    stopAtAction: false,
                    delay: 4e3
                },
                keyboardNavEnabled: false,
                navigateByClick: false,
                loop: false,
                arrowsNav: false,
                slidesSpacing: 0,
                autoScaleSlider: false,
                controlNavigationSpacing: 0,
                controlNavigation: "bullets",
                video: {
                    autoHideControlNav: true
                }
            };
            S = e("#miejskoaktywni_slider")
                .royalSlider(s)
                .data("royalSlider");
            S.ev.on("rsBeforeAnimStart", function () {});
            S.ev.on("rsAfterSlideChange", function () {});
            S.ev.on("rsDragMove", function () {});
            S.ev.on("rsDragRelease", function () {});
            S.ev.on("rsDragStart", function () {})
        };
        i.setData = function (e) {
            h = e
        };
        i.isExpanded = function () {
            return p
        };
        i.setupLayout = function () {
            var t = s.find(".close_video");
            e("<div>")
                .addClass("close_video_off")
                .appendTo(t);
            e("<div>")
                .addClass("close_video_over")
                .appendTo(t);
            if (app.isRetina) {
                e("#logo")
                    .attr("src", "images/miejskoaktywni_logo_2x.png")
            }
            var n = s.find(".buttons_container");
            s.on({
                click: function () {},
                mouseenter: function () {
                    TweenMax.to(n, .4, {
                        css: {
                            top: "0"
                        },
                        overwrite: "auto"
                    })
                },
                mouseleave: function () {
                    TweenMax.to(n, .4, {
                        css: {
                            top: "-100%"
                        },
                        overwrite: "auto"
                    })
                }
            });
            n.find(".download_file")
                .each(function () {
                    var t = e(this);
                    t.on({
                        click: function () {
                            if (t.data("type") === "out_link") {
                                window.open(t.data("value"))
                            } else if (t.data("type") === "in_link") {
                                document.location.href = t.data("value")
                            } else if (t.data("type") === "form") {
                                e("#lightbox")
                                    .data("lightBox")
                                    .showForm(t.data("value") + ".html")
                            } else if (t.data("type") === "youtube") {
                                e("#lightbox")
                                    .data("lightBox")
                                    .playYoutubeVideo(t.data("value"))
                            } else if (t.data("type") === "vimeo") {
                                e("#lightbox")
                                    .data("lightBox")
                                    .playVimeoVideo(t.data("value"))
                            } else if (t.data("type") === "read_more") {
                                e("#lightbox")
                                    .data("lightBox")
                                    .loadReadMoreBox(h.readMore, t.data("value"))
                            }
                        },
                        mouseenter: function () {
                            TweenMax.to(t, .4, {
                                css: {
                                    backgroundColor: "#f8ecf1",
                                    color: "#a4248d"
                                },
                                overwrite: "auto"
                            })
                        },
                        mouseleave: function () {
                            TweenMax.to(t, .4, {
                                css: {
                                    backgroundColor: "#a4248d",
                                    color: "#f8ecf1"
                                },
                                overwrite: "auto"
                            })
                        }
                    });
                    t.css({
                        position: "relative",
                        width: 101,
                        height: 26,
                        cursor: "pointer"
                    })
                })
        };
        i.updateShadow = function () {
            if (c < 520) {
                s.find(".miejskoaktywni_blurb")
                    .each(function () {
                        e(this)
                            .addClass("blurb_shadow")
                    })
            } else {
                s.find(".miejskoaktywni_blurb")
                    .each(function () {
                        e(this)
                            .removeClass("blurb_shadow")
                    })
            }
        };
        i.addMouseEvents = function () {
            var t = ".png";
            if (app.isRetina) {
                t = "_2x.png"
            }
            e(".miejskoaktywni_view_btn")
                .each(function () {
                    var n = e("<img>")
                        .attr("src", "images/watchvideo_btn_over" + t)
                        .addClass("miejskoaktywni_view_btn_over")
                        .appendTo(e(this));
                    e(this)
                        .on({
                            mouseenter: function (e) {
                                e.preventDefault();
                                TweenMax.to(n, .4, {
                                    css: {
                                        autoAlpha: 1
                                    }
                                })
                            },
                            mouseleave: function (e) {
                                e.preventDefault();
                                TweenMax.to(n, .4, {
                                    css: {
                                        autoAlpha: 0
                                    }
                                })
                            }
                        })
                });
            e(".miejskoaktywni_viewproject_btn")
                .each(function () {
                    var n = e("<img>")
                        .attr("src", "images/viewproject_btn_over" + t)
                        .addClass("miejskoaktywni_viewproject_btn_over")
                        .appendTo(e(this));
                    e(this)
                        .on({
                            mouseenter: function (e) {
                                e.preventDefault();
                                TweenMax.to(n, .4, {
                                    css: {
                                        autoAlpha: 1
                                    }
                                })
                            },
                            mouseleave: function (e) {
                                e.preventDefault();
                                TweenMax.to(n, .4, {
                                    css: {
                                        autoAlpha: 0
                                    }
                                })
                            }
                        })
                });
            e("#miejskoaktywni_launch_video")
                .on({
                    click: function (e) {
                        e.preventDefault();
                        hasher.setHash(s.data()
                            .id, w[0])
                    }
                });
            e("#miejskoaktywni_launch_reel")
                .on({
                    click: function (e) {
                        e.preventDefault();
                        hasher.setHash(s.data()
                            .id, w[1])
                    }
                });
            e("#miejskoaktywni_view_project")
                .on({
                    click: function (t) {
                        t.preventDefault();
                        app.buckets.triggerBucketClick(e(this)
                            .data("project"))
                    }
                });
            var n = s.find(".close_video");
            n.on({
                click: function (e) {
                    signals.layout.closeBucketClicked.dispatch();
                    e.preventDefault()
                },
                mouseenter: function (e) {
                    var t = n.find(".close_video_over");
                    e.preventDefault();
                    TweenMax.to(t, .4, {
                        css: {
                            autoAlpha: 1
                        },
                        overwrite: "auto"
                    })
                },
                mouseleave: function (e) {
                    var t = n.find(".close_video_over");
                    e.preventDefault();
                    TweenMax.to(t, .4, {
                        css: {
                            autoAlpha: 0
                        },
                        overwrite: "auto"
                    })
                }
            })
        };
        i.enableMouseEvents = function (e) {
            if (p && e) {
                return
            }
            o = e
        };
        i.containsSubsection = function (t) {
            return e.inArray(t, w) != -1
        };
        i.selectBucket = function (e, t) {
            var n = hasher.getHashAsArray();
            p = true;
            E = n[1];
            d = true;
            signals.layout.changed.dispatch(true)
        };
        i.closeBucket = function () {
            var t = e("#main_feature_video");
            if (t.length > 0) {
                var n = _V_("main_feature_video");
                if (n.techName == "html5") {
                    n.tag.src = "";
                    n.tech.removeTriggers();
                    n.load()
                }
                n.destroy();
                e(n.el)
                    .remove()
            }
            v = true;
            p = false;
            signals.layout.changed.dispatch(true)
        };
        i.getColSpan = function () {
            return p ? this.settings.expandedCols : this.settings.collapsedCols
        };
        i.getRowSpan = function () {
            return this.expanded ? this.settings.expandedRows : this.settings.collapsedRows
        };
        i.isExpanded = function () {
            return p
        };
        i.setColAndRow = function (e, t) {
            a = e;
            f = t;
            if (f % 2 == 0) {
                u = "left"
            } else {
                u = "right"
            }
        };
        i.resizeBucket = function () {};
        i.initialSizeAndPosition = function (t, n, r, o) {
            l = r;
            if (app.isMobile) {} else {
                c = o * 2 + app.config.buckets.BORDER_SPACING;
                s.css({
                    left: t,
                    top: n + window.innerHeight,
                    width: r,
                    height: c
                })
            }
            this.updateShadow();
            e("#miejskoaktywni_slider")
                .css({
                    width: l,
                    height: c
                });
            e(".miejskoaktywni_slide")
                .each(function () {
                    var t = e(this)
                        .find(".miejskoaktywni_slide_content");
                    e(".image", this)
                        .css({
                            left: -(e(".image", this)
                                .width() - l) / 2
                        })
                });
            e(".miejskoaktywni_view_btn")
                .each(function () {
                    e(this)
                        .css({
                            left: (e(this)
                                .parent()
                                .width() - e(this)
                                .width()) / 2
                        })
                });
            if (app.isDesktop) {
                i.playSlideshowVideo()
            }
            e("#miejskoaktywni_slider")
                .css({
                    width: l,
                    height: c
                });
            e("#miejskoaktywni_slider")
                .data("royalSlider")
                .updateSliderSize()
        };
        i.showExpandedContent = function () {
            var t;
            var n;
            if (E == w[0]) {
                n = "videos/promo"
            } else {
                if (E == w[1]) {
                    n = "videos/reel"
                }
            }
            var r = c;
            t = '<video id="main_feature_video" class="video-js vjs-default-skin" controls autoplay preload="auto" width="' + l + '" height="' + r +
                '" data-setup="{}"><source type="video/mp4" src="' + n + '.mp4" /><source type="video/webm" src="' + n + '.webm" /></video>';
            e("#miejskoaktywni_video")
                .html(t);
            _V_("main_feature_video")
                .addEvent("webkitendfullscreen", i.closeBucket);
            _V_("main_feature_video")
                .ready(function () {
                    _V_("main_feature_video")
                        .play()
                });
            if (app.isDesktop) {
                i.pauseVideoSlideshow()
            }
        };
        i.onReady = function (e) {};
        i.updatePositionAndSize = function (t, n, r, i, o, u) {
            var a = o;
            l = r;
            if (app.isMobile) {
                c = 270;
                var f = r / 2 - e("#logo")
                    .width() / 2;
                e("#logo")
                    .css({
                        left: f
                    })
            } else {
                c = i * 2 + app.config.buckets.BORDER_SPACING
            }
            this.updateShadow();
            if (p) {
                if (app.buckets.numCols() > 1) {
                    l = 2 * r + app.config.buckets.BORDER_SPACING
                }
                var h = e("#miejskoaktywni_slider");
                if (e("#main_feature_video")
                    .length) {
                    _V_("main_feature_video")
                        .width(l);
                    _V_("main_feature_video")
                        .height(c)
                }
                if (d) {
                    a += .4;
                    d = false;
                    var m = s.find(".close_video");
                    TweenMax.to(m, .4, {
                        css: {
                            right: 5
                        },
                        delay: .6,
                        onComplete: function () {
                            this.showExpandedContent();
                            signals.layout.bucketExpanded.dispatch()
                        },
                        onCompleteScope: this
                    });
                    TweenMax.to(h, .5, {
                        css: {
                            left: -h.width()
                        },
                        ease: Quad.easeInOut
                    });
                    e.scrollTo(n, 800, {
                        axis: "y"
                    })
                }
                if (!TweenMax.isTweening(h)) {
                    s.find(".videoContainer")
                        .each(function () {
                            e(this)
                                .css({
                                    left: -(768 - l) / 2
                                })
                        })
                }
            } else {
                l = r;
                if (v) {
                    v = false;
                    a += .2;
                    var g = e("#miejskoaktywni_slider");
                    TweenMax.to(g, .6, {
                        css: {
                            left: 0
                        }
                    });
                    var m = s.find(".close_video");
                    TweenMax.to(m, .4, {
                        css: {
                            right: -60
                        }
                    })
                }
                e(".miejskoaktywni_slide")
                    .each(function () {
                        var t = e(this)
                            .find(".miejskoaktywni_slide_content");
                        e(".image", this)
                            .css({
                                left: -(e(".image", this)
                                    .width() - l) / 2
                            })
                    });
                e("#miejskoaktywni_slider")
                    .css({
                        width: l,
                        height: c
                    });
                e("#miejskoaktywni_slider")
                    .data("royalSlider")
                    .updateSliderSize();
                s.find(".videoContainer")
                    .each(function () {
                        e(this)
                            .css({
                                left: -(768 - l) / 2
                            })
                    })
            }
            if (app.isMobile) {
                s.css({
                    left: t,
                    top: n,
                    width: l,
                    height: c
                })
            } else {
                TweenMax.to(s, .6, {
                    css: {
                        left: t,
                        top: n,
                        width: l,
                        height: c
                    },
                    overwrite: "auto",
                    ease: Strong.easeOut,
                    delay: a
                })
            }
        };
        i.initialBuildAnim = function (e, t, n) {
            if (app.isIpad) {
                s.transition({
                    top: e,
                    delay: t * 1e3
                }, 600)
            } else {
                if (app.isMobile) {
                    s.css({
                        top: e
                    })
                } else {
                    if (app.isDesktop) {
                        if (n) {
                            TweenMax.to(s, .6, {
                                css: {
                                    top: e
                                },
                                overwrite: "auto",
                                ease: Strong.easeOut,
                                delay: t,
                                onComplete: function () {
                                    signals.layout.buildCompleted.dispatch()
                                }
                            })
                        } else {
                            TweenMax.to(s, .6, {
                                css: {
                                    top: e
                                },
                                overwrite: "auto",
                                ease: Strong.easeOut,
                                delay: t
                            })
                        }
                    }
                }
            }
        };
        i.pauseVideo = function () {
            g.api("pause")
        };
        i.playVideo = function () {
            g.api("play")
        };
        i.playSlideshowVideo = function () {
            if (!app.isDesktop) {
                return
            }
            var t = e(".miejskoaktywni_slide")
                .eq(S.currSlideId);
            i.pauseVideoSlideshow();
            var n = 768;
            var r = 428;
            var s = t.data("bgvideo");
            var o = t.find(".videoContainer");
            if (s && o.length) {
                var u = '<video autoplay="autoplay" loop="loop" width="' + n + '" height="' + r + '"><source type="video/mp4" src="' + s +
                    '.mp4" /><source type="video/webm" src="' + s + '.webm" /></video>';
                if (o.is(":empty")) {
                    o.html(u);
                    o.css({
                        width: n,
                        height: r,
                        left: 0,
                        right: 0
                    });
                    var a = t.find(".videoContainer video")
                        .get(0);
                    a.load();
                    a.addEventListener("canplaythrough", function (e) {
                        return e.onVideoSlideshowLoaded()
                    }(this))
                } else {
                    i.resumeVideoSlideshow()
                }
                o.css({
                    left: -(n - l) / 2
                })
            }
        };
        i.onVideoSlideshowLoaded = function () {
            if (!app.isDesktop) {
                return
            }
            var t = e(".miejskoaktywni_slide")
                .eq(S.currSlideId);
            var n = t.find(".videoContainer");
            var r = s.find(".videoContainer video")
                .get(0);
            n.show();
            r.play()
        };
        i.removeVideoSlideshow = function () {
            if (!app.isDesktop) {
                return
            }
            clearTimeout(y);
            var e = s.find(".videoContainer");
            var t = s.find(".videoContainer video");
            if (t.length > 0 && e.length > 0) {
                e.hide();
                t.each(function () {
                    this.removeEventListener("loadeddata", this.onVideoLoaded);
                    this.src = "";
                    this.load()
                });
                e.empty()
            }
        };
        i.pauseVideoSlideshow = function () {
            if (!app.isDesktop) {
                return
            }
            var e = s.find(".videoContainer video");
            e.each(function (e, t) {
                this.pause()
            })
        };
        i.resumeVideoSlideshow = function () {
            if (!app.isDesktop) {
                return
            }
            var t = e(".miejskoaktywni_slide")
                .eq(S.currSlideId);
            if (t.length > 0) {
                var n = t.find(".videoContainer video");
                if (n.length > 0) {
                    n.get(0)
                        .play()
                }
            }
        };
        i.getHeight = function () {
            return c
        };
        i.getWidth = function () {
            return l
        };
        i.hasSubsections = true;
        i.hasBaseSection = false;
        i.init()
    };
    e.fn.miejskoaktywniBucket = function (t) {
        return this.each(function () {
            if (undefined == e(this)
                .data("miejskoaktywniBucket")) {
                var n = new e.miejskoaktywniBucket(this, t);
                e(this)
                    .data("bucket", n)
            }
        })
    }
})(jQuery);
(function (e) {
    e.contactBucket = function (t, n) {
        var r = {
            expandedRows: 2,
            expandedCols: 2,
            collapsedRows: 2,
            collapsedCols: 1
        };
        var i = this;
        i.settings = {};
        var s = e(t),
            t = t;
        var o = false;
        var u = "left";
        var a = 0,
            f = 0;
        var l = false;
        var c = 512,
            h = 512;
        var p;
        var d = 280;
        i.init = function () {
            i.settings = e.extend({}, r, n);
            this.addMouseEvents();
            var t = null;
            var s = e("#promo_slider")
                .royalSlider({
                    autoPlay: {
                        enabled: true,
                        pauseOnHover: true,
                        stopAtAction: false,
                        delay: 4e3
                    },
                    keyboardNavEnabled: false,
                    navigateByClick: false,
                    loop: true,
                    arrowsNav: false,
                    controlNavigation: "bullets"
                })
                .data("royalSlider");
            s.ev.on("rsBeforeAnimStart", function () {
                var n = e("#promo_slider")
                    .data("royalSlider");
                var r = e("#promo");
                var i = 1 / 100 * 1e3;
                clearInterval(t);
                t = setInterval(function () {
                    var t;
                    if (n._xProp == "left") {
                        var i = n.getParallaxValues();
                        t = parseFloat(e(i.slidesContainer)
                            .css(i.xProp))
                    } else {
                        t = n.getParallaxValues()
                            .transformProp
                    }
                    var s = -t / 1536 * 100;
                    r.css({
                        backgroundPosition: s + "% 0"
                    })
                }, i)
            });
            s.ev.on("rsAfterSlideChange", function () {
                clearInterval(t)
            });
            s.ev.on("rsDragMove", function () {
                var t = -s.getParallaxValues()
                    .currRenderPosition / 1536 * 100;
                e("#promo")
                    .css({
                        backgroundPosition: t + "% 0"
                    })
            });
            s.ev.on("rsDragStart", function () {
                clearInterval(t)
            })
        };
        i.expanded = false;
        i.setData = function (e) {
            p = e
        };
        i.setupLayout = function () {
            var t = s.find(".image");
            t.css({
                backgroundRepeat: "repeat",
                backgroundPosition: "50%, 50%"
            });
            var n = s.find(".description");
            if (!app.isMobile) {}
            var r = s.find(".project_content");
            r.css({
                top: "256px"
            });
            if (app.isDesktop) {
                var o = e("<div>")
                    .addClass("launch_project")
                    .appendTo(r);
                e("<div>")
                    .addClass("launch_project_off")
                    .appendTo(o);
                e("<div>")
                    .addClass("launch_project_over")
                    .appendTo(o);
                o.on({
                    click: function () {
                        window.open(p.projectURL)
                    },
                    mouseenter: function () {
                        var e = o.find(".launch_project_over");
                        TweenMax.to(e, .4, {
                            css: {
                                autoAlpha: 1
                            },
                            overwrite: "auto"
                        })
                    },
                    mouseleave: function () {
                        var e = o.find(".launch_project_over");
                        TweenMax.to(e, .4, {
                            css: {
                                autoAlpha: 0
                            },
                            overwrite: "auto"
                        })
                    }
                });
                o.css({
                    position: "relative",
                    width: 101,
                    height: 26,
                    cursor: "pointer"
                })
            }
            if (app.isDesktop) {
                e("<div />")
                    .addClass("videoContainer")
                    .appendTo(s)
            }
            var u = e("<div>")
                .addClass("close_project")
                .appendTo(s);
            e("<div>")
                .addClass("close_project_over")
                .appendTo(u);
            var a = u.find(".close_project_over");
            u.on({
                click: function (e) {
                    e.preventDefault();
                    e.stopPropagation();
                    signals.layout.closeBucketClicked.dispatch()
                },
                mouseenter: function (e) {
                    e.preventDefault();
                    TweenMax.to(a, .4, {
                        css: {
                            autoAlpha: 1
                        },
                        overwrite: "auto"
                    })
                },
                mouseleave: function (e) {
                    e.preventDefault();
                    TweenMax.to(a, .4, {
                        css: {
                            autoAlpha: 0
                        },
                        overwrite: "auto"
                    })
                }
            });
            var f = h + i;
            r.css({
                top: f + "px",
                width: c - 2 * i
            });
            var l = e("<div>")
                .addClass("project_thumbnail_container")
                .appendTo(s);
            n.find(".download_file")
                .each(function () {
                    var t = e(this);
                    t.on({
                        click: function () {
                            if (t.data("type") === "out_link") {
                                window.open(t.data("value"))
                            } else if (t.data("type") === "in_link") {
                                document.location.href = t.data("value")
                            } else if (t.data("type") === "form") {
                                e("#lightbox")
                                    .data("lightBox")
                                    .showForm(t.data("value") + ".html")
                            } else if (t.data("type") === "youtube") {
                                e("#lightbox")
                                    .data("lightBox")
                                    .playYoutubeVideo(t.data("value"))
                            } else if (t.data("type") === "vimeo") {
                                e("#lightbox")
                                    .data("lightBox")
                                    .playVimeoVideo(t.data("value"))
                            }
                        },
                        mouseenter: function () {
                            TweenMax.to(t, .4, {
                                css: {
                                    backgroundColor: "#f8ecf1",
                                    color: "#a4248d",
                                    cursor: "default"
                                },
                                overwrite: "auto"
                            })
                        },
                        mouseleave: function () {
                            TweenMax.to(t, .4, {
                                css: {
                                    backgroundColor: "#a4248d",
                                    color: "#f8ecf1"
                                },
                                overwrite: "auto"
                            })
                        }
                    });
                    t.css({
                        position: "relative",
                        width: 101,
                        height: 26,
                        cursor: "pointer"
                    })
                });
            this.addMouseEvents()
        };
        i.addMouseEvents = function () {};
        i.enableMouseEvents = function (e) {
            o = e
        };
        i.containsSubsection = function (e) {
            return false
        };
        i.selectBucket = function () {
            this.closeBucket()
        };
        i.closeBucket = function () {
            this.expanded = false;
            signals.layout.changed.dispatch(true)
        };
        i.getColSpan = function () {
            return this.expanded ? this.settings.expandedCols : this.settings.collapsedCols
        };
        i.getRowSpan = function () {
            return this.expanded ? this.settings.expandedRows : this.settings.collapsedRows
        };
        i.resizeBucket = function (e, t) {
            if (l) {
                return
            }
            var n = s.find(".image");
            var r = s.find(".description");
            if (!app.isMobile) {
                TweenMax.killTweensOf(n);
                TweenMax.killTweensOf(r)
            }
            n.css({
                left: "auto"
            });
            r.css({
                right: "auto"
            });
            if (app.isMobile) {
                n.css({
                    left: "right",
                    top: 0,
                    width: e,
                    height: t - 64
                });
                r.transition({
                    opacity: 1
                }, 200)
            } else {
                var i = Math.min(t, d);
                TweenMax.to(n, .4, {
                    css: {
                        right: 0,
                        top: 0,
                        width: e,
                        height: i
                    },
                    onComplete: function () {
                        s.find(".info")
                            .ellipsis({
                                live: false
                            })
                    },
                    onCompleteScope: this
                });
                TweenMax.to(r, .4, {
                    css: {
                        left: 0,
                        top: i,
                        width: e,
                        height: t - 13
                    }
                })
            }
        };
        i.initialSizeAndPosition = function (t, n, r, i) {
            this.resizeBucket(r, i);
            c = r;
            h = i * 2 + app.config.buckets.BORDER_SPACING;
            if (app.isMobile) {
                h = 320;
                s.css({
                    left: t,
                    top: n,
                    width: c,
                    height: h
                })
            } else {
                s.css({
                    left: t,
                    top: n + window.innerHeight,
                    width: c,
                    height: h
                })
            }
            e("#promo_slider")
                .css({
                    width: c,
                    height: h - 30
                });
            e(".promo_slide")
                .each(function () {
                    var t = e(this)
                        .find(".contact_slide_content");
                    e(this)
                        .css({
                            left: (c - t.width()) / 2,
                            top: (h - t.height()) / 2,
                            width: t.width() + "px",
                            height: t.height() + "px"
                        })
                })
        };
        i.setColAndRow = function (e, t) {
            a = e;
            f = t;
            if (f % 2 == 0) {
                u = "left"
            } else {
                u = "right"
            }
        };
        i.updatePositionAndSize = function (t, n, r, i, o, u) {
            c = r;
            if (app.isMobile) {
                h = 320
            } else {
                h = i * 2 + app.config.buckets.BORDER_SPACING
            }
            if (this.expanded && app.buckets.numRows() > 1) {
                c = 2 * r + app.config.buckets.BORDER_SPACING
            }
            if (app.isMobile) {
                s.css({
                    left: t,
                    top: n,
                    width: c,
                    height: h
                })
            } else {
                TweenMax.to(s, .6, {
                    css: {
                        left: t,
                        top: n,
                        width: c,
                        height: h
                    },
                    overwrite: "auto",
                    ease: Strong.easeOut,
                    delay: o
                })
            }
            e("#promo_slider")
                .css({
                    width: c,
                    height: h - 30
                });
            e(".promo_slide")
                .each(function () {
                    e(this)
                        .css({
                            left: (c - e(this)
                                .width()) / 2,
                            top: (h - e(this)
                                .height()) / 2
                        })
                });
            var a = -e("#promo_slider")
                .data("royalSlider")
                .getParallaxValues()
                .transformProp / 1536 * 100;
            e("#promo")
                .css({
                    backgroundPosition: a + "% 0%"
                });
            this.resizeBucket(c, i)
        };
        i.initialBuildAnim = function (e, t, n) {
            if (app.isIpad) {
                s.transition({
                    top: e,
                    delay: t * 1e3
                }, 600)
            } else {
                if (app.isMobile) {
                    s.css({
                        top: e
                    })
                } else {
                    if (app.isDesktop) {
                        if (n) {
                            TweenMax.to(s, .6, {
                                css: {
                                    top: e
                                },
                                overwrite: "auto",
                                ease: Strong.easeOut,
                                delay: t,
                                onComplete: function () {
                                    signals.layout.buildCompleted.dispatch()
                                }
                            })
                        } else {
                            TweenMax.to(s, .6, {
                                css: {
                                    top: e
                                },
                                overwrite: "auto",
                                ease: Strong.easeOut,
                                delay: t
                            })
                        }
                    }
                }
            }
        };
        i.isExpanded = function () {
            return false
        };
        i.getHeight = function () {
            return h
        };
        i.getWidth = function () {
            return c
        };
        i.hasSubsections = false;
        i.hasBaseSection = false;
        i.init()
    };
    e.fn.contactBucket = function (t) {
        return this.each(function () {
            if (undefined == e(this)
                .data("contactBucket")) {
                var n = new e.contactBucket(this, t);
                e(this)
                    .data("bucket", n)
            }
        })
    }
})(jQuery);
(function (e) {
    e.calendarBucket = function (t, n) {
        var r = {
            expandedRows: 2,
            expandedCols: 2,
            collapsedRows: 2,
            collapsedCols: 1
        };
        var i = this;
        i.settings = {};
        var s = e(t),
            t = t;
        var o = false;
        var u = "left";
        var a = 0,
            f = 0;
        var l = false;
        var c = 512,
            h = 512;
        var p;
        i.init = function () {
            i.settings = e.extend({}, r, n);
            this.addMouseEvents();
            var t = null;
            var s = e("#calendar_slider")
                .royalSlider({
                    keyboardNavEnabled: false,
                    navigateByClick: false,
                    loop: false,
                    arrowsNav: true,
                    controlNavigation: "none",
                    startSlideId: e(".firstSlide")
                        .index()
                })
                .data("royalSlider");
            s.ev.on("rsBeforeAnimStart", function () {
                var n = e("#calendar_slider")
                    .data("royalSlider");
                var r = e("#calendar");
                var i = 1 / 100 * 1e3;
                clearInterval(t);
                t = setInterval(function () {
                    var t;
                    if (n._xProp == "left") {
                        var i = n.getParallaxValues();
                        t = parseFloat(e(i.slidesContainer)
                            .css(i.xProp))
                    } else {
                        t = n.getParallaxValues()
                            .transformProp
                    }
                    var s = -t / 1536 * 100;
                    r.css({
                        backgroundPosition: s + "% 0"
                    })
                }, i)
            });
            s.ev.on("rsAfterSlideChange", function () {
                clearInterval(t)
            });
            s.ev.on("rsDragMove", function () {
                var t = -s.getParallaxValues()
                    .currRenderPosition / 1536 * 100;
                e("#calendar")
                    .css({
                        backgroundPosition: t + "% 0"
                    })
            });
            s.ev.on("rsDragStart", function () {
                clearInterval(t)
            })
        };
        i.expanded = false;
        i.setData = function (e) {
            p = e
        };
        i.setupLayout = function () {
            var e = s.find(".calendar_header")
        };
        i.addMouseEvents = function () {
            e("#calendar")
                .find(".normalDay")
                .each(function () {
                    var t = e(this)
                        .attr("day");
                    var n = e(this)
                        .attr("type");
                    var r = e(this)
                        .attr("typeschedule");
                    var i = e(this)
                        .attr("cat");
                    e(this)
                        .on({
                            click: function (s) {
                                if (n === "imprezy" && e(this)
                                    .hasClass("isEvent")) {
                                    e("#lightbox")
                                        .data("lightBox")
                                        .showEvents("Public/data/" + t + ".json")
                                    }else if ( n === "Tor Wschodzący Białystok"  && e(this)
                                        .hasClass("isEvent")) {
                                    e("#lightbox")
                                        .data("lightBox")
                                        .showEventsTor(t, n)
                                } else if (n === "harmonogram" && !e(this)
                                    .hasClass("isEvent")) {
                                    e("#lightbox")
                                        .data("lightBox")
                                        .showSchedule(i, r, t)
                                }
                            },
                            mouseenter: function (e) {},
                            mouseleave: function (e) {}
                        })
                })
        };
        i.enableMouseEvents = function (e) {
            o = e
        };
        i.containsSubsection = function (e) {
            return false
        };
        i.selectBucket = function () {
            this.closeBucket()
        };
        i.closeBucket = function () {
            this.expanded = false;
            signals.layout.changed.dispatch(true)
        };
        i.getColSpan = function () {
            return this.expanded ? this.settings.expandedCols : this.settings.collapsedCols
        };
        i.getRowSpan = function () {
            return this.expanded ? this.settings.expandedRows : this.settings.collapsedRows
        };
        i.resizeBucket = function (e, t) {};
        i.initialSizeAndPosition = function (t, n, r, i) {
            this.resizeBucket(r, i);
            c = r;
            h = i * 2 + app.config.buckets.BORDER_SPACING;
            if (app.isMobile) {
                h = 320;
                s.css({
                    left: t,
                    top: n,
                    width: c,
                    height: h
                })
            } else {
                s.css({
                    left: t,
                    top: n + window.innerHeight,
                    width: c,
                    height: h
                })
            }
            e("#calendar_slider")
                .css({
                    width: c,
                    height: h - 30
                })
        };
        i.setColAndRow = function (e, t) {
            a = e;
            f = t;
            if (f % 2 == 0) {
                u = "left"
            } else {
                u = "right"
            }
        };
        i.updatePositionAndSize = function (t, n, r, i, o, u) {
            c = r;
            if (app.isMobile) {
                h = 320
            } else {
                h = i * 2 + app.config.buckets.BORDER_SPACING
            }
            if (this.expanded && app.buckets.numRows() > 1) {
                c = 2 * r + app.config.buckets.BORDER_SPACING
            }
            if (app.isMobile) {
                s.css({
                    left: t,
                    top: n,
                    width: c,
                    height: h
                })
            } else {
                TweenMax.to(s, .6, {
                    css: {
                        left: t,
                        top: n,
                        width: c,
                        height: h
                    },
                    overwrite: "auto",
                    ease: Strong.easeOut,
                    delay: o
                })
            }
            e("#calendar_slider")
                .css({
                    width: c,
                    height: h - 30
                });
            var a = -e("#calendar_slider")
                .data("royalSlider")
                .getParallaxValues()
                .transformProp / 1536 * 100;
            e("#calendar")
                .css({
                    backgroundPosition: a + "% 0%"
                });
            var f = this.settings.collapsedRows * i + app.config.buckets.BORDER_SPACING * (this.settings.collapsedRows - 1);
            this.resizeBucket(c, f)
        };
        i.initialBuildAnim = function (e, t, n) {
            if (app.isIpad) {
                s.transition({
                    top: e,
                    delay: t * 1e3
                }, 600)
            } else {
                if (app.isMobile) {
                    s.css({
                        top: e
                    })
                } else {
                    if (app.isDesktop) {
                        if (n) {
                            TweenMax.to(s, .6, {
                                css: {
                                    top: e
                                },
                                overwrite: "auto",
                                ease: Strong.easeOut,
                                delay: t,
                                onComplete: function () {
                                    signals.layout.buildCompleted.dispatch()
                                }
                            })
                        } else {
                            TweenMax.to(s, .6, {
                                css: {
                                    top: e
                                },
                                overwrite: "auto",
                                ease: Strong.easeOut,
                                delay: t
                            })
                        }
                    }
                }
            }
        };
        i.isExpanded = function () {
            return false
        };
        i.getHeight = function () {
            return h
        };
        i.getWidth = function () {
            return c
        };
        i.hasSubsections = false;
        i.hasBaseSection = false;
        i.init()
    };
    e.fn.calendarBucket = function (t) {
        return this.each(function () {
            if (undefined == e(this)
                .data("calendarBucket")) {
                var n = new e.calendarBucket(this, t);
                e(this)
                    .data("bucket", n)
            }
        })
    }
})(jQuery);
(function (e) {
    e.lightBox = function (t, n) {
        var r = {
            IMAGE_SPACING: 40
        };
        var i = this;
        i.settings = {};
        var s = e(t),
            t = t;
        var o, u, r, a, f, l, c, h;
        var p;
        images = [], thumbnails = [], currImageIndex = 0, savedScrollTop = 0;
        i.init = function () {
            i.settings = e.extend({}, r, n);
            o = e("<div>")
                .addClass("overlay")
                .appendTo(s);
            o.on({
                click: function (e) {
                    e.preventDefault();
                    i.hideBox()
                }
            });
            u = e("<div>")
                .addClass("contentBox")
                .appendTo(s);
            h = e("<div>")
                .addClass("close_gallery")
                .appendTo(u);
            var t = e("<div>")
                .addClass("close_gallery_over")
                .appendTo(h);
            h.on({
                click: function (e) {
                    e.preventDefault();
                    i.hideBox()
                },
                mouseenter: function (e) {
                    e.preventDefault();
                    TweenMax.to(t, .4, {
                        css: {
                            autoAlpha: 1
                        },
                        overwrite: "auto"
                    })
                },
                mouseleave: function (e) {
                    e.preventDefault();
                    TweenMax.to(t, .4, {
                        css: {
                            autoAlpha: 0
                        },
                        overwrite: "auto"
                    })
                }
            });
            e(document)
                .ajaxStart(function () {
                    e("#formLoader")
                        .show()
                })
                .ajaxComplete(function () {
                    e("#formLoader")
                        .hide()
                });
            e.getJSON("Public/data/schedulesBlocks.json", function (e) {
                return function (e) {
                    p = e
                }
            }(this))
        };
        i.resetBox = function () {
            u.removeClass()
                .addClass("contentBox")
                .css({
                    maxWidth: "800px",
                    maxHeight: "85vh",
                    top: window.screen.width > window.screen.height ? "-1rem" : "5%",
                    marginTop: "0"
                });
            u.find("iframe")
                .remove();
            u.find("h1")
                .remove();
            u.find(".content")
                .remove();
            u.find(".formContent")
                .remove();
            h.appendTo(u);
            signals.layout.changed.remove(this.onResize, this)
        };
        i.showSmartyBox = function (t) {
            this.resetBox();
            e.getJSON("Public/data/boxes.json", function (n) {
                return function (n) {
                    for (var s = 0; s < n.length; s++) {
                        if (n[s].id == t) {
                            r = e("<div>")
                                .addClass("formContent")
                                .appendTo(u);
                            var o = n[s].content.split("\\")
                                .join("");
                            e("<div>")
                                .html(o)
                                .appendTo(r);
                            r.jScrollPane({
                                autoReinitialise: true,
                                mouseWheelSpeed: 30
                            });
                            i.displayBox(n)
                        }
                    }
                }
            }(this))
        };
        i.playYoutubeVideo = function (e) {
            this.resetBox();
            u.removeClass("contentBox")
                .addClass("youtubeBox");
            u.append('<iframe width="640" height="480" src="//www.youtube.com/embed/' + e + '" frameborder="0"></iframe>');
            i.displayBox(e)
        };
        i.playVimeoVideo = function (e) {
            this.resetBox();
            u.removeClass("contentBox")
                .addClass("youtubeBox");
            u.append('<iframe src="//player.vimeo.com/video/' + e +
                '?title=0&byline=0&portrait=0&color=ff0179" width="640" height="360" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>'
            );
            i.displayBox(e)
        };
        i.loadReadMoreBox = function (t, n) {
            this.resetBox();
            u.css({
                top: "0",
                // marginTop: "-" + u.height() / 2 + "px"
            });
            e.getJSON(t, function (t) {
                return function (t) {
                    for (var s = 0; s < t.length; s++) {
                        if (t[s].id == n) {
                            e("<h1>")
                                .text(t[s].title)
                                .appendTo(u);
                            var o = e("<a>")
                                .addClass("printBox")
                                .appendTo(u);
                            o.on({
                                click: function () {
                                    window.open("Print-" + n + ".html")
                                }
                            });
                            r = e("<div>")
                                .addClass("content")
                                .appendTo(u);
                            var a = t[s].content.split("\\")
                                .join("");
                            e("<p>")
                                .html(a)
                                .appendTo(r);
                            r.jScrollPane({
                                autoReinitialise: true,
                                mouseWheelSpeed: 30
                            });
                            i.displayBox(t);
                            break
                        }
                    }
                }
            }(this))
        };
        i.showEvents = function (t) {
            this.resetBox();
            e.getJSON(t, function (t) {
                return function (t) {
                    var n;
                    r = e("<div>")
                        .addClass("formContent")
                        .appendTo(u);
                    var s = e("<div>")
                        .attr("id", "Form")
                        .appendTo(r);
                    for (n = 0; n < t.length; n++) {
                        var o = t[n];
                        var a = n;
                        e.ajax({
                            url: "Public/data/forms/impreza_view.html",
                            dataType: "html",
                            async: false,
                            success: function (e) {
                                s.html(s.html() + e);
                                if (o.founder_name) s.find(".eventsFounderName:eq(" + a + ")")
                                    .text(o.founder_name);
                                else s.find(".eventsFounderName:eq(" + a + ")")
                                    .parent(".form_row")
                                    .hide();
                                if (o.founder_logo) s.find(".eventsFounderLogo:eq(" + a + ")")
                                    .html("<img src='" + o.founder_logo + "' alt='logo' height='80px'/>");
                                else s.find(".eventsFounderLogo:eq(" + a + ")")
                                    .parent(".form_row")
                                    .hide();
                                s.find(".eventsEventName:eq(" + a + ")")
                                    .text(o.title);
                                if (o.logo) s.find(".eventsEventLogo:eq(" + a + ")")
                                    .html("<img src='" + o.logo + "' alt='logo' height='80px'/>");
                                else s.find(".eventsEventLogo:eq(" + a + ")")
                                    .parent(".form_row")
                                    .hide();
                                s.find(".eventsEventLocation:eq(" + a + ")")
                                    .text(o.location);
                                s.find(".eventsEventDate:eq(" + a + ")")
                                    .text(o.date);
                                s.find(".eventsEventHour:eq(" + a + ")")
                                    .text(o.hour);
                                s.find(".eventsEventShort:eq(" + a + ")")
                                    .html(o.short);
                                s.find(".eventsEventContent:eq(" + a + ")")
                                    .html(o.content)
                            }
                        })
                    }
                    r.jScrollPane({
                        autoReinitialise: true,
                        mouseWheelSpeed: 30
                    });
                    i.displayBox(t)
                }
            }(this))
        };
		i.showEventsTor = function (date) {
            var dateParts = date.match('([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})');
            date = dateParts[2]+'/'+dateParts[3]+'/'+dateParts[1];
			var todayDate = new Date();
			var today = todayDate.getFullYear() + "" + (todayDate.getMonth()+1) + "" + todayDate.getDate();
			if( parseInt(today) > parseInt(dateParts[1]+(dateParts[2]<10?'0':'')+dateParts[2]+(dateParts[3]<10?'0':'')+dateParts[3]) ){
				return;
			}
            if(!calendars || !calendars[date]){
                console.log('Day not found', date);
                return;
            }
            this.resetBox();
			reservations.i = e("#lightbox").data("lightBox");
			reservations.e = e;
            t = Object.keys(calendars[date]);
      
                    var n;
                    r = e("<div>")
                        .addClass("formContent")
                        .appendTo(u)
                    var s = e("<form method='post'>")
                        .attr("id", "Form")
						.append('<h1>Wybierz wydarzenie</h1><div class="over-modal"></div>')
                        .appendTo(r);

                        e.ajax({
                            url: "Public/data/forms/wydarzenia_view.html",
                            dataType: "html",
                            async: false,
                            success: function (e) {
								for (n = 0; n < t.length; n++) {
									var o = calendars[date][t[n]];
									var a = n;
									s.append(e);
                                    $('#lightbox .contentBox').css({
                                        maxHeight: '440px'
                                    });
									if (o.nazwa) s.find(".eventsEventName:eq(" + a + ")").html(o.nazwa); else s.find(".eventsEventName:eq(" + a + ")").parent(".form_row").hide();
									if (o.name) s.find(".eventsEventShort:eq(" + a + ")").html(o.name); else s.find(".eventsEventShort:eq(" + a + ")").parent(".form_row").hide();
									if (o.hourFrom) s.find(".eventsEventHour:eq(" + a + ")").html(o.hourFrom); else s.find(".eventsEventHour:eq(" + a + ")").parent(".form_row").hide();
									if (o.hourTo) s.find(".eventsEventHourEnd:eq(" + a + ")").html(o.hourTo); else s.find(".eventsEventHourEnd:eq(" + a + ")").parent(".form_row").hide();
									if (o.price) s.find(".eventsEventPrice:eq(" + a + ")").html(o.price + "zł"); else s.find(".eventsEventPrice:eq(" + a + ")").parent(".form_row").hide();
									if (o.miejsca) s.find(".eventsEventReservations:eq(" + a + ")").html(o.reservations + '/' + o.miejsca); else s.find(".eventsEventReservations:eq(" + a + ")").parent(".form_row").hide();
									if (o.id) s.find(".single-event:eq(" + a + ")").attr('eventid', o.id);
                                    $('.formContent form').on('submit', function(e){
                                        e.preventDefault();
                                      $('.user-data-table').css({
                                          height: 0,
                                          overflow: 'hidden'
                                      });
                                      // $('#Form').height('5450px');
                                        $('#lightbox .over-modal > h1').text('ZAPOZNAJ SIĘ Z REGULAMINAMI');

                                        $('#lightbox .jspHorizontalBar').css({
                                            display: 'none'
                                        });
                                      $('.user-regulations-table').css('display', 'block');
                                       $('.formContent form').off('submit');
                                    });
									if (parseInt(o.reservations) >= parseInt(o.miejsca) ){
										$('#lightbox .download_file').eq(n).css({'background-color':'rgba(164, 36, 141, 0.6)','cursor':'default'});
									}else{
										reservations.setClick( $('#lightbox .download_file').eq(n), o);
									}
								}
							}
                        })
                    r.jScrollPane({
                        autoReinitialise: true,
                        mouseWheelSpeed: 30
                    });
                    i.displayBox(t)
        };
        i.showSchedule = function (t, n, r) {
            this.resetBox();
            u.css({
                maxWidth: "960px",
                maxHeight: "90%"
            });
            e.ajax({
                url: "Schedule.html",
                dataType: "html",
                type: "post",
                data: "getSchedule=" + n + "&cat=" + t + "&day=" + r,
                success: function (t) {
                    t = e("<div>")
                        .addClass("formContent")
                        .html(t)
                        .appendTo(u);
                    t.jScrollPane({
                        autoReinitialise: true,
                        mouseWheelSpeed: 30
                    });
                    e(".changeSchedule")
                        .click(function () {
                            e(".currentChangeSchedule")
                                .removeClass("currentChangeSchedule");
                            e(".currentSchedule")
                                .each(function () {
                                    e(this)
                                        .removeClass("currentSchedule")
                                });
                            e("#h_" + e(this)
                                    .attr("id"))
                                .addClass("currentSchedule");
                            e(this)
                                .addClass("currentChangeSchedule")
                        });
                    i.addBlocks();
                    i.displayBox(t)
                }
            })
        };
        i.resetBlocks = function () {
            e(".block")
                .each(function () {
                    e(this)
                        .remove()
                })
        };
        i.addBlocks = function () {
            var t = e("#codeFriendlyDayFormat")
                .val();
            e.getJSON("Public/data/schedulesBlocks.json", function (n) {
                return function (n) {
                    e(".schedule")
                        .each(function () {
                            var r = 50;
                            var i = 40;
                            var s = e(this);
                            var o = s.children(".scheduleID")
                                .val();
                            var u = s.children(".scheduleTory")
                                .val();
                            var a = s.children(".scheduleOpenTimeNumber")
                                .val();
                            var f = s.children(".scheduleCloseTimeNumber")
                                .val();
                            var l = s.children(".scheduleOpenTime")
                                .val();
                            var c = s.children(".scheduleCloseTime")
                                .val();
                            var h = s.children(".scheduleCategoryID")
                                .val();
                            var p = e("#Form")
                                .width();
                            if (p < 800) p = 800;
                            var d = (f - a + 2) * r;
                            var v = (p - i) / u;
                            var m = new Kinetic.Stage({
                                container: "scheduleImage_" + o,
                                width: p,
                                height: d
                            });
                            var g = new Kinetic.Layer;
                            var y = new Kinetic.Rect({
                                x: 0,
                                y: 0,
                                width: p,
                                height: r,
                                fill: "#6d5588"
                            });
                            g.add(y);
                            g.add(new Kinetic.Text({
                                x: 20,
                                y: 15,
                                text: "Legenda:",
                                fontSize: 12,
                                fontFamily: "RobotoCond",
                                fill: "#fff"
                            }));
                            var w = 40;
                            g.add(new Kinetic.Rect({
                                x: i + 30 - w,
                                y: 30,
                                width: 45,
                                height: 25,
                                fill: "#B286AA"
                            }));
                            g.add(new Kinetic.Text({
                                x: i + 70 - w,
                                y: 30,
                                width: 100,
                                height: 25,
                                text: "- Rezerwacja",
                                align: "center",
                                padding: 5,
                                fontSize: 14,
                                fontFamily: "RobotoCond",
                                fill: "#fff"
                            }));
                            if (h !== "12") {
                                g.add(new Kinetic.Rect({
                                    x: i + 170 - w,
                                    y: 30,
                                    width: 45,
                                    height: 25,
                                    fill: "#86ADB2"
                                }));
                                g.add(new Kinetic.Text({
                                    x: i + 210 - w,
                                    y: 30,
                                    width: 100,
                                    height: 25,
                                    text: "- Aqua Aerobik",
                                    align: "center",
                                    padding: 5,
                                    fontSize: 14,
                                    fontFamily: "RobotoCond",
                                    fill: "#fff"
                                }));
                                g.add(new Kinetic.Rect({
                                    x: i + 310 - w,
                                    y: 30,
                                    width: 45,
                                    height: 25,
                                    fill: "#8688B1"
                                }));
                                g.add(new Kinetic.Text({
                                    x: i + 350 - w,
                                    y: 30,
                                    width: 120,
                                    height: 25,
                                    text: "- Nauka pływania",
                                    align: "center",
                                    padding: 5,
                                    fontSize: 14,
                                    fontFamily: "RobotoCond",
                                    fill: "#fff"
                                }))
                            } else {
                                g.add(new Kinetic.Rect({
                                    x: i + 310 - w,
                                    y: 30,
                                    width: 45,
                                    height: 25,
                                    fill: "#8688B1"
                                }));
                                g.add(new Kinetic.Text({
                                    x: i + 350 - w,
                                    y: 30,
                                    width: 120,
                                    height: 25,
                                    text: "- Nauka jazdy",
                                    align: "center",
                                    padding: 5,
                                    fontSize: 14,
                                    fontFamily: "RobotoCond",
                                    fill: "#fff"
                                }))
                            }
                            g.add(new Kinetic.Rect({
                                x: i + 470 - w,
                                y: 30,
                                width: 45,
                                height: 25,
                                fill: "#C68889"
                            }));
                            g.add(new Kinetic.Text({
                                x: i + 510 - w,
                                y: 30,
                                width: 140,
                                height: 25,
                                text: "- Przerwa techniczna",
                                align: "center",
                                padding: 5,
                                fontSize: 14,
                                fontFamily: "RobotoCond",
                                fill: "#fff"
                            }));
                            g.add(new Kinetic.Rect({
                                x: i + 650 - w,
                                y: 30,
                                width: 45,
                                height: 25,
                                fill: "#31516c"
                            }));
                            g.add(new Kinetic.Text({
                                x: i + 670 - w,
                                y: 30,
                                width: 100,
                                height: 25,
                                text: "- Inne",
                                align: "center",
                                padding: 5,
                                fontSize: 14,
                                fontFamily: "RobotoCond",
                                fill: "#fff"
                            }));
                            g.add(new Kinetic.Rect({
                                x: i + 750 - w,
                                y: 30,
                                width: 22,
                                height: 25,
                                fill: "#F1EAF2"
                            }));
                            g.add(new Kinetic.Rect({
                                x: i + 750 - w + 22,
                                y: 30,
                                width: 22,
                                height: 25,
                                fill: "#E6DCE5"
                            }));
                            g.add(new Kinetic.Text({
                                x: i + 770 - w,
                                y: 30,
                                width: 100,
                                height: 25,
                                text: "- Bilety",
                                align: "center",
                                padding: 5,
                                fontSize: 14,
                                fontFamily: "RobotoCond",
                                fill: "#fff"
                            }));
                            var E = new Kinetic.Rect({
                                x: 0,
                                y: r,
                                width: p,
                                height: r,
                                fill: "#6d5588"
                            });
                            g.add(E);
                            var S = new Kinetic.Rect({
                                x: 0,
                                y: r * 2,
                                width: i,
                                height: d,
                                fill: "#E9E4E8"
                            });
                            g.add(S);
                            var x = new Kinetic.Text({
                                x: 6,
                                y: r + 25,
                                text: "GODZ",
                                fontSize: 13,
                                fontFamily: "RobotoCond",
                                fill: "#fff"
                            });
                            g.add(x);
                            for (var T = 0; T < u; T++) {
                                var N;
                                if (T % 2 == 0) {
                                    N = "#F1EAF2"
                                } else {
                                    N = "#E6DCE5"
                                }
                                var C = d - r;
                                var k = new Kinetic.Rect({
                                    x: i + v * T,
                                    y: r * 2,
                                    width: v,
                                    height: d,
                                    fill: N
                                });
                                g.add(k);
                                if (u > 1) {
                                    var L = new Kinetic.Text({
                                        x: i + v * T,
                                        y: r,
                                        width: v,
                                        text: "Tor " + (T + 1),
                                        fontSize: 20,
                                        fontFamily: "RobotoCond",
                                        align: "center",
                                        fill: "#fff",
                                        padding: 20
                                    });
                                    g.add(L)
                                }
                            }
                            var C = a;
                            var A;
                            for (var T = r * 3; T <= d; T += r) {
                                A = +T + +.5;
                                var O = new Kinetic.Line({
                                    points: [0, A, p, A],
                                    stroke: "#DFD4DF",
                                    strokeWidth: 1
                                });
                                g.add(O);
                                var L;
                                if (T === r * 3) {
                                    L = l;
                                    if (L.indexOf("0") === 0) {
                                        L = L.substr(1, L.length - 1)
                                    }
                                } else {
                                    L = C + ":00"
                                }
                                var L = new Kinetic.Text({
                                    x: 5,
                                    y: A - 44,
                                    text: L,
                                    fill: "#862E78",
                                    fontSize: 12,
                                    fontFamily: "RobotoCond",
                                    fontStyle: "bold"
                                });
                                g.add(L);
                                C++
                            }
                            A = +T + +.5;
                            var L = new Kinetic.Text({
                                x: 5,
                                y: A - 44,
                                text: c,
                                fill: "#862E78",
                                fontSize: 12,
                                fontFamily: "RobotoCond",
                                fontStyle: "bold"
                            });
                            g.add(L);
                            var M = 0;
                            var _ = new Array;
                            var D = new Array;
                            for (var T = 0; T < n.length; T++) {
                                if (n[T].day == t && n[T].id_schedule == o) {
                                    D[M] = n[T].color;
                                    var P = r * 2;
                                    var H = i;
                                    var B = v;
                                    var j = r;
                                    var F = r / 60;
                                    var I = P + j * (n[T].hourFrom - a) + n[T].minFrom * F;
                                    var q = H + B * (n[T].firstTor - 1);
                                    var p = B * n[T].tory;
                                    var d = n[T].minutes * F;
                                    _[M] = new Kinetic.Rect({
                                        x: q,
                                        y: I,
                                        width: p,
                                        height: d,
                                        fill: D[M],
                                        stroke: "#DFD4DF"
                                    });
                                    g.add(_[M]);
                                    if (n[T].minutes >= 45) {
                                        var R = new Kinetic.Text({
                                            x: q + 4,
                                            y: I + 4,
                                            text: n[T].hourFrom + ":" + n[T].minFrom,
                                            fill: "#fff",
                                            fontFamily: "RobotoCond",
                                            fontSize: 11
                                        });
                                        var U = new Kinetic.Text({
                                            x: q + 4,
                                            y: I + d - 14,
                                            text: n[T].hourTo + ":" + n[T].minTo,
                                            fill: "#fff",
                                            fontFamily: "RobotoCond",
                                            fontSize: 11
                                        });
                                        var z = n[T].typeName === "Inne" ? "" : n[T].typeName;
                                        if (n[T].name !== "") {
                                            z += n[T].typeName === "Inne" ? "" : " - ";
                                            z += n[T].name
                                        }
                                        var W = new Kinetic.Text({
                                            x: q,
                                            y: I + (d / 2 - 7),
                                            width: p,
                                            height: d - (d / 2 - 7),
                                            fill: "#fff",
                                            text: z,
                                            align: "center",
                                            fontFamily: "RobotoCond",
                                            fontSize: 14
                                        });
                                        g.add(R);
                                        g.add(U);
                                        g.add(W)
                                    }
                                    M++
                                }
                            }
                            m.add(g)
                        })
                }
            }(this))
        };
        i.showForm = function (t) {
            this.resetBox();
            u.css({
                maxHeight: "90%"
            });
            e.ajax({
                url: t,
                dataType: "html",
                success: function (t) {
                    t = e("<div>")
                        .addClass("formContent")
                        .html(t)
                        .appendTo(u);
                    t.jScrollPane({
                        autoReinitialise: true,
                        mouseWheelSpeed: 30
                    });
                    i.setupForm();
                    i.displayBox(t)
                }
            })
        };
        i.setupForm = function () {
            e(".date")
                .datepicker({
                    dateFormat: "dd.mm.yy"
                });
            e("#sendButton")
                .click(function (t) {
                    if (i.validate(e("#Form"))) {
                        e.ajax({
                            url: "SendForm.html",
                            type: "post",
                            data: e("#eventForm")
                                .serialize(),
                            success: function (t) {
                                if (t == "ERROR") {
                                    e("#errorStatement")
                                        .text("Wystąpił nieoczekiwany błąd! Spróbuj ponownie!")
                                        .show()
                                        .delay(2e3)
                                        .fadeOut(1e3);
                                    e(".formContent")
                                        .data("jsp")
                                        .scrollTo(0, 0)
                                } else {
                                    e(".clearable")
                                        .each(function () {
                                            e(this)
                                                .val("")
                                        });
                                    e(".ajaxImageUploaded")
                                        .each(function () {
                                            e(this)
                                                .html("")
                                        });
                                    e("#successStatement")
                                        .show()
                                        .delay(2e3)
                                        .fadeOut(1e3);
                                    e(".formContent")
                                        .data("jsp")
                                        .scrollTo(0, 0)
                                }
                            }
                        })
                    } else {
                        e(".formContent")
                            .data("jsp")
                            .scrollTo(0, 0);
                        e("#errorStatement")
                            .text("Wypełnij wszystkie pola formularza!")
                            .show()
                            .delay(2e3)
                            .fadeOut(1e3)
                    }
                });
            e("#ticketPriceOwnSkates")
                .click(function () {
                    var t = e(this)
                        .children("option:selected")
                        .val()
                        .split(",");
                    if (t[0] === "0") {
                        e(".tickets")
                            .show();
                        e("#ticketPriceOwnSkates0TicketType")
                            .hide();
                        e("#ticketPriceOwnSkates1TicketType")
                            .show();
                        e(".ownSkates")
                            .show()
                        e("#ticketPriceOwnSkates2TicketType")
                            .hide();
                    }
                    


					else if (e(this)
                        .children("option:selected")
                        .index() === 2) {
                        e(".tickets")
                            .hide();
                        e(".ownSkates")
                            .hide()
                    } else {
                        e(".tickets")
                            .show();
                        e("#ticketPriceOwnSkates0TicketType")
                            .show();
                        e("#ticketPriceOwnSkates1TicketType")
                            .hide();
                        e(".ownSkates")
                            .hide()
                    }
                });
            e("#ticketPricePoolType")
                .click(function () {
                    var t = e(this)
                        .children("option:selected")
                        .val()
                        .split(",");

                });
			e("#ticketPriceCard")
                .click(function () {
                    var t = e(this)
                        .children("option:selected")
                        .val()
                        .split(",");
				//	if ("#ticketPriceOwnSkates option:selected" == 1)
					if ( 1 == 1)
					{
						if (t[0] === "0") {
	
						}
						 if (e(this)
							.children("option:selected") // jesli wybrano karte duzej rodziny
							.index() === 4) {
							e("#3").hide();           // ukrywanie lodowiska
							e("#sportowa1").hide(); 	
							e("#sportowa2").hide(); 
							e("#rodzinna1").hide();
							e("#rodzinna2").hide();
							e("#rodzinna3").hide();
							e("#rodzinna4").hide();
							e("#kameralna1").hide();
							e("#kameralna2").hide();
							e("#kameralna3").hide();
							e("#kameralna4").hide();
							e("#plaza1").hide();
							e("#plaza2").hide();
							
						}
						else if (e(this)
							.children("option:selected")   // jesli wybrano karte seniora
							.index() === 5) {
							e("#3").hide();           // ukrywanie lodowiska
							e("#sportowa1").hide(); 	
							e("#sportowa2").hide(); 
							e("#rodzinna1").hide();
							e("#rodzinna2").hide();
							e("#rodzinna3").hide();
							e("#rodzinna4").hide();
							e("#kameralna1").hide();
							e("#kameralna2").hide();
							e("#kameralna3").hide();
							e("#kameralna4").hide();
							e("#plaza1").hide();
							e("#plaza2").hide();
						}						
						
						else 
						{ 
							e("#3").show();
							e("#sportowa1").show();
							e("#sportowa2").show();
							e("#rodzinna1").show();
							e("#rodzinna2").show();
							e("#rodzinna3").show();
							e("#rodzinna4").show();
							e("#kameralna1").show();
							e("#kameralna2").show();
							e("#kameralna3").show();
							e("#kameralna4").show();
							e("#plaza1").show();
							e("#plaza2").show();							
						}
					}
                });
            e("#ticketPriceWeekDays")
                .click(function () {
                    var t = e(this)
                        .children("option:selected")
                        .val();
                    if (t === "0") {
                        e("#ticketPriceTicketType0")
                            .show();
                        e("#ticketPriceTicketType1")
                            .hide()
                    } else {
                        e("#ticketPriceTicketType0")
                            .hide();
                        e("#ticketPriceTicketType1")
                            .show()
                    }
                });
            e("#ticketPriceTimeInterval")
                .click(function () {
                    var t = e(this)
                        .children("option:selected")
                        .val();
                    e(".option1, .option2")
                        .hide();
                    e(".option" + t)
                        .show();
                    e("#ticketPriceWaterDreamLiners" + (3 - t))
                        .hide();
                    var n = e("#ticketPriceWaterDreamLiners" + t);
                    n.show();
                    if (n.children("option:selected")
                        .hasClass("hideTime") || t === "0") {
                        e(".option3")
                            .hide()
                    } else {
                        e(".option3")
                            .show()
                    }
                });
            e("#ticketPriceTimeHours, #ticketPriceTimeMinutes")
                .focus(function () {
                    var t = e(this)
                        .val()
                        .split(" ");
                    t = t[0];
                    e(this)
                        .val(t)
                });
            e("#ticketPriceStartTime")
                .focus(function () {
                    e(this)
                        .val("")
                });
            e("#ticketPriceStartTime")
                .blur(function () {
                    var t = e(this)
                        .val();
                    if (t === "") {
                        e(this)
                            .val("12:00")
                    } else if (t.indexOf(":") === -1) {
                        var n = t;
                        var r = "00";
                        if (n.length === 1) n = "0" + n;
                        else if (n.length === 3) n = n.substr(0, 2);
                        if (n > 22) n = 22;
                        else if (n < 6) n = 6;
                        e(this)
                            .val(n + ":" + r)
                    } else if (t.indexOf(":") !== 0 && t.indexOf(":") !== 4) {
                        t = t.split(":");
                        var n = t[0];
                        var r = t[1];
                        if (n.length === 1) n = "0" + n;
                        else if (n.length === 3) n = n.substr(0, 2);
                        if (n > 22) n = 22;
                        else if (n < 6) n = 6;
                        if (r > 59) r = 59;
                        if (r.length === 1) r = "0" + r;
                        else if (r.length === 3) r = r.substr(0, 2);
                        e(this)
                            .val(n + ":" + r)
                    }
                    var s = e("#ticketPriceWeekDays")
                        .children("option:selected")
                        .val();
                    var o = e("#ticketPriceStartTime")
                        .val()
                        .split(":");
                    o = +(o[0] * 60) + +o[1];
                    var u = i.getTimeVariant(s, o);
                    e("#ticketPriceTicketType" + u)
                        .show();
                    e("#ticketPriceTicketType" + (1 - u))
                        .hide();
                    i.countTicket()
                });
            e("#ticketPriceStartTime")
                .keypress(function (t) {
                    var n = e(this)
                        .val();
                    if ((t.which >= 48 && t.which <= 57 || t.which === 58) && n.length < 5 || (t.keyCode === 46 || t.which === 8) && n.length <
                        6) {} else {
                        t.preventDefault()
                    }
                });
            e("#ticketPriceTimeHours")
                .blur(function () {
                    var t = e(this)
                        .val();
                    var n = " godzin";
                    if (!i.isInt(t) || t === "" || !i.isNumeric(t) || t < 1) t = "0";
                    if (t === "1") n = " godzinę";
                    else if (t % 10 > 1 && t % 10 < 5) n = " godziny";
                    e(this)
                        .val(t + n);
                    i.countTicket()
                });
            e("#ticketPriceTimeMinutes")
                .blur(function () {
                    var t = e(this)
                        .val();
                    var n = " minut";
                    if (t > 59) t = 59;
                    if (!i.isInt(t) || t === "" || !i.isNumeric(t) || t < 1) t = "0";
                    if (t === "1") n = " minutę";
                    else if (t % 10 > 1 && t % 10 < 5) n = " minuty";
                    e(this)
                        .val(t + n);
                    i.countTicket()
                });
            e("#countingForm select")
                .change(function () {
                    if (e(this)
                        .hasClass("ticketPriceWaterDreamLiners")) {
                        if (e(this)
                            .children("option:selected")
                            .hasClass("hideTime")) {
                            e(".option3")
                                .hide()
                        } else {
                            e(".option3")
                                .show()
                        }
                    }
                    i.countTicket()
                });
            i.countTicket();
            this.setupFotoUpload()
        };
        i.countTicket = function () {
            var t = e("#ticketPriceType")
                .val();
            if (typeof t !== "undefined") {
                var n = e("#ticketPriceTimeMinutes")
                    .val()
                    .split(" ");
                var r = n[0];
                n = e("#ticketPriceTimeHours")
                    .val()
                    .split(" ");
                if (n[0] > 1) r = +r + +((n[0] - 1) * 60)
            }
            if (t === "lodowisko") {
                var s = e("#ticketPriceOwnSkates")
                    .children("option:selected");
                var o = s.index();
                s = s.val()
                    .split(",");
                r = Math.ceil(r / 5);
                var u = e("#ticketPriceCard")
                    .children("option:selected")
                    .val();
                var t = e("#ticketPriceOwnSkates" + o + "TicketType")
                    .children("option:selected")
                    .val();
                t = t.split(",");
                var a = e("#ticketPriceSharperingSkates")
                    .children("option:selected")
                    .val();
                a = a.split(",");
                var f = e("#ticketPriceNicePinguin")
                    .children("option:selected")
                    .val();
                f = f.split(",");
                var l = +t[0] + +f[0];
                l = l + +(t[1] * r);
                if (s[0] != 0) {
                    l = l + +(s[1] * r)
                } else {
                    l = l + +a[0]
                }
                l = l + +s[0];
                l = l - l * u;
                l = Math.round(l * 100) / 100;
                e("#CountingResult span")
                    .text(l + " PLN")
            } else if (t === "stadion") {
                var c = e("#ticketPriceTraining")
                    .children("option:selected")
                    .val();
                var h = e("#ticketPriceShower")
                    .children("option:selected")
                    .val();
                r = Math.ceil(r / 60);
                var l = +c + +(c * r) + +h + +(h * r);
                l = Math.round(l * 100) / 100;
                e("#CountingResult span")
                    .text(l + " PLN")
            } else if (t === "basen") {
                var u = e("#ticketPriceCard")
                    .children("option:selected")
                    .val();
                var p = e("#ticketPriceWeekDays")
                    .children("option:selected")
                    .val();
                var d = e("#ticketPricePoolType")
                    .children("option:selected")
                    .val()
                    .split(",");
                var v = e("#ticketPriceStartTime")
                    .val()
                    .split(":");
                v = +(v[0] * 60) + +v[1];
                var l;
                var m;
                if (d[0] === "0") {
                    m = i.getTimeVariant(p, v);
                    var g = e("#ticketPriceTicketType" + m)
                        .children("option:selected")
                        .val()
                        .split(",");
                    var y = e("#ticketPriceTicketType" + m)
                        .children("option:selected")
                        .index();
                    if (m === 0 && v + 60 >= 16 * 60 + 15) {
                        var w = e("#ticketPriceTicketType1")
                            .children("option:eq(" + y + ")")
                            .val()
                            .split(",");
                        var E = 16 * 60 + 15 - (v + 60);
                        var S;
                        alert(E);
                        if (E > 0) {
                            S = r - E;
                            E = Math.ceil(E / 5)
                        } else {
                            S = r;
                            E = 0
                        }
                        alert(E + " - " + g[1]);
                        S = Math.ceil(S / 5);
                        l = +g[0] + +(g[1] * E) + +(w[1] * S)
                    } else {
                        r = Math.ceil(r / 5);
                        l = +g[0] + +(g[1] * r)
                    }
                    l = l - l * u
                } else {
                    var n = e("#ticketPriceTimeMinutes")
                        .val()
                        .split(" ");
                    var r = n[0];
                    n = e("#ticketPriceTimeHours")
                        .val()
                        .split(" ");
                    r = Math.ceil((+r + +(n[0] * 60)) / 45);
                    l = d[0] * r
                }
                l = Math.round(l * 100) / 100;
                e("#CountingResult span")
                    .text(l + " PLN")
            } else if (t === "plaza") {
                var x = e("#ticketPriceTimeInterval")
                    .children("option:selected")
                    .val();
                var l = 0;
                if (x === "0") {} else if (x === "1") {
                    if (n[0] > 0) r = +r + +60;
                    r = Math.ceil(r / 60);
                    var T = e("#ticketPriceWaterDreamLiners1")
                        .children("option:selected")
                        .val();
                    l = T * r
                } else if (x === "2") {
                    var u = e("#ticketPriceCard")
                        .children("option:selected")
                        .val();
                    var g = e("#ticketPriceTicketType")
                        .children("option:selected")
                        .val();
                    var T = e("#ticketPriceWaterDreamLiners2")
                        .children("option:selected")
                        .val();
                    T = T.split(",");
                    r = Math.ceil(r / 10);
                    l = g - g * u;
                    l = +l + +T[0] + +(T[1] * r)
                }
                l = Math.round(l * 100) / 100;
                e("#CountingResult span")
                    .text(l + " PLN")
            }
        };
        i.getTimeVariant = function (e, t) {
            var n;
            if (e === "0") {
                if (t < 16 * 60 + 15) {
                    n = 0
                } else {
                    n = 1
                }
            } else {
                if (t < 7 * 60 + 45) {
                    n = 0
                } else {
                    n = 1
                }
            }
            return n
        };
        i.setupFotoUpload = function () {
            e(".ajaxImageUpload")
                .each(function () {
                    var t = e(this);
                    var n = t.attr("id");
                    var r = n.indexOf("_");
                    if (r >= 0) {
                        n = n.substr(0, r)
                    }
                    new AjaxUpload(t, {
                        action: "SendForm.html",
                        name: n,
                        onSubmit: function (e, n) {
                            this.disable();
                            if (t.hasClass("eventGallery")) {
                                t.text("Wgrywam...")
                            } else {
                                t.text("Wgrywam...")
                            }
                        },
                        onComplete: function (n, r) {
                            this.enable();
                            t.removeClass("error");
                            if (t.hasClass("eventGallery")) {
                                t.text("Edytuj");
                                if (r == "ERROR") {
                                    e("#errorStatement")
                                        .text("Wystąpił błąd podczas ładowania pliku! Spróbuj ponownie!")
                                        .show()
                                        .delay(2e3)
                                        .fadeOut(1e3)
                                } else {
                                    t.next(".ajaxImageUploaded")
                                        .html("<img src='" + r + "' height='30px'/>")
                                }
                                var s = e(".ajaxImageUpload")
                                    .size() - 1;
                                var o = t.parent(".form_input")
                                    .parent(".form_row")
                                    .parent(".form_box");
                                var u = e("<div>")
                                    .addClass("form_row")
                                    .appendTo(o);
                                e("<div>")
                                    .addClass("form_title")
                                    .text("Dodaj zdjęcie:")
                                    .appendTo(u);
                                var a = e("<div>")
                                    .addClass("form_input")
                                    .appendTo(u);
                                e("<div>")
                                    .addClass("ajaxImageUpload")
                                    .addClass("eventGallery")
                                    .attr("id", "eventGallery_" + s)
                                    .text("Wgraj")
                                    .appendTo(a);
                                e("<div>")
                                    .addClass("ajaxImageUploaded")
                                    .appendTo(a);
                                i.setupFotoUpload()
                            } else {
                                t.text("Edytuj");
                                if (r == "ERROR") {
                                    e("#errorStatement")
                                        .text("Wystąpił błąd podczas ładowania pliku! Spróbuj ponownie!")
                                        .show()
                                        .delay(2e3)
                                        .fadeOut(1e3)
                                } else {
                                    t.next(".ajaxImageUploaded")
                                        .html("<img src='" + r + "' height='30px'/>")
                                }
                            }
                        }
                    })
                })
        };
        i.validate = function (t) {
            var n = true;
            e(".validate")
                .each(function () {
                    var t = e(this);
                    if (t.hasClass("notEmpty")) {
                        if (t.val() == "") {
                            t.addClass("error");
                            n = false
                        }
                        t.focus(function () {
                            t.removeClass("error")
                        });
                        t.blur(function () {
                            if (t.val() == "") {
                                t.addClass("error")
                            }
                        })
                    }
                });
            e(".ajaxImageUploaded")
                .each(function () {
                    var t = e(this);
                    if (t.hasClass("notEmpty")) {
                        if (t.html() == "") {
                            t.prev(".ajaxImageUpload")
                                .addClass("error");
                            n = false
                        } else {
                            t.prev(".ajaxImageUpload")
                                .removeClass("error")
                        }
                    }
                });
            return n
        };
        i.isNumeric = function (e) {
            return !isNaN(parseInt(e)) && isFinite(e)
        };
        i.isInt = function (e) {
            return e % 1 === 0
        };
        i.displayBox = function (t) {
            e("body")
                .bind("keyup", function (e) {
                    if (e.which == "27") {
                        i.hideBox()
                    }
                });
            s.show();
            u.css({
                visibility: "visible"
            });
            TweenMax.to(s, .5, {
                css: {
                    autoAlpha: 1
                }
            });
            TweenMax.to(u, .5, {
                css: {
                    autoAlpha: 1
                }
            });
            TweenMax.to(o, .5, {
                css: {
                    autoAlpha: .85
                }
            });
            signals.layout.changed.add(i.onResize, i)
        };
        i.hideBox = function () {
            TweenMax.to(s, .5, {
                css: {
                    autoAlpha: 0
                }
            });
            TweenMax.to(u, .5, {
                css: {
                    autoAlpha: 0
                }
            });
            TweenMax.to(o, .5, {
                css: {
                    autoAlpha: 0
                },
                onComplete: function () {
                    this.resetBox()
                },
                onCompleteScope: this
            });
            signals.layout.galleryClosed.dispatch();
			e("#banner-camera-top, #banner-camera-bottom").css('visibility', 'hidden');
        };
        i.onResize = function () {
            i.resetBlocks();
            i.addBlocks();
            var t = parseInt((e(window)
                .width() - u.width()) / 2);
            var n = (e(window)
                .height() - u.height()) / 2;
            h.css({
                top: 20,
                right: 20
            });
            e(window)
                .scroll()
        };
        i.init()
    };
    e.fn.lightBox = function (t) {
        return this.each(function () {
            if (undefined == e(this)
                .data("lightBox")) {
                var n = new e.lightBox(this, t);
                e(this)
                    .data("lightBox", n)
            }
        })
    }
})($);
(function (e) {
    e.imageGallery = function (t, n) {
        var r = {
            IMAGE_SPACING: 40
        };
        var i = this;
        i.settings = {};
        var s = e(t),
            t = t;
        var o, u, a, f, l, c, h;
        images = [], thumbnails = [], currImageIndex = 0, savedScrollTop = 0;
        i.init = function () {
            i.settings = e.extend({}, r, n);
            o = e("<div>")
                .addClass("overlay")
                .appendTo(s);
            o.on({
                click: function (e) {
                    e.preventDefault();
                    i.hideGallery()
                }
            });
            u = e("#gallery_slider");
            if (app.isDesktop) {
                c = e("<div>")
                    .addClass("next_btn")
                    .appendTo(s);
                e("<div>")
                    .addClass("next_btn_off")
                    .appendTo(c);
                var t = e("<div>")
                    .addClass("next_btn_over")
                    .appendTo(c);
                c.on({
                    click: function (e) {
                        e.preventDefault();
                        i.nextImage()
                    },
                    mouseenter: function (e) {
                        e.preventDefault();
                        TweenMax.to(t, .4, {
                            css: {
                                autoAlpha: 1
                            },
                            overwrite: "auto"
                        })
                    },
                    mouseleave: function (e) {
                        e.preventDefault();
                        TweenMax.to(t, .4, {
                            css: {
                                autoAlpha: 0
                            },
                            overwrite: "auto"
                        })
                    }
                });
                l = e("<div>")
                    .addClass("prev_btn")
                    .appendTo(s);
                e("<div>")
                    .addClass("prev_btn_off")
                    .appendTo(l);
                var a = e("<div>")
                    .addClass("prev_btn_over")
                    .appendTo(l);
                l.on({
                    click: function (e) {
                        e.preventDefault();
                        i.previousImage()
                    },
                    mouseenter: function (e) {
                        e.preventDefault();
                        TweenMax.to(a, .4, {
                            css: {
                                autoAlpha: 1
                            },
                            overwrite: "auto"
                        })
                    },
                    mouseleave: function (e) {
                        e.preventDefault();
                        TweenMax.to(a, .4, {
                            css: {
                                autoAlpha: 0
                            },
                            overwrite: "auto"
                        })
                    }
                })
            }
            h = e("<div>")
                .addClass("close_gallery")
                .appendTo(s);
            var f = e("<div>")
                .addClass("close_gallery_over")
                .appendTo(h);
            h.on({
                click: function (e) {
                    e.preventDefault();
                    i.hideGallery()
                },
                mouseenter: function (e) {
                    e.preventDefault();
                    TweenMax.to(f, .4, {
                        css: {
                            autoAlpha: 1
                        },
                        overwrite: "auto"
                    })
                },
                mouseleave: function (e) {
                    e.preventDefault();
                    TweenMax.to(f, .4, {
                        css: {
                            autoAlpha: 0
                        },
                        overwrite: "auto"
                    })
                }
            });
            if (app.isIOS) {
                s.css({
                    position: "absolute",
                    top: 0,
                    left: 0
                });
                h.css({
                    top: e(document)
                        .scrollTop() + h.height() / 2
                });
                e(window)
                    .scroll(function () {
                        var t = e(document)
                            .scrollTop() + (e(window)
                                .height() - u.height()) / 2;
                        u.css({
                            top: t
                        });
                        h.css({
                            top: e(document)
                                .scrollTop() + h.height() / 2
                        })
                    });
                var v = e(document)
                    .scrollTop() + (e(window)
                        .height() - u.height()) / 2;
                h.css({
                    top: e(document)
                        .scrollTop() + h.height() / 2
                })
            }
        };
        i.resetGallery = function () {
            if (app.isDesktop) {
                l.css({
                    visibility: "visible",
                    opacity: 1
                });
                c.css({
                    visibility: "visible",
                    opacity: 1
                })
            }
            if (u.data("royalSlider") !== undefined) {
                u.data("royalSlider")
                    .destroy();
                u.remove()
            }
            signals.layout.changed.remove(this.onResize, this)
        };
        i.loadGallery = function (t, n) {
            this.resetGallery();
            e.ajax({
                url: t,
                dataType: "html",
                success: function (t) {
                    u = e("<div>")
                        .addClass("royalSlider")
                        .addClass("rsDefaultInv")
                        .appendTo(s);
                    u.html(t);
                    i.displayGallery(n)
                }
            })
        };
        i.displayGallery = function (t) {
            e("body")
                .bind("keyup", function (e) {
                    if (e.which == "27") {
                        i.hideGallery()
                    }
                });
            s.show();
            u.css({
                visibility: "visible"
            });
            t = t || 0;
            if (t == 0) {
                u.royalSlider({
                    arrowsNav: false,
                    controlNavigation: "bullets",
                    autoScaleSlider: false,
                    loop: false,
                    keyboardNavEnabled: true,
                    navigateByClick: false,
                    fadeinLoadedSlide: false,
                    startSlideId: -1
                })
            } else {
                u.royalSlider({
                    arrowsNav: false,
                    controlNavigation: "bullets",
                    autoScaleSlider: false,
                    loop: false,
                    keyboardNavEnabled: true,
                    navigateByClick: false,
                    fadeinLoadedSlide: false,
                    startSlideId: 0
                })
            }
            TweenMax.to(s, .5, {
                css: {
                    autoAlpha: 1
                }
            });
            TweenMax.to(u, .5, {
                css: {
                    autoAlpha: 1
                }
            });
            TweenMax.to(o, .5, {
                css: {
                    autoAlpha: .85
                }
            });
            this.showImage(t);
            this.onResize();
            signals.layout.changed.add(this.onResize, this)
        };
        i.showImage = function (e) {
            u.data("royalSlider")
                .goTo(e)
        };
        i.nextImage = function () {
            u.data("royalSlider")
                .next();
            if (currImageIndex < images.length - 1) {
                this.showImage(currImageIndex + 1)
            }
        };
        i.previousImage = function () {
            u.data("royalSlider")
                .prev();
            if (currImageIndex > 0) {
                this.showImage(currImageIndex - 1)
            }
        };
        i.onResize = function () {
            var t = parseInt((e(window)
                .width() - u.width()) / 2);
            var n = (e(window)
                .height() - u.height()) / 2;
            if (app.isIOS) {
                u.css({
                    left: t,
                    top: n
                })
            } else {
                u.css({
                    left: t,
                    top: n
                })
            }
            if (u.data("royalSlider") !== undefined) {
                u.data("royalSlider")
                    .updateSliderSize()
            }
            if (app.isDesktop) {
                var r = 40;
                var i = parseInt(e(window)
                    .width() - c.width() - 40);
                var s = parseInt(n + u.height() / 2 - c.height() / 2);
                l.css({
                    left: r,
                    top: s
                });
                c.css({
                    left: i,
                    top: s
                })
            }
            h.css({
                top: 20,
                right: 20
            });
            e(window)
                .scroll()
        };
        i.hideGallery = function () {
            TweenMax.to(s, .5, {
                css: {
                    autoAlpha: 0
                }
            });
            TweenMax.to(u, .5, {
                css: {
                    autoAlpha: 0
                }
            });
            TweenMax.to(o, .5, {
                css: {
                    autoAlpha: 0
                },
                onComplete: function () {
                    this.resetGallery()
                },
                onCompleteScope: this
            });
            signals.layout.galleryClosed.dispatch()
        };
        i.init()
    };
    e.fn.imageGallery = function (t) {
        return this.each(function () {
            if (undefined == e(this)
                .data("imageGallery")) {
                var n = new e.imageGallery(this, t);
                e(this)
                    .data("imageGallery", n)
            }
        })
    }
})($);
(function (e) {
    function t() {
        if (!c) {
            c = !0;
            for (var t in f) {
                e(t)
                    .each(function () {
                        var n, r;
                        n = e(this), r = n.data("jqae"), (r.containerWidth != n.width() || r.containerHeight != n.height()) && a(n, f[t])
                    })
            }
            c = !1
        }
    }

    function n(e) {
        f[e] && (delete f[e], f.length || l && (window.clearInterval(l), l = undefined))
    }

    function r(e, n) {
        f[e] = n, l || (l = window.setInterval(function () {
            t()
        }, 200))
    }

    function i() {
        return this.nodeType === 3
    }

    function s(t) {
        if (t.contents()
            .length) {
            var n = t.contents(),
                r = n.eq(n.length - 1);
            if (r.filter(i)
                .length) {
                var o = r.get(0)
                    .nodeValue;
                o = e.trim(o);
                if (o == "") {
                    r.remove();
                    return !0
                }
                return !1
            }
            while (s(r)) {}
            if (r.contents()
                .length) {
                return !1
            }
            r.remove();
            return !0
        }
        return !1
    }

    function o(e) {
        if (e.contents()
            .length) {
            var t = e.contents(),
                n = t.eq(t.length - 1);
            return n.filter(i)
                .length ? n : o(n)
        }
        e.append("");
        var t = e.contents();
        return t.eq(t.length - 1)
    }

    function u(t) {
        var n = o(t);
        if (n.length) {
            var r = n.get(0)
                .nodeValue,
                i = r.lastIndexOf(" ");
            i > -1 ? (r = e.trim(r.substring(0, i)), n.get(0)
                    .nodeValue = r) : n.get(0)
                .nodeValue = "";
            return !0
        }
        return !1
    }

    function a(t, n) {
        var r = t.data("jqae");
        r || (r = {});
        var i = r.wrapperElement;
        i || (i = t.wrapInner("<div/>")
            .find(">div"), i.css({
                margin: 0,
                padding: 0,
                border: 0
            }));
        var a = i.data("jqae");
        a || (a = {});
        var f = a.originalContent;
        f ? i = a.originalContent.clone(!0)
            .data("jqae", {
                originalContent: f
            })
            .replaceAll(i) : i.data("jqae", {
                originalContent: i.clone(!0)
            }), t.data("jqae", {
                wrapperElement: i,
                containerWidth: t.width(),
                containerHeight: t.height()
            });
        var l = t.height(),
            c = (parseInt(t.css("padding-top"), 10) || 0) + (parseInt(t.css("border-top-width"), 10) || 0) - (i.offset()
                .top - t.offset()
                .top),
            h = !1,
            p = i;
        n.selector && (p = e(i.find(n.selector)
            .get()
            .reverse())), p.each(function () {
            var t = e(this),
                r = t.text(),
                a = !1;
            if (i.innerHeight() - t.innerHeight() > l + c) {
                t.remove()
            } else {
                s(t);
                if (t.contents()
                    .length) {
                    h && (o(t)
                        .get(0)
                        .nodeValue += n.ellipsis, h = !1);
                    while (i.innerHeight() > l + c) {
                        a = u(t);
                        if (!a) {
                            h = !0, t.remove();
                            break
                        }
                        s(t);
                        if (t.contents()
                            .length) {
                            o(t)
                                .get(0)
                                .nodeValue += n.ellipsis
                        } else {
                            h = !0, t.remove();
                            break
                        }
                    }
                    n.setTitle == "onEllipsis" && a || n.setTitle == "always" ? t.attr("title", r) : n.setTitle != "never" && t.removeAttr(
                        "title")
                }
            }
        })
    }
    var f = {},
        l, c = !1,
        h = {
            ellipsis: "...",
            setTitle: "never",
            live: !1
        };
    e.fn.ellipsis = function (t, i) {
        var s, o;
        s = e(this), typeof t != "string" && (i = t, t = undefined), o = e.extend({}, h, i), o.selector = t, s.each(function () {
            var t = e(this);
            a(t, o)
        }), o.live ? r(s.selector, o) : n(s.selector);
        return this
    }
})(jQuery);
var app = {};
app.config = {
    window: {
        MAX_WIDTH: 1440
    },
    grid: {
        MAX_WIDTH: 980,
        MAX_COLS: 20,
        MAX_ROWS: 99
    },
    buckets: {
        MAX_SCALE: 1.2,
        MIN_SCALE: .8,
        FULL_WIDTH: 512,
        FULL_HEIGHT: 256,
        MIN_WIDTH_ONE_COL: 385,
        MIN_WIDTH: 385,
        MIN_HEIGHT: 250,
        MAX_HEIGHT: 280,
        MOBILE_WIDTH: 320,
        MOBILE_HEIGHT: 180,
        BORDER_SPACING: 1
    }
};
var Signal = signals.Signal;
app.buckets = function (e, t) {
    var n = new Array;
    var r = true;
    var i = false;
    var s = null;
    var o = {};
    var u = {};
    var a = {};
    var f = {};
    var l = 1,
        c = 1;
    var h = [];
    var p = "images/";
    var d;
    var v;
    if (app.isRetina) {} else {}
    d = [];
    return {
        init: function () {
            e(document)
                .ajaxStart(function () {
                    e("#formLoader")
                        .show()
                })
                .ajaxComplete(function () {
                    e("#formLoader")
                        .hide()
                });
            e("#FacebookBox")
                .hover(function () {
                    TweenMax.to(e(this), .5, {
                        css: {
                            right: 0
                        }
                    })
                }, function () {
                    TweenMax.to(e(this), .5, {
                        css: {
                            right: "-242px"
                        }
                    })
                });
            e("#FormSala")
                .click(function (t) {
                    t.preventDefault();
                    e("#lightbox")
                        .data("lightBox")
                        .showForm("kamera.php");
					e('#lightbox .contentBox').append(e('#banner-camera-top, #banner-camera-bottom'));
					e("#banner-camera-top, #banner-camera-bottom").css('visibility', 'visible');
                });
            e("#FormCamera")
                .click(function (t) {
                    t.preventDefault();
                    e("#lightbox")
                        .data("lightBox")
                        .showForm("Public/data/forms/rezerwuj_sale.html");
                });
            e("img.hover_off")
                .hover(function () {
                    e(this)
                        .stop()
                        .animate({
                            opacity: "0"
                        }, 400)
                }, function () {
                    e(this)
                        .stop()
                        .animate({
                            opacity: "1"
                        }, 400)
                });
            e("#projects")
                .hide();
            e(".bucket")
                .each(function () {
                    n.push(e(this))
                });
            e("#gallery")
                .imageGallery();
            e("#lightbox")
                .lightBox();
            var t;
            e("#search_box")
                .click(function () {
                    if (!e(this)
                        .hasClass("active")) {
                        e("#search_box_slide")
                            .slideDown();
                        e("#search_box")
                            .addClass("active")
                    } else {
                        e("#search_box_slide")
                            .slideUp();
                        e("#search_box")
                            .removeClass("active")
                    }
                });
            e("#site_right")
                .mouseleave(function () {
                    if (t) clearTimeout(t);
                    t = setTimeout(function () {
                        e("#search_box_slide")
                            .slideUp();
                        e("#search_box")
                            .removeClass("active")
                    }, 3e3)
                });
            e("#site_right")
                .mouseenter(function () {
                    if (t) clearTimeout(t)
                });
            var r;
            e("#Newsletter")
                .click(function () {
                    if (!e(this)
                        .hasClass("active")) {
                        e(this)
                            .addClass("active");
                        e("#Newsletter_box")
                            .addClass("activeNewsletterBox");
                        e("#Newsletter_box_slide")
                            .slideDown();
                        e("#InputNewsletter")
                            .focus()
                    } else {
                        e(this)
                            .removeClass("active");
                        e("#Newsletter_box")
                            .removeClass("activeNewsletterBox");
                        e("#Newsletter_box_slide")
                            .slideUp()
                    }
                });
            e("#Newsletter_box")
                .mouseleave(function () {
                    if (r) clearTimeout(r);
                    r = setTimeout(function () {
                        e("#Newsletter")
                            .removeClass("active");
                        e("#Newsletter_box")
                            .removeClass("activeNewsletterBox");
                        e("#Newsletter_box_slide")
                            .slideUp()
                    }, 3e3)
                });
            e("#Newsletter_box")
                .mouseenter(function () {
                    if (r) clearTimeout(r)
                });
            e("#AddNewsletter")
                .click(function () {
                    var t = e("#InputNewsletter");
                    if (t.val() === "") {} else {
                        e.ajax({
                            url: "SendForm.html",
                            data: "newsletter_add=" + t.val(),
                            type: "post",
                            success: function (n) {
                                alert("Adres został pomyślnie dodany do newslettera!");
                                t.val("");
                                e("#Newsletter")
                                    .removeClass("active");
                                e("#Newsletter_box")
                                    .removeClass("activeNewsletterBox");
                                e("#Newsletter_box_slide")
                                    .slideUp()
                            }
                        })
                    }
                });
            e("#IconUcho")
                .on({
                    click: function (t) {
                        t.preventDefault();
                        e("#lightbox")
                            .data("lightBox")
                            .showSmartyBox(49)
                    }
                });
            e(".project_content a")
                .each(function () {
                    e(this)
                        .css({
                            color: "#A4248D"
                        });
                    e(this)
                        .click(function () {
                            window.open(e(this)
                                .attr("href"))
                        })
                });
            var i = getCookie("statement");
            if (i == null || i != "true") {
                e("#lightbox")
                    .data("lightBox")
                    .showSmartyBox(50);
                setCookie("statement", "true", 365)
            }
            signals.layout.changed.add(app.buckets.onResize, app.buckets);
            signals.layout.buildCompleted.add(app.buckets.handleBuildComplete, app.buckets);
            signals.layout.closeBucketClicked.add(app.buckets.onCloseBucketClicked, app.buckets);
            signals.layout.bucketExpanded.add(app.buckets.onBucketExpanded, app.buckets);
            signals.layout.galleryClosed.add(app.buckets.onGalleryClosed, app.buckets);
            signals.layout.videoLoaded.add(app.buckets.onVideoLoaded, app.buckets)
        },
        loadProjects: function () {
            e.getJSON("Public/data/projects.json", function (t) {
                return function (r) {
                    e.each(r, function (e, t) {
                        o[r[e].name] = r[e]
                    });
                    var i = new Array;
                    for (r = 0; r < n.length; r++) {
                        if (typeof o[n[r].data()
                                .id] !== "undefined") {
                            i.push(n[r])
                        }
                    }
                    t.preloadImages()
                }
            }(this));
            e.getJSON("Public/data/bucketFiles.json", function (t) {
                return function (t) {
                    e.each(t, function (e, n) {
                        if (typeof u[t[e].id_bucket] === "undefined") {
                            u[t[e].id_bucket] = new Array
                        }
                        u[t[e].id_bucket].push(t[e])
                    })
                }
            }(this));
            e.getJSON("Public/data/bucketButtons.json", function (t) {
                return function (t) {
                    e.each(t, function (e, n) {
                        if (typeof a[t[e].id_bucket] === "undefined") {
                            a[t[e].id_bucket] = new Array
                        }
                        a[t[e].id_bucket].push(t[e])
                    })
                }
            }(this))
        },
        preloadImages: function () {
            var t = new PxLoader;
            var r;
            v = window.setTimeout(function () {
                var t = e("<div>")
                    .attr("id", "MainStatement")
                    .text("Ładowanie strony trwa zbyt długo...");
                e("#wrapper")
                    .append(t);
                v = setTimeout(function () {
                    location.reload(true)
                }, 1e4)
            }, 5e4);
            for (r = 0; r < n.length; r++) {
                if (o[n[r].data().id]){
                    if( o[n[r].data().id].type !== "large" ){
                        var s = o[n[r].data().id].imagePath;
                        o[n[r].data().id].image = t.addImage(s)
                    }
                    o[n[r].data().id].element = n[r];
                }
                f[n[r].data().id] = n[r]
            }
            for (r = 0; r < d.length; r++) {
                t.addImage(p + d[r])
            }
            t.addCompletionListener(function (t) {
                return function () {
                    if (app.isMobile) {
                        e("#preloader")
                            .hide();
                        e("#projects")
                            .show();
                        e("#site_footer")
                            .css({
                                top: window.innerHeight
                            });
                        t.setupBuckets();
                        t.setupResize();
                        i = true;
                        t.doResize(0)
                    } else {
                        TweenMax.to(e("#preloader"), .5, {
                            css: {
                                autoAlpha: 0
                            },
                            onComplete: function () {
                                window.clearInterval(v);
                                e("#MainStatement")
                                    .remove();
                                e("#projects")
                                    .show();
                                e("#site_footer")
                                    .css({
                                        top: window.innerHeight
                                    });
                                t.setupBuckets();
                                t.setupResize();
                                i = true;
                                e(window)
                                    .resize();
                                i = false
                            }
                        })
                    }
                }
            }(this));
            t.addProgressListener(function (e) {});
            t.start()
        },
        setupBuckets: function () {
            for (var t = 0; t < n.length; t++) {
                var r = n[t];
                var i = r.data()
                    .id;
                if (typeof o[i] !== "undefined") {
                    var s = o[i].type;
                    switch (s) {
                    case "project":
                        r.projectBucket();
                        break;
                    case "top":
                        r.miejskoaktywniBucket();
                        break;
                    case "large":
                        r.projectLargeBucket();
                        break;
                    case "promo":
                        r.contactBucket();
                        break;
                    case "calendar":
                        r.calendarBucket()
                    }
                    r.data("bucket")
                        .setData(o[i], u[i], a[i]);
                    r.data("bucket")
                        .setupLayout()
                }
            }
            if (!app.isMobile) {
                e(".project .info")
                    .ellipsis({
                        live: false
                    })
            }
        },
        enableBuckets: function () {
            for (var e = 0; e < n.length; e++) {
                var t = n[e].data("bucket");
                if (t && !t.isExpanded()) {
                    t.enableMouseEvents(true)
                }
            }
        },
        disableBuckets: function () {
            for (var e = 0; e < n.length; e++) {
                var t = n[e];
                t.data("bucket")
                    .enableMouseEvents(false)
            }
        },
        triggerBucketClick: function (e) {
            f[e].trigger("click")
        },
        selectBucket: function (e, t, n) {
            this.closeActiveBucket();
            if (e[0] == "home") {
                this.enableBuckets();
                return false
            }
            if (o[e[0]].type === "large") {
                if (e.length == 1 && !f[e[0]].data("bucket")
                    .hasBaseSection) {
                    return false
                }
                if (e.length > 1) {
                    if (!f[e[0]].data("bucket")
                        .containsSubsection(e[1])) {
                        hasher.replaceHash("home");
                        return false
                    }
                }
            }
            if (o.hasOwnProperty(e[0])) {
                s = f[e[0]];
                this.disableBuckets();
                s.data("bucket")
                    .selectBucket(t, e)
            }
        },
        closeActiveBucket: function () {
            for (var e = 0; e < n.length; e++) {
                var t = n[e].data("bucket");
                if (t && t.isExpanded()) {
                    t.closeBucket()
                }
            }
            s = null
        },
        onCloseBucketClicked: function () {
            hasher.setHash("home")
        },
        onBucketExpanded: function () {
            this.enableBuckets()
        },
        onGalleryClosed: function () {},
        onVideoLoaded: function () {},
        calculateBucketSize: function () {
            var t = 1;
            var n = app.config.buckets.MAX_COLS;
            c = 1;
            if (app.isMobile) {
                return {
                    width: app.mobileWidth,
                    height: app.mobileHeight
                }
            }
            var r = 320,
                i = 180;
            var s = app.config.buckets.BORDER_SPACING;
            var o = app.config.buckets.MIN_WIDTH,
                u = app.config.buckets.MIN_HEIGHT;
            var a = e(window)
                .width();
            if (a > app.config.window.MAX_WIDTH) {
                a = app.config.window.MAX_WIDTH
            } else {
                if (a < app.config.buckets.MIN_WIDTH_ONE_COL) {
                    a = app.config.buckets.MIN_WIDTH_ONE_COL
                }
            }
            if (!app.isMobile) {
                c = parseInt(a / o);
                c = Math.max(c, 1);
                if (c >= n) {
                    c = n
                }
                if (c == 1) {
                    if (o < app.config.buckets.MIN_WIDTH_ONE_COL) {
                        o = app.config.buckets.MIN_WIDTH_ONE_COL
                    }
                }
                t = 1 + a % o / (o * c);
                r = parseInt(o * t - s - s / c);
                i = Math.min(app.config.buckets.MAX_HEIGHT, parseInt(u * t - s * 2))
            }
            return {
                width: r,
                height: i
            }
        },
        resetGrid: function () {
            h = new Array(app.config.grid.MAX_COLS);
            for (e = 0; e < h.length; e++) {
                h[e] = new Array(app.config.grid.MAX_ROWS)
            }
            for (var e = 0; e < h.length; e++) {
                var t = h[e];
                for (var n = 0; n < t.length; n++) {
                    t[n] = false
                }
            }
        },
        onResize: function (t) {
            if (app.isMobile) {
                app.mobileWidth = e(window)
                    .width();
                app.mobileHeight = 240
            }
            this.doResize(t)
        },
        doResize: function (t) {
            var i = this.calculateBucketSize();
            var s = app.config.buckets.BORDER_SPACING;
            var o = 0,
                u = 0;
            var a = 0,
                f = 0;
            if (app.isMobile) {
                c = 1;
                for (var l = 0; l < n.length; l++) {
                    var p = n[l];
                    var d = p.data("bucket");
                    if (l > 0) {
                        f += n[l - 1].data("bucket")
                            .getHeight()
                    }
                    p.data("bucket")
                        .setColAndRow(u, o);
                    p.css("z-index", 100 + o * c + u);
                    ++o;
                    if (!r) {
                        p.data("bucket")
                            .updatePositionAndSize(a, f, i.width, i.height, 0, s)
                    } else {
                        p.data("bucket")
                            .initialSizeAndPosition(a, f, i.width, i.height)
                    }
                }
                var v = Math.min(window.innerWidth, parseInt(i.width + s + s));
                var m = f + n[n.length - 1].data("bucket")
                    .getHeight();
                var y = 0;
                TweenMax.to(e("#NoBucketsStatement"), .5, {
                    css: {
                        width: v - s
                    }
                });
                e("#projects")
                    .css({
                        left: y,
                        width: v,
                        height: m + e("#site_footer")
                            .height()
                    });
                TweenMax.to(e("#site_footer"), .5, {
                    css: {
                        top: m
                    },
                    ease: Strong.easeInOut
                });
                if (r) {
                    r = false;
                    this.handleBuildComplete()
                }
                return
            }
            this.resetGrid();
            if (c == 1) {
                for (var l = 0; l < n.length; l++) {
                    var p = n[l];
                    var d = p.data("bucket");
                    if (l > 0) {
                        f += n[l - 1].data("bucket")
                            .getHeight()
                    }
                    p.data("bucket")
                        .setColAndRow(u, o);
                    p.css("z-index", 100 + o * c + u);
                    ++o;
                    var w = 0;
                    if (!r) {
                        if (t) {
                            w = l / n.length * .4
                        }
                        p.data("bucket")
                            .updatePositionAndSize(a, f, i.width, i.height, w, s)
                    } else {
                        p.data("bucket")
                            .initialSizeAndPosition(a, f, i.width, i.height);
                        w = l / n.length * .85 + .6;
                        if (l == n.length - 1) {
                            p.data("bucket")
                                .initialBuildAnim(f, w, true)
                        } else {
                            p.data("bucket")
                                .initialBuildAnim(f, w, false)
                        }
                    }
                }
                var v = Math.min(window.innerWidth, parseInt(i.width + s + s));
                var m = f + n[n.length - 1].data("bucket")
                    .getHeight();
                var y = 0;
                TweenMax.to(e("#NoBucketsStatement"), .5, {
                    css: {
                        width: v - s
                    }
                });
                e("#projects")
                    .css({
                        left: y,
                        width: v,
                        height: m + e("#site_footer")
                            .height() + +s + s
                    });
                TweenMax.to(e("#site_footer"), .5, {
                    css: {
                        top: m + s + s
                    },
                    ease: Strong.easeInOut
                });
                if (r) {
                    r = false
                }
                e(".project .info")
                    .ellipsis({
                        live: false
                    });
                return
            }
            var E = new Array(c);
            for (var S = 0; S < E.length; S++) {
                E[S] = s
            }
            for (var l = 0; l < n.length; l++) {
                var p = n[l];
                var d = p.data("bucket");
				if( h && h[o] ){
					while (h[o][u] == true) {
						if (c > 0) {
							u++
						}
						if (u == c) {
							u = 0;
							o++
						}
					}
				}else{
					h[o] = [u];
				}
                h[o][u] = true;
				if(d){
					var x = d.getColSpan();
					var T = d.getRowSpan();
				}
                for (var N = 0; N < T; N++) {
                    for (var C = 0; C < x; C++) {
                        h[o + N][u + C] = true
                    }
                }
                var a = parseInt(u * i.width) + u * s;
                if (l > 0 && c == 1) {
                    f += n[l - 1].data("bucket")
                        .getHeight()
                } else {
                    f = parseInt(o * i.height) + o * s
                }
                if( p.data("bucket") )
                    p.data("bucket").setColAndRow(u, o);
                p.css("z-index", 100 + o * c + u);
                var w = 0;
                if (!r) {
                    if (t) {
                        w = l / n.length * .4
                    }
                    if(p.data("bucket"))
                        p.data("bucket").updatePositionAndSize(a, f, i.width, i.height, w, s)
                } else {
                    if( p.data("bucket") )
                        p.data("bucket").initialSizeAndPosition(a, f, i.width, i.height);
                    w = l / n.length * .85 + .6;
                    if (l == n.length - 1) {
                        if(p.data("bucket"))
                            p.data("bucket").initialBuildAnim(f, w, true)
                    } else {
                        if( p.data("bucket") )
                            p.data("bucket").initialBuildAnim(f, w, false)
                    }
                }
                if( p.data("bucket"))
                    E[u] += p.data("bucket").getHeight() + s;
                if (c > 0) {
                    u++
                }
                if (u == c) {
                    u = 0;
                    o++
                }
            }
            var k = 0;
            for (var S = 0; S < E.length; S++) {
                if (E[S] > k) {
                    k = E[S]
                }
            }
            var v = Math.min(window.innerWidth, parseInt(c * i.width + c * s) + s);
            var m = k;
            var L = 0;
            if (t) {
                L = 0
            }
            var y = e("body")
                .innerWidth() == 320 ? 0 : (e("body")
                    .innerWidth() - v) / 2;
            TweenMax.to(e("#NoBucketsStatement"), .5, {
                css: {
                    width: v - s
                },
                delay: "0.3"
            });
            TweenMax.to(e("#projects"), .5, {
                css: {
                    top: "53px",
                    left: y,
                    width: v,
                    height: m + e("#site_footer")
                        .height()
                },
                delay: L
            });
            TweenMax.to(e("#site_footer"), .5, {
                css: {
                    top: m
                },
                ease: Strong.easeInOut,
                delay: L
            });
            if (r) {
                r = false
            }
            e(".project .info")
                .ellipsis({
                    live: false
                });
            var f = v - 270;
            e("#top_menu")
                .css({
                    width: f + "px"
                })
        },
        setupResize: function () {
            e(window)
                .resize(function () {
                    if (!i) {
                        return
                    }
                    signals.layout.changed.dispatch(false)
                })
        },
        handleBuildComplete: function () {
            if (app.isDesktop) {
                e(".project .info")
                    .ellipsis({
                        live: false
                    })
            }
            i = true;
            hasher.changed.add(handleChanges);
            hasher.initialized.add(handleInitial);
            hasher.init();
            if (this.initialDeepLink != "home") {
                this.selectBucket(this.initialDeepLink, true)
            } else {
                this.enableBuckets()
            }
            e("body")
                .bind("orientationchange", function (t) {
                    if (app.isMobile) {
                        app.mobileWidth = e(window)
                            .width();
                        app.mobileHeight = 180
                    }
                    e(window)
                        .resize()
                })
        },
        isFirstLoad: function () {
            return r
        },
        isValidHash: function (e) {
            var t = o.hasOwnProperty(e[0]);
            if (t) {
                var n = f[e[0]].data("bucket");
                if (e.length == 1 && !n.hasBaseSection) {
                    hasher.replaceHash("home");
                    t = false
                } else {
                    if (e.length > 1 && n.hasSubsections) {
                        t = n.containsSubsection(e[1])
                    }
                }
            }
            return t
        },
        numRows: function () {
            return l
        },
        numCols: function () {
            return c
        },
        initialDeepLink: "home"
    }
}($);
var signals = {};
signals.layout = {
    changed: new Signal,
    buildCompleted: new Signal,
    closeBucketClicked: new Signal,
    bucketExpanded: new Signal,
    galleryClosed: new Signal,
    videoLoaded: new Signal
};
$(document)
    .ready(function () {
        var e = navigator.userAgent.toLowerCase();
        var t = $.browser;
        app.isIpad = e.match(/(ipad)/i);
        app.isIphone = e.match(/iphone/i);
        app.isIpod = e.match(/ipod/i);
        app.isAndroid = e.indexOf("android") > -1;
        app.isWebKit = t.webkit;
        app.platform = t;
        app.isIOS = false;
        app.isMobile = false;
        app.isTablet = false;
        app.isDesktop = false;
        if (app.isIpad || app.isIphone || app.isIpod) {
            app.isIOS = true
        }
        if (app.isIphone || app.isIpod || app.isAndroid && e.match(/mobile/i)) {
			setTimeout( function(){ $('body').resize() }, 2000 );
			setTimeout( function(){ $('body').resize() }, 3000 );
            app.isMobile = false;//true
        } else {
            if (app.isIpad || app.isAndroid) {
                app.isTablet = true
            } else {
                app.isDesktop = true
            }
        }
        app.isRetina = window.devicePixelRatio > 1;
        if (app.isMobile) {
            app.mobileWidth = $(window)
                .width();
            app.mobileHeight = 240
        }
        if (app.isRetina) {
            $("#twitter_over")
                .attr("src", "images/twitter_over_2x.png");
            $("#twitter_off")
                .attr("src", "images/twitter_off_2x.png");
            $("#facebook_over")
                .attr("src", "images/facebook_over_2x.png");
            $("#facebook_off")
                .attr("src", "images/facebook_off_2x.png");
            $("#footer_slash")
                .attr("src", "images/slash_2x.png")
        }
        app.buckets.init();
        app.buckets.loadProjects()
    })

/* jScrollPane - v2.0.16 - 2013-07-30
 * http://jscrollpane.kelvinluck.com/
 *
 * Copyright (c) 2013 Kelvin Luck
 * Dual licensed under the MIT or GPL licenses.
 */
! function (a, b, c) {
    a.fn.jScrollPane = function (d) {
        function e(d, e) {
            function f(b) {
                var e, h, j, l, m, n, q = !1,
                    r = !1;
                if (P = b, Q === c) m = d.scrollTop(), n = d.scrollLeft(), d.css({
                        overflow: "hidden",
                        padding: 0
                    }), R = d.innerWidth() + tb, S = d.innerHeight(), d.width(R), Q = a('<div class="jspPane" />')
                    .css("padding", sb)
                    .append(d.children()), T = a('<div class="jspContainer" />')
                    .css({
                        width: R + "px",
                        height: S + "px"
                    })
                    .append(Q)
                    .appendTo(d);
                else {
                    if (d.css("width", ""), q = P.stickToBottom && C(), r = P.stickToRight && D(), l = d.innerWidth() + tb != R || d.outerHeight() !=
                        S, l && (R = d.innerWidth() + tb, S = d.innerHeight(), T.css({
                            width: R + "px",
                            height: S + "px"
                        })), !l && ub == U && Q.outerHeight() == V) return d.width(R), void 0;
                    ub = U, Q.css("width", ""), d.width(R), T.find(">.jspVerticalBar,>.jspHorizontalBar")
                        .remove()
                        .end()
                }
                Q.css("overflow", "auto"), U = b.contentWidth ? b.contentWidth : Q[0].scrollWidth, V = Q[0].scrollHeight, Q.css("overflow", ""), W =
                    U / R, X = V / S, Y = X > 1, Z = W > 1, Z || Y ? (d.addClass("jspScrollable"), e = P.maintainPosition && (ab || db), e && (h =
                            A(), j = B()), g(), i(), k(), e && (y(r ? U - R : h, !1), x(q ? V - S : j, !1)), H(), E(), N(), P.enableKeyboardNavigation &&
                        J(), P.clickOnTrack && o(), L(), P.hijackInternalLinks && M()) : (d.removeClass("jspScrollable"), Q.css({
                        top: 0,
                        left: 0,
                        width: T.width() - tb
                    }), F(), I(), K(), p()), P.autoReinitialise && !rb ? rb = setInterval(function () {
                        f(P)
                    }, P.autoReinitialiseDelay) : !P.autoReinitialise && rb && clearInterval(rb), m && d.scrollTop(0) && x(m, !1), n && d.scrollLeft(
                        0) && y(n, !1), d.trigger("jsp-initialised", [Z || Y])
            }

            function g() {
                Y && (T.append(a('<div class="jspVerticalBar" />')
                        .append(a('<div class="jspCap jspCapTop" />'), a('<div class="jspTrack" />')
                            .append(a('<div class="jspDrag" />')
                                .append(a('<div class="jspDragTop" />'), a('<div class="jspDragBottom" />'))), a(
                                '<div class="jspCap jspCapBottom" />'))), eb = T.find(">.jspVerticalBar"), fb = eb.find(">.jspTrack"), $ = fb.find(
                        ">.jspDrag"), P.showArrows && (jb = a('<a class="jspArrow jspArrowUp" />')
                        .bind("mousedown.jsp", m(0, -1))
                        .bind("click.jsp", G), kb = a('<a class="jspArrow jspArrowDown" />')
                        .bind("mousedown.jsp", m(0, 1))
                        .bind("click.jsp", G), P.arrowScrollOnHover && (jb.bind("mouseover.jsp", m(0, -1, jb)), kb.bind("mouseover.jsp", m(0, 1,
                            kb))), l(fb, P.verticalArrowPositions, jb, kb)), hb = S, T.find(
                        ">.jspVerticalBar>.jspCap:visible,>.jspVerticalBar>.jspArrow")
                    .each(function () {
                        hb -= a(this)
                            .outerHeight()
                    }), $.hover(function () {
                        $.addClass("jspHover")
                    }, function () {
                        $.removeClass("jspHover")
                    })
                    .bind("mousedown.jsp", function (b) {
                        a("html")
                            .bind("dragstart.jsp selectstart.jsp", G), $.addClass("jspActive");
                        var c = b.pageY - $.position()
                            .top;
                        return a("html")
                            .bind("mousemove.jsp", function (a) {
                                r(a.pageY - c, !1)
                            })
                            .bind("mouseup.jsp mouseleave.jsp", q), !1
                    }), h())
            }

            function h() {
                fb.height(hb + "px"), ab = 0, gb = P.verticalGutter + fb.outerWidth(), Q.width(R - gb - tb);
                try {
                    0 === eb.position()
                        .left && Q.css("margin-left", gb + "px")
                } catch (a) {}
            }

            function i() {
                Z && (T.append(a('<div class="jspHorizontalBar" />')
                        .append(a('<div class="jspCap jspCapLeft" />'), a('<div class="jspTrack" />')
                            .append(a('<div class="jspDrag" />')
                                .append(a('<div class="jspDragLeft" />'), a('<div class="jspDragRight" />'))), a(
                                '<div class="jspCap jspCapRight" />'))), lb = T.find(">.jspHorizontalBar"), mb = lb.find(">.jspTrack"), bb = mb
                    .find(">.jspDrag"), P.showArrows && (pb = a('<a class="jspArrow jspArrowLeft" />')
                        .bind("mousedown.jsp", m(-1, 0))
                        .bind("click.jsp", G), qb = a('<a class="jspArrow jspArrowRight" />')
                        .bind("mousedown.jsp", m(1, 0))
                        .bind("click.jsp", G), P.arrowScrollOnHover && (pb.bind("mouseover.jsp", m(-1, 0, pb)), qb.bind("mouseover.jsp", m(1, 0,
                            qb))), l(mb, P.horizontalArrowPositions, pb, qb)), bb.hover(function () {
                        bb.addClass("jspHover")
                    }, function () {
                        bb.removeClass("jspHover")
                    })
                    .bind("mousedown.jsp", function (b) {
                        a("html")
                            .bind("dragstart.jsp selectstart.jsp", G), bb.addClass("jspActive");
                        var c = b.pageX - bb.position()
                            .left;
                        return a("html")
                            .bind("mousemove.jsp", function (a) {
                                t(a.pageX - c, !1)
                            })
                            .bind("mouseup.jsp mouseleave.jsp", q), !1
                    }), nb = T.innerWidth(), j())
            }

            function j() {
                T.find(">.jspHorizontalBar>.jspCap:visible,>.jspHorizontalBar>.jspArrow")
                    .each(function () {
                        nb -= a(this)
                            .outerWidth()
                    }), mb.width(nb + "px"), db = 0
            }

            function k() {
                if (Z && Y) {
                    var b = mb.outerHeight(),
                        c = fb.outerWidth();
                    hb -= b, a(lb)
                        .find(">.jspCap:visible,>.jspArrow")
                        .each(function () {
                            nb += a(this)
                                .outerWidth()
                        }), nb -= c, S -= c, R -= b, mb.parent()
                        .append(a('<div class="jspCorner" />')
                            .css("width", b + "px")), h(), j()
                }
                Z && Q.width(T.outerWidth() - tb + "px"), V = Q.outerHeight(), X = V / S, Z && (ob = Math.ceil(1 / W * nb), ob > P.horizontalDragMaxWidth ?
                    ob = P.horizontalDragMaxWidth : ob < P.horizontalDragMinWidth && (ob = P.horizontalDragMinWidth), bb.width(ob + "px"), cb =
                    nb - ob, u(db)), Y && (ib = Math.ceil(1 / X * hb), ib > P.verticalDragMaxHeight ? ib = P.verticalDragMaxHeight : ib < P.verticalDragMinHeight &&
                    (ib = P.verticalDragMinHeight), $.height(ib + "px"), _ = hb - ib, s(ab))
            }

            function l(a, b, c, d) {
                var e, f = "before",
                    g = "after";
                "os" == b && (b = /Mac/.test(navigator.platform) ? "after" : "split"), b == f ? g = b : b == g && (f = b, e = c, c = d, d = e), a[f]
                    (c)[g](d)
            }

            function m(a, b, c) {
                return function () {
                    return n(a, b, this, c), this.blur(), !1
                }
            }

            function n(b, c, d, e) {
                d = a(d)
                    .addClass("jspActive");
                var f, g, h = !0,
                    i = function () {
                        0 !== b && vb.scrollByX(b * P.arrowButtonSpeed), 0 !== c && vb.scrollByY(c * P.arrowButtonSpeed), g = setTimeout(i, h ? P.initialDelay :
                            P.arrowRepeatFreq), h = !1
                    };
                i(), f = e ? "mouseout.jsp" : "mouseup.jsp", e = e || a("html"), e.bind(f, function () {
                    d.removeClass("jspActive"), g && clearTimeout(g), g = null, e.unbind(f)
                })
            }

            function o() {
                p(), Y && fb.bind("mousedown.jsp", function (b) {
                    if (b.originalTarget === c || b.originalTarget == b.currentTarget) {
                        var d, e = a(this),
                            f = e.offset(),
                            g = b.pageY - f.top - ab,
                            h = !0,
                            i = function () {
                                var a = e.offset(),
                                    c = b.pageY - a.top - ib / 2,
                                    f = S * P.scrollPagePercent,
                                    k = _ * f / (V - S);
                                if (0 > g) ab - k > c ? vb.scrollByY(-f) : r(c);
                                else {
                                    if (!(g > 0)) return j(), void 0;
                                    c > ab + k ? vb.scrollByY(f) : r(c)
                                }
                                d = setTimeout(i, h ? P.initialDelay : P.trackClickRepeatFreq), h = !1
                            },
                            j = function () {
                                d && clearTimeout(d), d = null, a(document)
                                    .unbind("mouseup.jsp", j)
                            };
                        return i(), a(document)
                            .bind("mouseup.jsp", j), !1
                    }
                }), Z && mb.bind("mousedown.jsp", function (b) {
                    if (b.originalTarget === c || b.originalTarget == b.currentTarget) {
                        var d, e = a(this),
                            f = e.offset(),
                            g = b.pageX - f.left - db,
                            h = !0,
                            i = function () {
                                var a = e.offset(),
                                    c = b.pageX - a.left - ob / 2,
                                    f = R * P.scrollPagePercent,
                                    k = cb * f / (U - R);
                                if (0 > g) db - k > c ? vb.scrollByX(-f) : t(c);
                                else {
                                    if (!(g > 0)) return j(), void 0;
                                    c > db + k ? vb.scrollByX(f) : t(c)
                                }
                                d = setTimeout(i, h ? P.initialDelay : P.trackClickRepeatFreq), h = !1
                            },
                            j = function () {
                                d && clearTimeout(d), d = null, a(document)
                                    .unbind("mouseup.jsp", j)
                            };
                        return i(), a(document)
                            .bind("mouseup.jsp", j), !1
                    }
                })
            }

            function p() {
                mb && mb.unbind("mousedown.jsp"), fb && fb.unbind("mousedown.jsp")
            }

            function q() {
                a("html")
                    .unbind("dragstart.jsp selectstart.jsp mousemove.jsp mouseup.jsp mouseleave.jsp"), $ && $.removeClass("jspActive"), bb && bb.removeClass(
                        "jspActive")
            }

            function r(a, b) {
                Y && (0 > a ? a = 0 : a > _ && (a = _), b === c && (b = P.animateScroll), b ? vb.animate($, "top", a, s) : ($.css("top", a), s(a)))
            }

            function s(a) {
                a === c && (a = $.position()
                    .top), T.scrollTop(0), ab = a;
                var b = 0 === ab,
                    e = ab == _,
                    f = a / _,
                    g = -f * (V - S);
                (wb != b || yb != e) && (wb = b, yb = e, d.trigger("jsp-arrow-change", [wb, yb, xb, zb])), v(b, e), Q.css("top", g), d.trigger(
                        "jsp-scroll-y", [-g, b, e])
                    .trigger("scroll")
            }

            function t(a, b) {
                Z && (0 > a ? a = 0 : a > cb && (a = cb), b === c && (b = P.animateScroll), b ? vb.animate(bb, "left", a, u) : (bb.css("left", a),
                    u(a)))
            }

            function u(a) {
                a === c && (a = bb.position()
                    .left), T.scrollTop(0), db = a;
                var b = 0 === db,
                    e = db == cb,
                    f = a / cb,
                    g = -f * (U - R);
                (xb != b || zb != e) && (xb = b, zb = e, d.trigger("jsp-arrow-change", [wb, yb, xb, zb])), w(b, e), Q.css("left", g), d.trigger(
                        "jsp-scroll-x", [-g, b, e])
                    .trigger("scroll")
            }

            function v(a, b) {
                P.showArrows && (jb[a ? "addClass" : "removeClass"]("jspDisabled"), kb[b ? "addClass" : "removeClass"]("jspDisabled"))
            }

            function w(a, b) {
                P.showArrows && (pb[a ? "addClass" : "removeClass"]("jspDisabled"), qb[b ? "addClass" : "removeClass"]("jspDisabled"))
            }

            function x(a, b) {
                var c = a / (V - S);
                r(c * _, b)
            }

            function y(a, b) {
                var c = a / (U - R);
                t(c * cb, b)
            }

            function z(b, c, d) {
                var e, f, g, h, i, j, k, l, m, n = 0,
                    o = 0;
                try {
                    e = a(b)
                } catch (p) {
                    return
                }
                for (f = e.outerHeight(), g = e.outerWidth(), T.scrollTop(0), T.scrollLeft(0); !e.is(".jspPane");)
                    if (n += e.position()
                        .top, o += e.position()
                        .left, e = e.offsetParent(), /^body|html$/i.test(e[0].nodeName)) return;
                h = B(), j = h + S, h > n || c ? l = n - P.verticalGutter : n + f > j && (l = n - S + f + P.verticalGutter), isNaN(l) || x(l, d), i =
                    A(), k = i + R, i > o || c ? m = o - P.horizontalGutter : o + g > k && (m = o - R + g + P.horizontalGutter), isNaN(m) || y(m, d)
            }

            function A() {
                return -Q.position()
                    .left
            }

            function B() {
                return -Q.position()
                    .top
            }

            function C() {
                var a = V - S;
                return a > 20 && a - B() < 10
            }

            function D() {
                var a = U - R;
                return a > 20 && a - A() < 10
            }

            function E() {
                T.unbind(Bb)
                    .bind(Bb, function (a, b, c, d) {
                        var e = db,
                            f = ab;
                        return vb.scrollBy(c * P.mouseWheelSpeed, -d * P.mouseWheelSpeed, !1), e == db && f == ab
                    })
            }

            function F() {
                T.unbind(Bb)
            }

            function G() {
                return !1
            }

            function H() {
                Q.find(":input,a")
                    .unbind("focus.jsp")
                    .bind("focus.jsp", function (a) {
                        z(a.target, !1)
                    })
            }

            function I() {
                Q.find(":input,a")
                    .unbind("focus.jsp")
            }

            function J() {
                function b() {
                    var a = db,
                        b = ab;
                    switch (c) {
                    case 40:
                        vb.scrollByY(P.keyboardSpeed, !1);
                        break;
                    case 38:
                        vb.scrollByY(-P.keyboardSpeed, !1);
                        break;
                    case 34:
                    case 32:
                        vb.scrollByY(S * P.scrollPagePercent, !1);
                        break;
                    case 33:
                        vb.scrollByY(-S * P.scrollPagePercent, !1);
                        break;
                    case 39:
                        vb.scrollByX(P.keyboardSpeed, !1);
                        break;
                    case 37:
                        vb.scrollByX(-P.keyboardSpeed, !1)
                    }
                    return e = a != db || b != ab
                }
                var c, e, f = [];
                Z && f.push(lb[0]), Y && f.push(eb[0]), Q.focus(function () {
                        d.focus()
                    }), d.attr("tabindex", 0)
                    .unbind("keydown.jsp keypress.jsp")
                    .bind("keydown.jsp", function (d) {
                        if (d.target === this || f.length && a(d.target)
                            .closest(f)
                            .length) {
                            var g = db,
                                h = ab;
                            switch (d.keyCode) {
                            case 40:
                            case 38:
                            case 34:
                            case 32:
                            case 33:
                            case 39:
                            case 37:
                                c = d.keyCode, b();
                                break;
                            case 35:
                                x(V - S), c = null;
                                break;
                            case 36:
                                x(0), c = null
                            }
                            return e = d.keyCode == c && g != db || h != ab, !e
                        }
                    })
                    .bind("keypress.jsp", function (a) {
                        return a.keyCode == c && b(), !e
                    }), P.hideFocus ? (d.css("outline", "none"), "hideFocus" in T[0] && d.attr("hideFocus", !0)) : (d.css("outline", ""),
                        "hideFocus" in T[0] && d.attr("hideFocus", !1))
            }

            function K() {
                d.attr("tabindex", "-1")
                    .removeAttr("tabindex")
                    .unbind("keydown.jsp keypress.jsp")
            }

            function L() {
                if (location.hash && location.hash.length > 1) {
                    var b, c, d = escape(location.hash.substr(1));
                    try {
                        b = a("#" + d + ', a[name="' + d + '"]')
                    } catch (e) {
                        return
                    }
                    b.length && Q.find(d) && (0 === T.scrollTop() ? c = setInterval(function () {
                        T.scrollTop() > 0 && (z(b, !0), a(document)
                            .scrollTop(T.position()
                                .top), clearInterval(c))
                    }, 50) : (z(b, !0), a(document)
                        .scrollTop(T.position()
                            .top)))
                }
            }

            function M() {
                a(document.body)
                    .data("jspHijack") || (a(document.body)
                        .data("jspHijack", !0), a(document.body)
                        .delegate("a[href*=#]", "click", function (c) {
                            var d, e, f, g, h, i, j = this.href.substr(0, this.href.indexOf("#")),
                                k = location.href;
                            if (-1 !== location.href.indexOf("#") && (k = location.href.substr(0, location.href.indexOf("#"))), j === k) {
                                d = escape(this.href.substr(this.href.indexOf("#") + 1));
                                try {
                                    e = a("#" + d + ', a[name="' + d + '"]')
                                } catch (l) {
                                    return
                                }
                                e.length && (f = e.closest(".jspScrollable"), g = f.data("jsp"), g.scrollToElement(e, !0), f[0].scrollIntoView &&
                                    (h = a(b)
                                        .scrollTop(), i = e.offset()
                                        .top, (h > i || i > h + a(b)
                                            .height()) && f[0].scrollIntoView()), c.preventDefault())
                            }
                        }))
            }

            function N() {
                var a, b, c, d, e, f = !1;
                T.unbind("touchstart.jsp touchmove.jsp touchend.jsp click.jsp-touchclick")
                    .bind("touchstart.jsp", function (g) {
                        var h = g.originalEvent.touches[0];
                        a = A(), b = B(), c = h.pageX, d = h.pageY, e = !1, f = !0
                    })
                    .bind("touchmove.jsp", function (g) {
                        if (f) {
                            var h = g.originalEvent.touches[0],
                                i = db,
                                j = ab;
                            return vb.scrollTo(a + c - h.pageX, b + d - h.pageY), e = e || Math.abs(c - h.pageX) > 5 || Math.abs(d - h.pageY) >
                                5, i == db && j == ab
                        }
                    })
                    .bind("touchend.jsp", function () {
                        f = !1
                    })
                    .bind("click.jsp-touchclick", function () {
                        return e ? (e = !1, !1) : void 0
                    })
            }

            function O() {
                var a = B(),
                    b = A();
                d.removeClass("jspScrollable")
                    .unbind(".jsp"), d.replaceWith(Ab.append(Q.children())), Ab.scrollTop(a), Ab.scrollLeft(b), rb && clearInterval(rb)
            }
            var P, Q, R, S, T, U, V, W, X, Y, Z, $, _, ab, bb, cb, db, eb, fb, gb, hb, ib, jb, kb, lb, mb, nb, ob, pb, qb, rb, sb, tb, ub, vb = this,
                wb = !0,
                xb = !0,
                yb = !1,
                zb = !1,
                Ab = d.clone(!1, !1)
                .empty(),
                Bb = a.fn.mwheelIntent ? "mwheelIntent.jsp" : "mousewheel.jsp";
            sb = d.css("paddingTop") + " " + d.css("paddingRight") + " " + d.css("paddingBottom") + " " + d.css("paddingLeft"), tb = (parseInt(d.css(
                "paddingLeft"), 10) || 0) + (parseInt(d.css("paddingRight"), 10) || 0), a.extend(vb, {
                reinitialise: function (b) {
                    b = a.extend({}, P, b), f(b)
                },
                scrollToElement: function (a, b, c) {
                    z(a, b, c)
                },
                scrollTo: function (a, b, c) {
                    y(a, c), x(b, c)
                },
                scrollToX: function (a, b) {
                    y(a, b)
                },
                scrollToY: function (a, b) {
                    x(a, b)
                },
                scrollToPercentX: function (a, b) {
                    y(a * (U - R), b)
                },
                scrollToPercentY: function (a, b) {
                    x(a * (V - S), b)
                },
                scrollBy: function (a, b, c) {
                    vb.scrollByX(a, c), vb.scrollByY(b, c)
                },
                scrollByX: function (a, b) {
                    var c = A() + Math[0 > a ? "floor" : "ceil"](a),
                        d = c / (U - R);
                    t(d * cb, b)
                },
                scrollByY: function (a, b) {
                    var c = B() + Math[0 > a ? "floor" : "ceil"](a),
                        d = c / (V - S);
                    r(d * _, b)
                },
                positionDragX: function (a, b) {
                    t(a, b)
                },
                positionDragY: function (a, b) {
                    r(a, b)
                },
                animate: function (a, b, c, d) {
                    var e = {};
                    e[b] = c, a.animate(e, {
                        duration: P.animateDuration,
                        easing: P.animateEase,
                        queue: !1,
                        step: d
                    })
                },
                getContentPositionX: function () {
                    return A()
                },
                getContentPositionY: function () {
                    return B()
                },
                getContentWidth: function () {
                    return U
                },
                getContentHeight: function () {
                    return V
                },
                getPercentScrolledX: function () {
                    return A() / (U - R)
                },
                getPercentScrolledY: function () {
                    return B() / (V - S)
                },
                getIsScrollableH: function () {
                    return Z
                },
                getIsScrollableV: function () {
                    return Y
                },
                getContentPane: function () {
                    return Q
                },
                scrollToBottom: function (a) {
                    r(_, a)
                },
                hijackInternalLinks: a.noop,
                destroy: function () {
                    O()
                }
            }), f(e)
        }
        return d = a.extend({}, a.fn.jScrollPane.defaults, d), a.each(["arrowButtonSpeed", "trackClickSpeed", "keyboardSpeed"], function () {
            d[this] = d[this] || d.speed
        }), this.each(function () {
            var b = a(this),
                c = b.data("jsp");
            c ? c.reinitialise(d) : (a("script", b)
                .filter('[type="text/javascript"],:not([type])')
                .remove(), c = new e(b, d), b.data("jsp", c))
        })
    }, a.fn.jScrollPane.defaults = {
        showArrows: !1,
        maintainPosition: !0,
        stickToBottom: !1,
        stickToRight: !1,
        clickOnTrack: !0,
        autoReinitialise: !1,
        autoReinitialiseDelay: 500,
        verticalDragMinHeight: 0,
        verticalDragMaxHeight: 99999,
        horizontalDragMinWidth: 0,
        horizontalDragMaxWidth: 99999,
        contentWidth: c,
        animateScroll: !1,
        animateDuration: 300,
        animateEase: "linear",
        hijackInternalLinks: !1,
        verticalGutter: 4,
        horizontalGutter: 4,
        mouseWheelSpeed: 3,
        arrowButtonSpeed: 0,
        arrowRepeatFreq: 50,
        arrowScrollOnHover: !1,
        trackClickSpeed: 0,
        trackClickRepeatFreq: 70,
        verticalArrowPositions: "split",
        horizontalArrowPositions: "split",
        enableKeyboardNavigation: !0,
        hideFocus: !1,
        keyboardSpeed: 0,
        initialDelay: 300,
        speed: 30,
        scrollPagePercent: .8
    }
}(jQuery, this);
/*! KineticJS v4.6.0 2013-08-12 http://www.kineticjs.com by Eric Rowell @ericdrowell - MIT License https://github.com/ericdrowell/KineticJS/wiki/License*/
var Kinetic = {};
! function () {
    Kinetic.version = "4.6.0", Kinetic.Filters = {}, Kinetic.Node = function (a) {
        this._init(a)
    }, Kinetic.Shape = function (a) {
        this.__init(a)
    }, Kinetic.Container = function (a) {
        this.__init(a)
    }, Kinetic.Stage = function (a) {
        this.___init(a)
    }, Kinetic.Layer = function (a) {
        this.___init(a)
    }, Kinetic.Group = function (a) {
        this.___init(a)
    }, Kinetic.Global = {
        stages: [],
        idCounter: 0,
        ids: {},
        names: {},
        shapes: {},
        listenClickTap: !1,
        inDblClickWindow: !1,
        dblClickWindow: 400,
        isDragging: function () {
            var a = Kinetic.DD;
            return a ? a.isDragging : !1
        },
        isDragReady: function () {
            var a = Kinetic.DD;
            return a ? !!a.node : !1
        },
        _addId: function (a, b) {
            void 0 !== b && (this.ids[b] = a)
        },
        _removeId: function (a) {
            void 0 !== a && delete this.ids[a]
        },
        _addName: function (a, b) {
            void 0 !== b && (void 0 === this.names[b] && (this.names[b] = []), this.names[b].push(a))
        },
        _removeName: function (a, b) {
            if (void 0 !== a) {
                var c = this.names[a];
                if (void 0 !== c) {
                    for (var d = 0; d < c.length; d++) {
                        var e = c[d];
                        e._id === b && c.splice(d, 1)
                    }
                    0 === c.length && delete this.names[a]
                }
            }
        }
    }
}(),
function (a, b) {
    "object" == typeof exports ? module.exports = b() : "function" == typeof define && define.amd ? define(b) : a.returnExports = b()
}(this, function () {
    return Kinetic
}),
function () {
    Kinetic.Collection = function () {
        var a = [].slice.call(arguments),
            b = a.length,
            c = 0;
        for (this.length = b; b > c; c++) this[c] = a[c];
        return this
    }, Kinetic.Collection.prototype = [], Kinetic.Collection.prototype.each = function (a) {
        for (var b = 0; b < this.length; b++) a(this[b], b)
    }, Kinetic.Collection.prototype.toArray = function () {
        var a, b = [],
            c = this.length;
        for (a = 0; c > a; a++) b.push(this[a]);
        return b
    }, Kinetic.Collection.toCollection = function (a) {
        var b, c = new Kinetic.Collection,
            d = a.length;
        for (b = 0; d > b; b++) c.push(a[b]);
        return c
    }, Kinetic.Collection.mapMethods = function (a) {
        var b, c = a.length;
        for (b = 0; c > b; b++) ! function (b) {
            var c = a[b];
            Kinetic.Collection.prototype[c] = function () {
                var a, b = this.length;
                for (args = [].slice.call(arguments), a = 0; b > a; a++) this[a][c].apply(this[a], args)
            }
        }(b)
    }
}(),
function () {
    Kinetic.Transform = function () {
        this.m = [1, 0, 0, 1, 0, 0]
    }, Kinetic.Transform.prototype = {
        translate: function (a, b) {
            this.m[4] += this.m[0] * a + this.m[2] * b, this.m[5] += this.m[1] * a + this.m[3] * b
        },
        scale: function (a, b) {
            this.m[0] *= a, this.m[1] *= a, this.m[2] *= b, this.m[3] *= b
        },
        rotate: function (a) {
            var b = Math.cos(a),
                c = Math.sin(a),
                d = this.m[0] * b + this.m[2] * c,
                e = this.m[1] * b + this.m[3] * c,
                f = this.m[0] * -c + this.m[2] * b,
                g = this.m[1] * -c + this.m[3] * b;
            this.m[0] = d, this.m[1] = e, this.m[2] = f, this.m[3] = g
        },
        getTranslation: function () {
            return {
                x: this.m[4],
                y: this.m[5]
            }
        },
        skew: function (a, b) {
            var c = this.m[0] + this.m[2] * b,
                d = this.m[1] + this.m[3] * b,
                e = this.m[2] + this.m[0] * a,
                f = this.m[3] + this.m[1] * a;
            this.m[0] = c, this.m[1] = d, this.m[2] = e, this.m[3] = f
        },
        multiply: function (a) {
            var b = this.m[0] * a.m[0] + this.m[2] * a.m[1],
                c = this.m[1] * a.m[0] + this.m[3] * a.m[1],
                d = this.m[0] * a.m[2] + this.m[2] * a.m[3],
                e = this.m[1] * a.m[2] + this.m[3] * a.m[3],
                f = this.m[0] * a.m[4] + this.m[2] * a.m[5] + this.m[4],
                g = this.m[1] * a.m[4] + this.m[3] * a.m[5] + this.m[5];
            this.m[0] = b, this.m[1] = c, this.m[2] = d, this.m[3] = e, this.m[4] = f, this.m[5] = g
        },
        invert: function () {
            var a = 1 / (this.m[0] * this.m[3] - this.m[1] * this.m[2]),
                b = this.m[3] * a,
                c = -this.m[1] * a,
                d = -this.m[2] * a,
                e = this.m[0] * a,
                f = a * (this.m[2] * this.m[5] - this.m[3] * this.m[4]),
                g = a * (this.m[1] * this.m[4] - this.m[0] * this.m[5]);
            this.m[0] = b, this.m[1] = c, this.m[2] = d, this.m[3] = e, this.m[4] = f, this.m[5] = g
        },
        getMatrix: function () {
            return this.m
        },
        setAbsolutePosition: function (a, b) {
            var c = this.m[0],
                d = this.m[1],
                e = this.m[2],
                f = this.m[3],
                g = this.m[4],
                h = this.m[5],
                i = (c * (b - h) - d * (a - g)) / (c * f - d * e),
                j = (a - g - e * i) / c;
            this.translate(j, i)
        }
    }
}(),
function () {
    var a = "canvas",
        b = "2d",
        c = "[object Array]",
        d = "[object Number]",
        e = "[object String]",
        f = Math.PI / 180,
        g = 180 / Math.PI,
        h = "#",
        i = "",
        j = "0",
        k = "Kinetic warning: ",
        l = "Kinetic error: ",
        m = "rgb(",
        n = {
            aqua: [0, 255, 255],
            lime: [0, 255, 0],
            silver: [192, 192, 192],
            black: [0, 0, 0],
            maroon: [128, 0, 0],
            teal: [0, 128, 128],
            blue: [0, 0, 255],
            navy: [0, 0, 128],
            white: [255, 255, 255],
            fuchsia: [255, 0, 255],
            olive: [128, 128, 0],
            yellow: [255, 255, 0],
            orange: [255, 165, 0],
            gray: [128, 128, 128],
            purple: [128, 0, 128],
            green: [0, 128, 0],
            red: [255, 0, 0],
            pink: [255, 192, 203],
            cyan: [0, 255, 255],
            transparent: [255, 255, 255, 0]
        },
        o = /rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;
    Kinetic.Util = {
        _isElement: function (a) {
            return !(!a || 1 != a.nodeType)
        },
        _isFunction: function (a) {
            return !!(a && a.constructor && a.call && a.apply)
        },
        _isObject: function (a) {
            return !!a && a.constructor == Object
        },
        _isArray: function (a) {
            return Object.prototype.toString.call(a) == c
        },
        _isNumber: function (a) {
            return Object.prototype.toString.call(a) == d
        },
        _isString: function (a) {
            return Object.prototype.toString.call(a) == e
        },
        _hasMethods: function (a) {
            var b, c = [];
            for (b in a) this._isFunction(a[b]) && c.push(b);
            return c.length > 0
        },
        _isInDocument: function (a) {
            for (; a = a.parentNode;)
                if (a == document) return !0;
            return !1
        },
        _getXY: function (a) {
            if (this._isNumber(a)) return {
                x: a,
                y: a
            };
            if (this._isArray(a)) {
                if (1 === a.length) {
                    var b = a[0];
                    if (this._isNumber(b)) return {
                        x: b,
                        y: b
                    };
                    if (this._isArray(b)) return {
                        x: b[0],
                        y: b[1]
                    };
                    if (this._isObject(b)) return b
                } else if (a.length >= 2) return {
                    x: a[0],
                    y: a[1]
                }
            } else if (this._isObject(a)) return a;
            return null
        },
        _getSize: function (a) {
            if (this._isNumber(a)) return {
                width: a,
                height: a
            };
            if (this._isArray(a))
                if (1 === a.length) {
                    var b = a[0];
                    if (this._isNumber(b)) return {
                        width: b,
                        height: b
                    };
                    if (this._isArray(b)) {
                        if (b.length >= 4) return {
                            width: b[2],
                            height: b[3]
                        };
                        if (b.length >= 2) return {
                            width: b[0],
                            height: b[1]
                        }
                    } else if (this._isObject(b)) return b
                } else {
                    if (a.length >= 4) return {
                        width: a[2],
                        height: a[3]
                    };
                    if (a.length >= 2) return {
                        width: a[0],
                        height: a[1]
                    }
                } else if (this._isObject(a)) return a;
            return null
        },
        _getPoints: function (a) {
            var b, c, d = [];
            if (void 0 === a) return [];
            if (c = a.length, this._isArray(a[0])) {
                for (b = 0; c > b; b++) d.push({
                    x: a[b][0],
                    y: a[b][1]
                });
                return d
            }
            if (this._isObject(a[0])) return a;
            for (b = 0; c > b; b += 2) d.push({
                x: a[b],
                y: a[b + 1]
            });
            return d
        },
        _getImage: function (c, d) {
            var e, f, g, h;
            c ? this._isElement(c) ? d(c) : this._isString(c) ? (e = new Image, e.onload = function () {
                d(e)
            }, e.src = c) : c.data ? (f = document.createElement(a), f.width = c.width, f.height = c.height, g = f.getContext(b), g.putImageData(c,
                0, 0), h = f.toDataURL(), e = new Image, e.onload = function () {
                d(e)
            }, e.src = h) : d(null) : d(null)
        },
        _rgbToHex: function (a, b, c) {
            return ((1 << 24) + (a << 16) + (b << 8) + c)
                .toString(16)
                .slice(1)
        },
        _hexToRgb: function (a) {
            a = a.replace(h, i);
            var b = parseInt(a, 16);
            return {
                r: 255 & b >> 16,
                g: 255 & b >> 8,
                b: 255 & b
            }
        },
        getRandomColor: function () {
            for (var a = (16777215 * Math.random() << 0)
                    .toString(16); a.length < 6;) a = j + a;
            return h + a
        },
        getRGB: function (a) {
            var b;
            return a in n ? (b = n[a], {
                r: b[0],
                g: b[1],
                b: b[2]
            }) : a[0] === h ? this._hexToRgb(a.substring(1)) : a.substr(0, 4) === m ? (b = o.exec(a.replace(/ /g, "")), {
                r: parseInt(b[1], 10),
                g: parseInt(b[2], 10),
                b: parseInt(b[3], 10)
            }) : {
                r: 0,
                g: 0,
                b: 0
            }
        },
        _merge: function (a, b) {
            var c = this._clone(b);
            for (var d in a) c[d] = this._isObject(a[d]) ? this._merge(a[d], c[d]) : a[d];
            return c
        },
        _clone: function (a) {
            var b = {};
            for (var c in a) b[c] = this._isObject(a[c]) ? this._clone(a[c]) : a[c];
            return b
        },
        _degToRad: function (a) {
            return a * f
        },
        _radToDeg: function (a) {
            return a * g
        },
        _capitalize: function (a) {
            return a.charAt(0)
                .toUpperCase() + a.slice(1)
        },
        error: function (a) {
            throw new Error(l + a)
        },
        warn: function (a) {
            window.console && console.warn && console.warn(k + a)
        },
        extend: function (a, b) {
            for (var c in b.prototype) c in a.prototype || (a.prototype[c] = b.prototype[c])
        },
        addMethods: function (a, b) {
            var c;
            for (c in b) a.prototype[c] = b[c]
        },
        _getControlPoints: function (a, b, c, d) {
            var e = a.x,
                f = a.y,
                g = b.x,
                h = b.y,
                i = c.x,
                j = c.y,
                k = Math.sqrt(Math.pow(g - e, 2) + Math.pow(h - f, 2)),
                l = Math.sqrt(Math.pow(i - g, 2) + Math.pow(j - h, 2)),
                m = d * k / (k + l),
                n = d * l / (k + l),
                o = g - m * (i - e),
                p = h - m * (j - f),
                q = g + n * (i - e),
                r = h + n * (j - f);
            return [{
                x: o,
                y: p
            }, {
                x: q,
                y: r
            }]
        },
        _expandPoints: function (a, b) {
            var c, d, e = a.length,
                f = [];
            for (c = 1; e - 1 > c; c++) d = Kinetic.Util._getControlPoints(a[c - 1], a[c], a[c + 1], b), f.push(d[0]), f.push(a[c]), f.push(d[1]);
            return f
        },
        _removeLastLetter: function (a) {
            return a.substring(0, a.length - 1)
        }
    }
}(),
function () {
    var a = document.createElement("canvas"),
        b = a.getContext("2d"),
        c = window.devicePixelRatio || 1,
        d = b.webkitBackingStorePixelRatio || b.mozBackingStorePixelRatio || b.msBackingStorePixelRatio || b.oBackingStorePixelRatio || b.backingStorePixelRatio ||
        1,
        e = c / d;
    Kinetic.Canvas = function (a) {
        this.init(a)
    }, Kinetic.Canvas.prototype = {
        init: function (a) {
            a = a || {};
            var b = a.width || 0,
                c = a.height || 0,
                d = a.pixelRatio || e,
                f = a.contextType || "2d";
            this.pixelRatio = d, this.element = document.createElement("canvas"), this.element.style.padding = 0, this.element.style.margin = 0, this.element
                .style.border = 0, this.element.style.background = "transparent", this.element.style.position = "absolute", this.element.style.top = 0,
                this.element.style.left = 0, this.context = this.element.getContext(f), this.setSize(b, c)
        },
        getElement: function () {
            return this.element
        },
        getContext: function () {
            return this.context
        },
        setWidth: function (a) {
            this.width = this.element.width = a * this.pixelRatio, this.element.style.width = a + "px"
        },
        setHeight: function (a) {
            this.height = this.element.height = a * this.pixelRatio, this.element.style.height = a + "px"
        },
        getWidth: function () {
            return this.width
        },
        getHeight: function () {
            return this.height
        },
        setSize: function (a, b) {
            this.setWidth(a), this.setHeight(b)
        },
        clear: function (a) {
            var b, c, d = this.getContext();
            a ? (b = Kinetic.Util._getXY(a), c = Kinetic.Util._getSize(a), d.clearRect(b.x || 0, b.y || 0, c.width, c.height)) : d.clearRect(0, 0, this
                .getWidth(), this.getHeight())
        },
        toDataURL: function (a, b) {
            try {
                return this.element.toDataURL(a, b)
            } catch (c) {
                try {
                    return this.element.toDataURL()
                } catch (d) {
                    return Kinetic.Util.warn("Unable to get data URL. " + d.message), ""
                }
            }
        },
        fill: function (a) {
            a.getFillEnabled() && this._fill(a)
        },
        stroke: function (a) {
            a.getStrokeEnabled() && this._stroke(a)
        },
        fillStroke: function (a) {
            var b = a.getFillEnabled();
            b && this._fill(a), a.getStrokeEnabled() && this._stroke(a, a.hasShadow() && a.hasFill() && b)
        },
        applyShadow: function (a, b) {
            var c = this.context;
            c.save(), this._applyShadow(a), b(), c.restore(), b()
        },
        _applyLineCap: function (a) {
            var b = a.getLineCap();
            b && (this.context.lineCap = b)
        },
        _applyOpacity: function (a) {
            var b = a.getAbsoluteOpacity();
            1 !== b && (this.context.globalAlpha = b)
        },
        _applyLineJoin: function (a) {
            var b = a.getLineJoin();
            b && (this.context.lineJoin = b)
        },
        _applyAncestorTransforms: function (a) {
            var b = a.getAbsoluteTransform()
                .getMatrix();
            this.context.transform(b[0], b[1], b[2], b[3], b[4], b[5])
        },
        _clip: function (a) {
            var b = this.getContext(),
                c = a.getClipX() || 0,
                d = a.getClipY() || 0,
                e = a.getClipWidth(),
                f = a.getClipHeight();
            b.save(), this._applyAncestorTransforms(a), b.beginPath(), b.rect(c, d, e, f), b.clip(), b.setTransform(1, 0, 0, 1, 0, 0)
        }
    }, Kinetic.SceneCanvas = function (a) {
        Kinetic.Canvas.call(this, a)
    }, Kinetic.SceneCanvas.prototype = {
        setWidth: function (a) {
            var b = this.pixelRatio;
            Kinetic.Canvas.prototype.setWidth.call(this, a), this.context.scale(b, b)
        },
        setHeight: function (a) {
            var b = this.pixelRatio;
            Kinetic.Canvas.prototype.setHeight.call(this, a), this.context.scale(b, b)
        },
        _fillColor: function (a) {
            var b = this.context,
                c = a.getFill();
            b.fillStyle = c, a._fillFunc(b)
        },
        _fillPattern: function (a) {
            var b = this.context,
                c = a.getFillPatternImage(),
                d = a.getFillPatternX(),
                e = a.getFillPatternY(),
                f = a.getFillPatternScale(),
                g = a.getFillPatternRotation(),
                h = a.getFillPatternOffset(),
                i = a.getFillPatternRepeat();
            (d || e) && b.translate(d || 0, e || 0), g && b.rotate(g), f && b.scale(f.x, f.y), h && b.translate(-1 * h.x, -1 * h.y), b.fillStyle = b.createPattern(
                c, i || "repeat"), b.fill()
        },
        _fillLinearGradient: function (a) {
            var b = this.context,
                c = a.getFillLinearGradientStartPoint(),
                d = a.getFillLinearGradientEndPoint(),
                e = a.getFillLinearGradientColorStops(),
                f = b.createLinearGradient(c.x, c.y, d.x, d.y);
            if (e) {
                for (var g = 0; g < e.length; g += 2) f.addColorStop(e[g], e[g + 1]);
                b.fillStyle = f, b.fill()
            }
        },
        _fillRadialGradient: function (a) {
            for (var b = this.context, c = a.getFillRadialGradientStartPoint(), d = a.getFillRadialGradientEndPoint(), e = a.getFillRadialGradientStartRadius(),
                    f = a.getFillRadialGradientEndRadius(), g = a.getFillRadialGradientColorStops(), h = b.createRadialGradient(c.x, c.y, e, d.x, d.y,
                        f), i = 0; i < g.length; i += 2) h.addColorStop(g[i], g[i + 1]);
            b.fillStyle = h, b.fill()
        },
        _fill: function (a, b) {
            var c = this.context,
                d = a.getFill(),
                e = a.getFillPatternImage(),
                f = a.getFillLinearGradientColorStops(),
                g = a.getFillRadialGradientColorStops(),
                h = a.getFillPriority();
            c.save(), !b && a.hasShadow() && this._applyShadow(a), d && "color" === h ? this._fillColor(a) : e && "pattern" === h ? this._fillPattern(a) :
                f && "linear-gradient" === h ? this._fillLinearGradient(a) : g && "radial-gradient" === h ? this._fillRadialGradient(a) : d ? this._fillColor(
                    a) : e ? this._fillPattern(a) : f ? this._fillLinearGradient(a) : g && this._fillRadialGradient(a), c.restore(), !b && a.hasShadow() &&
                this._fill(a, !0)
        },
        _stroke: function (a, b) {
            var c = this.context,
                d = a.getStroke(),
                e = a.getStrokeWidth(),
                f = a.getDashArray();
            (d || e) && (c.save(), a.getStrokeScaleEnabled() || c.setTransform(1, 0, 0, 1, 0, 0), this._applyLineCap(a), f && a.getDashArrayEnabled() &&
                (c.setLineDash ? c.setLineDash(f) : "mozDash" in c ? c.mozDash = f : "webkitLineDash" in c && (c.webkitLineDash = f)), !b && a.hasShadow() &&
                this._applyShadow(a), c.lineWidth = e || 2, c.strokeStyle = d || "black", a._strokeFunc(c), c.restore(), !b && a.hasShadow() && this._stroke(
                    a, !0))
        },
        _applyShadow: function (a) {
            var b = this.context;
            if (a.hasShadow() && a.getShadowEnabled()) {
                var c = a.getAbsoluteOpacity(),
                    d = a.getShadowColor() || "black",
                    e = a.getShadowBlur() || 5,
                    f = a.getShadowOffset() || {
                        x: 0,
                        y: 0
                    };
                a.getShadowOpacity() && (b.globalAlpha = a.getShadowOpacity() * c), b.shadowColor = d, b.shadowBlur = e, b.shadowOffsetX = f.x, b.shadowOffsetY =
                    f.y
            }
        }
    }, Kinetic.Util.extend(Kinetic.SceneCanvas, Kinetic.Canvas), Kinetic.HitCanvas = function (a) {
        Kinetic.Canvas.call(this, a)
    }, Kinetic.HitCanvas.prototype = {
        _fill: function (a) {
            var b = this.context;
            b.save(), b.fillStyle = a.colorKey, a._fillFuncHit(b), b.restore()
        },
        _stroke: function (a) {
            var b = this.context,
                c = a.getStroke(),
                d = a.getStrokeWidth();
            (c || d) && (this._applyLineCap(a), b.lineWidth = d || 2, b.strokeStyle = a.colorKey, a._strokeFuncHit(b))
        }
    }, Kinetic.Util.extend(Kinetic.HitCanvas, Kinetic.Canvas)
}(),
function () {
    var a = "add",
        b = "b",
        c = "Deg",
        d = "g",
        e = "get",
        f = "#",
        g = "r",
        h = "RGB",
        i = "set",
        j = "B",
        k = "G",
        l = "Height",
        m = "R",
        n = "Width",
        o = "X",
        p = "Y";
    Kinetic.Factory = {
        addGetterSetter: function (a, b, c) {
            this.addGetter(a, b, c), this.addSetter(a, b)
        },
        addPointGetterSetter: function (a, b, c) {
            this.addPointGetter(a, b, c), this.addPointSetter(a, b), this.addGetter(a, b + o, c), this.addGetter(a, b + p, c), this.addSetter(a, b + o),
                this.addSetter(a, b + p)
        },
        addBoxGetterSetter: function (a, b, c) {
            this.addBoxGetter(a, b, c), this.addBoxSetter(a, b), this.addGetter(a, b + o, c), this.addGetter(a, b + p, c), this.addGetter(a, b + n, c),
                this.addGetter(a, b + l, c), this.addSetter(a, b + o), this.addSetter(a, b + p), this.addSetter(a, b + n), this.addSetter(a, b + l)
        },
        addPointsGetterSetter: function (a, b) {
            this.addPointsGetter(a, b), this.addPointsSetter(a, b), this.addPointAdder(a, b)
        },
        addRotationGetterSetter: function (a, b, c) {
            this.addRotationGetter(a, b, c), this.addRotationSetter(a, b)
        },
        addColorGetterSetter: function (a, c) {
            this.addGetter(a, c), this.addSetter(a, c), this.addColorRGBGetter(a, c), this.addColorComponentGetter(a, c, g), this.addColorComponentGetter(
                a, c, d), this.addColorComponentGetter(a, c, b), this.addColorRGBSetter(a, c), this.addColorComponentSetter(a, c, g), this.addColorComponentSetter(
                a, c, d), this.addColorComponentSetter(a, c, b)
        },
        addColorRGBGetter: function (a, b) {
            var c = e + Kinetic.Util._capitalize(b) + h;
            a.prototype[c] = function () {
                return Kinetic.Util.getRGB(this.attrs[b])
            }
        },
        addColorComponentGetter: function (a, b, c) {
            var d = e + Kinetic.Util._capitalize(b),
                f = d + Kinetic.Util._capitalize(c);
            a.prototype[f] = function () {
                return this[d + h]()[c]
            }
        },
        addPointsGetter: function (a, b) {
            var c = e + Kinetic.Util._capitalize(b);
            a.prototype[c] = function () {
                var a = this.attrs[b];
                return void 0 === a ? [] : a
            }
        },
        addGetter: function (a, b, c) {
            var d = e + Kinetic.Util._capitalize(b);
            a.prototype[d] = function () {
                var a = this.attrs[b];
                return void 0 === a ? c : a
            }
        },
        addPointGetter: function (a, b) {
            var c = e + Kinetic.Util._capitalize(b);
            a.prototype[c] = function () {
                var a = this;
                return {
                    x: a[c + o](),
                    y: a[c + p]()
                }
            }
        },
        addBoxGetter: function (a, b) {
            var c = e + Kinetic.Util._capitalize(b);
            a.prototype[c] = function () {
                var a = this;
                return {
                    x: a[c + o](),
                    y: a[c + p](),
                    width: a[c + n](),
                    height: a[c + l]()
                }
            }
        },
        addRotationGetter: function (a, b, d) {
            var f = e + Kinetic.Util._capitalize(b);
            a.prototype[f] = function () {
                var a = this.attrs[b];
                return void 0 === a && (a = d), a
            }, a.prototype[f + c] = function () {
                var a = this.attrs[b];
                return void 0 === a && (a = d), Kinetic.Util._radToDeg(a)
            }
        },
        addColorRGBSetter: function (a, b) {
            var c = i + Kinetic.Util._capitalize(b) + h;
            a.prototype[c] = function (a) {
                var c = a && void 0 !== a.r ? 0 | a.r : this.getAttr(b + m),
                    d = a && void 0 !== a.g ? 0 | a.g : this.getAttr(b + k),
                    e = a && void 0 !== a.b ? 0 | a.b : this.getAttr(b + j);
                this._setAttr(b, f + Kinetic.Util._rgbToHex(c, d, e))
            }
        },
        addColorComponentSetter: function (a, b, c) {
            var d = i + Kinetic.Util._capitalize(b),
                e = d + Kinetic.Util._capitalize(c);
            a.prototype[e] = function (a) {
                var b = {};
                b[c] = a, this[d + h](b)
            }
        },
        addPointsSetter: function (a, b) {
            var c = i + Kinetic.Util._capitalize(b);
            a.prototype[c] = function (a) {
                var b = Kinetic.Util._getPoints(a);
                this._setAttr("points", b)
            }
        },
        addSetter: function (a, b) {
            var c = i + Kinetic.Util._capitalize(b);
            a.prototype[c] = function (a) {
                this._setAttr(b, a)
            }
        },
        addPointSetter: function (a, b) {
            var c = i + Kinetic.Util._capitalize(b);
            a.prototype[c] = function () {
                var a = Kinetic.Util._getXY([].slice.call(arguments)),
                    d = this.attrs[b],
                    e = 0,
                    f = 0;
                a && (e = a.x, f = a.y, this._fireBeforeChangeEvent(b, d, a), void 0 !== e && this[c + o](e), void 0 !== f && this[c + p](f), this._fireChangeEvent(
                    b, d, a))
            }
        },
        addBoxSetter: function (a, b) {
            var c = i + Kinetic.Util._capitalize(b);
            a.prototype[c] = function () {
                var a, d, e, f, g = [].slice.call(arguments),
                    h = Kinetic.Util._getXY(g),
                    i = Kinetic.Util._getSize(g),
                    j = Kinetic.Util._merge(h, i),
                    k = this.attrs[b];
                j && (a = j.x, d = j.y, e = j.width, f = j.height, this._fireBeforeChangeEvent(b, k, j), void 0 !== a && this[c + o](a), void 0 !==
                    d && this[c + p](d), void 0 !== e && this[c + n](e), void 0 !== f && this[c + l](f), this._fireChangeEvent(b, k, j))
            }
        },
        addRotationSetter: function (a, b) {
            var d = i + Kinetic.Util._capitalize(b);
            a.prototype[d] = function (a) {
                this._setAttr(b, a)
            }, a.prototype[d + c] = function (a) {
                this._setAttr(b, Kinetic.Util._degToRad(a))
            }
        },
        addPointAdder: function (b, c) {
            var d = a + Kinetic.Util._removeLastLetter(Kinetic.Util._capitalize(c));
            b.prototype[d] = function () {
                var a = Kinetic.Util._getXY([].slice.call(arguments)),
                    b = this.attrs[c];
                a && (this._fireBeforeChangeEvent(c, b, a), this.attrs[c].push(a), this._fireChangeEvent(c, b, a))
            }
        }
    }
}(),
function () {
    var a = "absoluteOpacity",
        b = "absoluteTransform",
        c = "before",
        d = "Change",
        e = "children",
        f = ".",
        g = "",
        h = "get",
        i = "id",
        j = "kinetic",
        k = "listening",
        l = "mouseenter",
        m = "mouseleave",
        n = "name",
        o = "set",
        p = "Shape",
        q = " ",
        r = "stage",
        s = "transform",
        u = "Stage",
        v = "visible",
        w = ["xChange.kinetic", "yChange.kinetic", "scaleXChange.kinetic", "scaleYChange.kinetic", "skewXChange.kinetic", "skewYChange.kinetic",
            "rotationChange.kinetic", "offsetXChange.kinetic", "offsetYChange.kinetic"].join(q);
    Kinetic.Util.addMethods(Kinetic.Node, {
        _init: function (c) {
            var d = this;
            this._id = Kinetic.Global.idCounter++, this.eventListeners = {}, this.attrs = {}, this.cache = {}, this.setAttrs(c), this.on(w,
                function () {
                    this._clearCache(s), d._clearSelfAndChildrenCache(b)
                }), this.on("visibleChange.kinetic", function () {
                d._clearSelfAndChildrenCache(v)
            }), this.on("listeningChange.kinetic", function () {
                d._clearSelfAndChildrenCache(k)
            }), this.on("opacityChange.kinetic", function () {
                d._clearSelfAndChildrenCache(a)
            })
        },
        clearCache: function () {
            this.cache = {}
        },
        _clearCache: function (a) {
            delete this.cache[a]
        },
        _getCache: function (a, b) {
            var c = this.cache[a];
            return void 0 === c && (this.cache[a] = b.call(this)), this.cache[a]
        },
        _clearSelfAndChildrenCache: function (a) {
            this._clearCache(a), this.children && this.getChildren()
                .each(function (b) {
                    b._clearSelfAndChildrenCache(a)
                })
        },
        on: function (a, b) {
            var c, d, e, h, i, j = a.split(q),
                k = j.length;
            for (c = 0; k > c; c++) d = j[c], e = d.split(f), h = e[0], i = e[1] || g, this.eventListeners[h] || (this.eventListeners[h] = []),
                this.eventListeners[h].push({
                    name: i,
                    handler: b
                });
            return this
        },
        off: function (a) {
            var b, c, d, e, g, h = a.split(q),
                i = h.length;
            for (b = 0; i > b; b++)
                if (c = h[b], d = c.split(f), e = d[0], g = d[1], e) this.eventListeners[e] && this._off(e, g);
                else
                    for (t in this.eventListeners) this._off(t, g);
            return this
        },
        remove: function () {
            var c = this.getParent();
            return c && c.children && (c.children.splice(this.index, 1), c._setChildrenIndices(), delete this.parent), this._clearSelfAndChildrenCache(
                r), this._clearSelfAndChildrenCache(b), this._clearSelfAndChildrenCache(v), this._clearSelfAndChildrenCache(k), this._clearSelfAndChildrenCache(
                a), this
        },
        destroy: function () {
            var a = Kinetic.Global;
            a._removeId(this.getId()), a._removeName(this.getName(), this._id), this.remove()
        },
        getAttr: function (a) {
            var b = h + Kinetic.Util._capitalize(a);
            return Kinetic.Util._isFunction(this[b]) ? this[b]() : this.attrs[a]
        },
        getAncestors: function () {
            for (var a = this.getParent(), b = new Kinetic.Collection; a;) b.push(a), a = a.getParent();
            return b
        },
        setAttr: function () {
            var a = Array.prototype.slice.call(arguments),
                b = a[0],
                c = o + Kinetic.Util._capitalize(b),
                d = this[c];
            return a.shift(), Kinetic.Util._isFunction(d) ? d.apply(this, a) : this.attrs[b] = a[0], this
        },
        getAttrs: function () {
            return this.attrs || {}
        },
        setAttrs: function (a) {
            var b, c;
            if (a)
                for (b in a) b === e || (c = o + Kinetic.Util._capitalize(b), Kinetic.Util._isFunction(this[c]) ? this[c](a[b]) : this._setAttr(b,
                    a[b]));
            return this
        },
        isListening: function () {
            return this._getCache(k, this._isListening)
        },
        _isListening: function () {
            var a = this.getListening(),
                b = this.getParent();
            return a && b && !b.isListening() ? !1 : a
        },
        isVisible: function () {
            return this._getCache(v, this._isVisible)
        },
        _isVisible: function () {
            var a = this.getVisible(),
                b = this.getParent();
            return a && b && !b.isVisible() ? !1 : a
        },
        show: function () {
            return this.setVisible(!0), this
        },
        hide: function () {
            return this.setVisible(!1), this
        },
        getZIndex: function () {
            return this.index || 0
        },
        getAbsoluteZIndex: function () {
            function a(i) {
                for (b = [], c = i.length, d = 0; c > d; d++) e = i[d], h++, e.nodeType !== p && (b = b.concat(e.getChildren()
                    .toArray())), e._id === g._id && (d = c);
                b.length > 0 && b[0].getLevel() <= f && a(b)
            }
            var b, c, d, e, f = this.getLevel(),
                g = this,
                h = 0;
            return g.nodeType !== u && a(g.getStage()
                .getChildren()), h
        },
        getLevel: function () {
            for (var a = 0, b = this.parent; b;) a++, b = b.parent;
            return a
        },
        setPosition: function () {
            var a = Kinetic.Util._getXY([].slice.call(arguments));
            return this.setX(a.x), this.setY(a.y), this
        },
        getPosition: function () {
            return {
                x: this.getX(),
                y: this.getY()
            }
        },
        getAbsolutePosition: function () {
            var a = this.getAbsoluteTransform(),
                b = this.getOffset();
            return a.translate(b.x, b.y), a.getTranslation()
        },
        setAbsolutePosition: function () {
            var a, b = Kinetic.Util._getXY([].slice.call(arguments)),
                c = this._clearTransform();
            return this.attrs.x = c.x, this.attrs.y = c.y, delete c.x, delete c.y, a = this.getAbsoluteTransform(), a.invert(), a.translate(b.x, b.y),
                b = {
                    x: this.attrs.x + a.getTranslation()
                        .x,
                    y: this.attrs.y + a.getTranslation()
                        .y
                }, this.setPosition(b.x, b.y), this._setTransform(c), this
        },
        _setTransform: function (a) {
            var c;
            for (c in a) this.attrs[c] = a[c];
            this._clearCache(s), this._clearSelfAndChildrenCache(b)
        },
        _clearTransform: function () {
            var a = {
                x: this.getX(),
                y: this.getY(),
                rotation: this.getRotation(),
                scaleX: this.getScaleX(),
                scaleY: this.getScaleY(),
                offsetX: this.getOffsetX(),
                offsetY: this.getOffsetY(),
                skewX: this.getSkewX(),
                skewY: this.getSkewY()
            };
            return this.attrs.x = 0, this.attrs.y = 0, this.attrs.rotation = 0, this.attrs.scaleX = 1, this.attrs.scaleY = 1, this.attrs.offsetX =
                0, this.attrs.offsetY = 0, this.attrs.skewX = 0, this.attrs.skewY = 0, this._clearCache(s), this._clearSelfAndChildrenCache(b), a
        },
        move: function () {
            var a = Kinetic.Util._getXY([].slice.call(arguments)),
                b = this.getX(),
                c = this.getY();
            return void 0 !== a.x && (b += a.x), void 0 !== a.y && (c += a.y), this.setPosition(b, c), this
        },
        _eachAncestorReverse: function (a, b) {
            var c, d, e = [],
                f = this.getParent();
            for (b && e.unshift(this); f;) e.unshift(f), f = f.parent;
            for (c = e.length, d = 0; c > d; d++) a(e[d])
        },
        rotate: function (a) {
            return this.setRotation(this.getRotation() + a), this
        },
        rotateDeg: function (a) {
            return this.setRotation(this.getRotation() + Kinetic.Util._degToRad(a)), this
        },
        moveToTop: function () {
            var a = this.index;
            return this.parent.children.splice(a, 1), this.parent.children.push(this), this.parent._setChildrenIndices(), !0
        },
        moveUp: function () {
            var a = this.index,
                b = this.parent.getChildren()
                .length;
            return b - 1 > a ? (this.parent.children.splice(a, 1), this.parent.children.splice(a + 1, 0, this), this.parent._setChildrenIndices(), !
                0) : !1
        },
        moveDown: function () {
            var a = this.index;
            return a > 0 ? (this.parent.children.splice(a, 1), this.parent.children.splice(a - 1, 0, this), this.parent._setChildrenIndices(), !0) :
                !1
        },
        moveToBottom: function () {
            var a = this.index;
            return a > 0 ? (this.parent.children.splice(a, 1), this.parent.children.unshift(this), this.parent._setChildrenIndices(), !0) : !1
        },
        setZIndex: function (a) {
            var b = this.index;
            return this.parent.children.splice(b, 1), this.parent.children.splice(a, 0, this), this.parent._setChildrenIndices(), this
        },
        getAbsoluteOpacity: function () {
            return this._getCache(a, this._getAbsoluteOpacity)
        },
        _getAbsoluteOpacity: function () {
            var a = this.getOpacity();
            return this.getParent() && (a *= this.getParent()
                .getAbsoluteOpacity()), a
        },
        moveTo: function (a) {
            return Kinetic.Node.prototype.remove.call(this), a.add(this), this
        },
        toObject: function () {
            var a, b, c = Kinetic.Util,
                d = {},
                e = this.getAttrs();
            d.attrs = {};
            for (a in e) b = e[a], c._isFunction(b) || c._isElement(b) || c._isObject(b) && c._hasMethods(b) || (d.attrs[a] = b);
            return d.className = this.getClassName(), d
        },
        toJSON: function () {
            return JSON.stringify(this.toObject())
        },
        getParent: function () {
            return this.parent
        },
        getLayer: function () {
            return this.getParent()
                .getLayer()
        },
        getStage: function () {
            return this._getCache(r, this._getStage)
        },
        _getStage: function () {
            var a = this.getParent();
            return a ? a.getStage() : void 0
        },
        fire: function (a, b, c) {
            return c ? this._fireAndBubble(a, b || {}) : this._fire(a, b || {}), this
        },
        getAbsoluteTransform: function () {
            return this._getCache(b, this._getAbsoluteTransform)
        },
        _getAbsoluteTransform: function () {
            var a, b = new Kinetic.Transform;
            return this._eachAncestorReverse(function (c) {
                a = c.getTransform(), b.multiply(a)
            }, !0), b
        },
        _getTransform: function () {
            var a = new Kinetic.Transform,
                b = this.getX(),
                c = this.getY(),
                d = this.getRotation(),
                e = this.getScaleX(),
                f = this.getScaleY(),
                g = this.getSkewX(),
                h = this.getSkewY(),
                i = this.getOffsetX(),
                j = this.getOffsetY();
            return (0 !== b || 0 !== c) && a.translate(b, c), 0 !== d && a.rotate(d), (0 !== g || 0 !== h) && a.skew(g, h), (1 !== e || 1 !== f) &&
                a.scale(e, f), (0 !== i || 0 !== j) && a.translate(-1 * i, -1 * j), a
        },
        clone: function (a) {
            var b, c, d, e, f, g = this.getClassName(),
                h = new Kinetic[g](this.attrs);
            for (b in this.eventListeners)
                for (c = this.eventListeners[b], d = c.length, e = 0; d > e; e++) f = c[e], f.name.indexOf(j) < 0 && (h.eventListeners[b] || (h.eventListeners[
                    b] = []), h.eventListeners[b].push(f));
            return h.setAttrs(a), h
        },
        toDataURL: function (a) {
            a = a || {};
            var b = a.mimeType || null,
                c = a.quality || null,
                d = this.getStage(),
                e = a.x || 0,
                f = a.y || 0,
                g = new Kinetic.SceneCanvas({
                    width: a.width || d.getWidth(),
                    height: a.height || d.getHeight(),
                    pixelRatio: 1
                }),
                h = g.getContext();
            return h.save(), (e || f) && h.translate(-1 * e, -1 * f), this.drawScene(g), h.restore(), g.toDataURL(b, c)
        },
        toImage: function (a) {
            Kinetic.Util._getImage(this.toDataURL(a), function (b) {
                a.callback(b)
            })
        },
        setSize: function () {
            var a = Kinetic.Util._getSize(Array.prototype.slice.call(arguments));
            return this.setWidth(a.width), this.setHeight(a.height), this
        },
        getSize: function () {
            return {
                width: this.getWidth(),
                height: this.getHeight()
            }
        },
        getWidth: function () {
            return this.attrs.width || 0
        },
        getHeight: function () {
            return this.attrs.height || 0
        },
        getClassName: function () {
            return this.className || this.nodeType
        },
        getType: function () {
            return this.nodeType
        },
        _get: function (a) {
            return this.nodeType === a ? [this] : []
        },
        _off: function (a, b) {
            var c, d, e = this.eventListeners[a];
            for (c = 0; c < e.length; c++)
                if (d = e[c].name, !("kinetic" === d && "kinetic" !== b || b && d !== b)) {
                    if (e.splice(c, 1), 0 === e.length) {
                        delete this.eventListeners[a];
                        break
                    }
                    c--
                }
        },
        _fireBeforeChangeEvent: function (a, b, e) {
            this._fire(c + Kinetic.Util._capitalize(a) + d, {
                oldVal: b,
                newVal: e
            })
        },
        _fireChangeEvent: function (a, b, c) {
            this._fire(a + d, {
                oldVal: b,
                newVal: c
            })
        },
        setId: function (a) {
            var b = this.getId(),
                c = Kinetic.Global;
            return c._removeId(b), c._addId(this, a), this._setAttr(i, a), this
        },
        setName: function (a) {
            var b = this.getName(),
                c = Kinetic.Global;
            return c._removeName(b, this._id), c._addName(this, a), this._setAttr(n, a), this
        },
        _setAttr: function (a, b) {
            var c;
            void 0 !== b && (c = this.attrs[a], this._fireBeforeChangeEvent(a, c, b), this.attrs[a] = b, this._fireChangeEvent(a, c, b))
        },
        _fireAndBubble: function (a, b, c) {
            var d = !0;
            b && this.nodeType === p && (b.targetNode = this), a === l && c && this._id === c._id ? d = !1 : a === m && c && this._id === c._id &&
                (d = !1), d && (this._fire(a, b), b && !b.cancelBubble && this.parent && (c && c.parent ? this._fireAndBubble.call(this.parent, a,
                    b, c.parent) : this._fireAndBubble.call(this.parent, a, b)))
        },
        _fire: function (a, b) {
            var c, d, e = this.eventListeners[a];
            if (e)
                for (c = e.length, d = 0; c > d; d++) e[d].handler.call(this, b)
        },
        draw: function () {
            return this.drawScene(), this.drawHit(), this
        },
        shouldDrawHit: function () {
            return this.isListening() && this.isVisible() && !Kinetic.Global.isDragging()
        },
        isDraggable: function () {
            return !1
        },
        getTransform: function () {
            return this._getCache(s, this._getTransform)
        }
    }), Kinetic.Node.create = function (a, b) {
        return this._createNode(JSON.parse(a), b)
    }, Kinetic.Node._createNode = function (a, b) {
        var c, d, e, f = Kinetic.Node.prototype.getClassName.call(a),
            g = a.children;
        if (b && (a.attrs.container = b), c = new Kinetic[f](a.attrs), g)
            for (d = g.length, e = 0; d > e; e++) c.add(this._createNode(g[e]));
        return c
    }, Kinetic.Factory.addGetterSetter(Kinetic.Node, "x", 0), Kinetic.Factory.addGetterSetter(Kinetic.Node, "y", 0), Kinetic.Factory.addGetterSetter(
        Kinetic.Node, "opacity", 1), Kinetic.Factory.addGetter(Kinetic.Node, "name"), Kinetic.Factory.addGetter(Kinetic.Node, "id"), Kinetic.Factory.addRotationGetterSetter(
        Kinetic.Node, "rotation", 0), Kinetic.Factory.addPointGetterSetter(Kinetic.Node, "scale", 1), Kinetic.Factory.addPointGetterSetter(Kinetic.Node,
        "skew", 0), Kinetic.Factory.addPointGetterSetter(Kinetic.Node, "offset", 0), Kinetic.Factory.addSetter(Kinetic.Node, "width"), Kinetic.Factory.addSetter(
        Kinetic.Node, "height"), Kinetic.Factory.addGetterSetter(Kinetic.Node, "listening", !0), Kinetic.Factory.addGetterSetter(Kinetic.Node, "visible", !
        0), Kinetic.Collection.mapMethods(["on", "off", "remove", "destroy", "show", "hide", "move", "rotate", "moveToTop", "moveUp", "moveDown",
        "moveToBottom", "moveTo", "fire", "draw"])
}(),
function () {
    function a(a) {
        window.setTimeout(a, 1e3 / 60)
    }
    var b = 500;
    Kinetic.Animation = function (a, b) {
            this.func = a, this.setLayers(b), this.id = Kinetic.Animation.animIdCounter++, this.frame = {
                time: 0,
                timeDiff: 0,
                lastTime: (new Date)
                    .getTime()
            }
        }, Kinetic.Animation.prototype = {
            setLayers: function (a) {
                var b = [];
                b = a ? a.length > 0 ? a : [a] : [], this.layers = b
            },
            getLayers: function () {
                return this.layers
            },
            addLayer: function (a) {
                var b, c, d = this.layers;
                if (d) {
                    for (b = d.length, c = 0; b > c; c++)
                        if (d[c]._id === a._id) return !1
                } else this.layers = [];
                return this.layers.push(a), !0
            },
            isRunning: function () {
                for (var a = Kinetic.Animation, b = a.animations, c = 0; c < b.length; c++)
                    if (b[c].id === this.id) return !0;
                return !1
            },
            start: function () {
                this.stop(), this.frame.timeDiff = 0, this.frame.lastTime = (new Date)
                    .getTime(), Kinetic.Animation._addAnimation(this)
            },
            stop: function () {
                Kinetic.Animation._removeAnimation(this)
            },
            _updateFrameObject: function (a) {
                this.frame.timeDiff = a - this.frame.lastTime, this.frame.lastTime = a, this.frame.time += this.frame.timeDiff, this.frame.frameRate = 1e3 /
                    this.frame.timeDiff
            }
        }, Kinetic.Animation.animations = [], Kinetic.Animation.animIdCounter = 0, Kinetic.Animation.animRunning = !1, Kinetic.Animation._addAnimation =
        function (a) {
            this.animations.push(a), this._handleAnimation()
        }, Kinetic.Animation._removeAnimation = function (a) {
            for (var b = a.id, c = this.animations, d = c.length, e = 0; d > e; e++)
                if (c[e].id === b) {
                    this.animations.splice(e, 1);
                    break
                }
        }, Kinetic.Animation._runFrames = function () {
            var a, b, c, d, e, f, g, h, i = {},
                j = this.animations;
            for (d = 0; d < j.length; d++) {
                for (a = j[d], b = a.layers, c = a.func, a._updateFrameObject((new Date)
                        .getTime()), f = b.length, e = 0; f > e; e++) g = b[e], void 0 !== g._id && (i[g._id] = g);
                c && c.call(a, a.frame)
            }
            for (h in i) i[h].draw()
        }, Kinetic.Animation._animationLoop = function () {
            var a = this;
            this.animations.length > 0 ? (this._runFrames(), Kinetic.Animation.requestAnimFrame(function () {
                a._animationLoop()
            })) : this.animRunning = !1
        }, Kinetic.Animation._handleAnimation = function () {
            var a = this;
            this.animRunning || (this.animRunning = !0, a._animationLoop())
        }, RAF = function () {
            return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame ||
                window.msRequestAnimationFrame || a
        }(), Kinetic.Animation.requestAnimFrame = function (b) {
            var c = Kinetic.DD && Kinetic.DD.isDragging ? a : RAF;
            c(b)
        };
    var c = Kinetic.Node.prototype.moveTo;
    Kinetic.Node.prototype.moveTo = function (a) {
        c.call(this, a)
    }, Kinetic.Layer.prototype.batchDraw = function () {
        var a = this;
        this.batchAnim || (this.batchAnim = new Kinetic.Animation(function () {
                a.lastBatchDrawTime && (new Date)
                    .getTime() - a.lastBatchDrawTime > b && a.batchAnim.stop()
            }, this)), this.lastBatchDrawTime = (new Date)
            .getTime(), this.batchAnim.isRunning() || (this.draw(), this.batchAnim.start())
    }, Kinetic.Stage.prototype.batchDraw = function () {
        this.getChildren()
            .each(function (a) {
                a.batchDraw()
            })
    }
}(),
function () {
    var a = {
            node: 1,
            duration: 1,
            easing: 1,
            onFinish: 1,
            yoyo: 1
        },
        b = 1,
        c = 2,
        d = 3,
        e = 0;
    Kinetic.Tween = function (b) {
        var c, d = this,
            g = b.node,
            h = g._id,
            i = b.duration || 1,
            j = b.easing || Kinetic.Easings.Linear,
            k = !!b.yoyo;
        this.node = g, this._id = e++, this.anim = new Kinetic.Animation(function () {
            d.tween.onEnterFrame()
        }, g.getLayer() || g.getLayers()), this.tween = new f(c, function (a) {
            d._tweenFunc(a)
        }, j, 0, 1, 1e3 * i, k), this._addListeners(), Kinetic.Tween.attrs[h] || (Kinetic.Tween.attrs[h] = {}), Kinetic.Tween.attrs[h][this._id] || (
            Kinetic.Tween.attrs[h][this._id] = {}), Kinetic.Tween.tweens[h] || (Kinetic.Tween.tweens[h] = {});
        for (c in b) void 0 === a[c] && this._addAttr(c, b[c]);
        this.reset(), this.onFinish = b.onFinish, this.onReset = b.onReset
    }, Kinetic.Tween.attrs = {}, Kinetic.Tween.tweens = {}, Kinetic.Tween.prototype = {
        _addAttr: function (a, b) {
            var c, d, e, f, g, h, i, j = this.node,
                k = j._id;
            if (e = Kinetic.Tween.tweens[k][a], e && delete Kinetic.Tween.attrs[k][e][a], c = j.getAttr(a), Kinetic.Util._isArray(b))
                for (b = Kinetic.Util._getPoints(b), d = [], g = b.length, f = 0; g > f; f++) h = c[f], i = b[f], d.push({
                    x: i.x - h.x,
                    y: i.y - h.y
                });
            else d = b - c;
            Kinetic.Tween.attrs[k][this._id][a] = {
                start: c,
                diff: d
            }, Kinetic.Tween.tweens[k][a] = this._id
        },
        _tweenFunc: function (a) {
            var b, c, d, e, f, g, h, i, j, k = this.node,
                l = Kinetic.Tween.attrs[k._id][this._id];
            for (b in l) {
                if (c = l[b], d = c.start, e = c.diff, Kinetic.Util._isArray(d))
                    for (f = [], h = d.length, g = 0; h > g; g++) i = d[g], j = e[g], f.push({
                        x: i.x + j.x * a,
                        y: i.y + j.y * a
                    });
                else f = d + e * a;
                k.setAttr(b, f)
            }
        },
        _addListeners: function () {
            var a = this;
            this.tween.onPlay = function () {
                a.anim.start()
            }, this.tween.onReverse = function () {
                a.anim.start()
            }, this.tween.onPause = function () {
                a.anim.stop()
            }, this.tween.onFinish = function () {
                a.onFinish && a.onFinish()
            }, this.tween.onReset = function () {
                a.onReset && a.onReset()
            }
        },
        play: function () {
            return this.tween.play(), this
        },
        reverse: function () {
            return this.tween.reverse(), this
        },
        reset: function () {
            var a = this.node;
            return this.tween.reset(), (a.getLayer() || a.getLayers())
                .draw(), this
        },
        seek: function (a) {
            var b = this.node;
            return this.tween.seek(1e3 * a), (b.getLayer() || b.getLayers())
                .draw(), this
        },
        pause: function () {
            return this.tween.pause(), this
        },
        finish: function () {
            var a = this.node;
            return this.tween.finish(), (a.getLayer() || a.getLayers())
                .draw(), this
        },
        destroy: function () {
            var a, b = this.node._id,
                c = this._id,
                d = Kinetic.Tween.tweens[b];
            this.pause();
            for (a in d) delete Kinetic.Tween.tweens[b][a];
            delete Kinetic.Tween.attrs[b][c]
        }
    };
    var f = function (a, b, c, d, e, f, g) {
        this.prop = a, this.propFunc = b, this.begin = d, this._pos = d, this.duration = f, this._change = 0, this.prevPos = 0, this.yoyo = g, this._time =
            0, this._position = 0, this._startTime = 0, this._finish = 0, this.func = c, this._change = e - this.begin, this.pause()
    };
    f.prototype = {
        fire: function (a) {
            var b = this[a];
            b && b()
        },
        setTime: function (a) {
            a > this.duration ? this.yoyo ? (this._time = this.duration, this.reverse()) : this.finish() : 0 > a ? this.yoyo ? (this._time = 0, this.play()) :
                this.reset() : (this._time = a, this.update())
        },
        getTime: function () {
            return this._time
        },
        setPosition: function (a) {
            this.prevPos = this._pos, this.propFunc(a), this._pos = a
        },
        getPosition: function (a) {
            return void 0 === a && (a = this._time), this.func(a, this.begin, this._change, this.duration)
        },
        play: function () {
            this.state = c, this._startTime = this.getTimer() - this._time, this.onEnterFrame(), this.fire("onPlay")
        },
        reverse: function () {
            this.state = d, this._time = this.duration - this._time, this._startTime = this.getTimer() - this._time, this.onEnterFrame(), this.fire(
                "onReverse")
        },
        seek: function (a) {
            this.pause(), this._time = a, this.update(), this.fire("onSeek")
        },
        reset: function () {
            this.pause(), this._time = 0, this.update(), this.fire("onReset")
        },
        finish: function () {
            this.pause(), this._time = this.duration, this.update(), this.fire("onFinish")
        },
        update: function () {
            this.setPosition(this.getPosition(this._time))
        },
        onEnterFrame: function () {
            var a = this.getTimer() - this._startTime;
            this.state === c ? this.setTime(a) : this.state === d && this.setTime(this.duration - a)
        },
        pause: function () {
            this.state = b, this.fire("onPause")
        },
        getTimer: function () {
            return (new Date)
                .getTime()
        }
    }, Kinetic.Easings = {
        BackEaseIn: function (a, b, c, d) {
            var e = 1.70158;
            return c * (a /= d) * a * ((e + 1) * a - e) + b
        },
        BackEaseOut: function (a, b, c, d) {
            var e = 1.70158;
            return c * ((a = a / d - 1) * a * ((e + 1) * a + e) + 1) + b
        },
        BackEaseInOut: function (a, b, c, d) {
            var e = 1.70158;
            return (a /= d / 2) < 1 ? c / 2 * a * a * (((e *= 1.525) + 1) * a - e) + b : c / 2 * ((a -= 2) * a * (((e *= 1.525) + 1) * a + e) + 2) + b
        },
        ElasticEaseIn: function (a, b, c, d, e, f) {
            var g = 0;
            return 0 === a ? b : 1 == (a /= d) ? b + c : (f || (f = .3 * d), !e || e < Math.abs(c) ? (e = c, g = f / 4) : g = f / (2 * Math.PI) * Math.asin(
                c / e), -(e * Math.pow(2, 10 * (a -= 1)) * Math.sin((a * d - g) * 2 * Math.PI / f)) + b)
        },
        ElasticEaseOut: function (a, b, c, d, e, f) {
            var g = 0;
            return 0 === a ? b : 1 == (a /= d) ? b + c : (f || (f = .3 * d), !e || e < Math.abs(c) ? (e = c, g = f / 4) : g = f / (2 * Math.PI) * Math.asin(
                c / e), e * Math.pow(2, -10 * a) * Math.sin((a * d - g) * 2 * Math.PI / f) + c + b)
        },
        ElasticEaseInOut: function (a, b, c, d, e, f) {
            var g = 0;
            return 0 === a ? b : 2 == (a /= d / 2) ? b + c : (f || (f = d * .3 * 1.5), !e || e < Math.abs(c) ? (e = c, g = f / 4) : g = f / (2 * Math.PI) *
                Math.asin(c / e), 1 > a ? -.5 * e * Math.pow(2, 10 * (a -= 1)) * Math.sin((a * d - g) * 2 * Math.PI / f) + b : .5 * e * Math.pow(2, -
                    10 * (a -= 1)) * Math.sin((a * d - g) * 2 * Math.PI / f) + c + b)
        },
        BounceEaseOut: function (a, b, c, d) {
            return (a /= d) < 1 / 2.75 ? c * 7.5625 * a * a + b : 2 / 2.75 > a ? c * (7.5625 * (a -= 1.5 / 2.75) * a + .75) + b : 2.5 / 2.75 > a ? c *
                (7.5625 * (a -= 2.25 / 2.75) * a + .9375) + b : c * (7.5625 * (a -= 2.625 / 2.75) * a + .984375) + b
        },
        BounceEaseIn: function (a, b, c, d) {
            return c - Kinetic.Easings.BounceEaseOut(d - a, 0, c, d) + b
        },
        BounceEaseInOut: function (a, b, c, d) {
            return d / 2 > a ? .5 * Kinetic.Easings.BounceEaseIn(2 * a, 0, c, d) + b : .5 * Kinetic.Easings.BounceEaseOut(2 * a - d, 0, c, d) + .5 * c +
                b
        },
        EaseIn: function (a, b, c, d) {
            return c * (a /= d) * a + b
        },
        EaseOut: function (a, b, c, d) {
            return -c * (a /= d) * (a - 2) + b
        },
        EaseInOut: function (a, b, c, d) {
            return (a /= d / 2) < 1 ? c / 2 * a * a + b : -c / 2 * (--a * (a - 2) - 1) + b
        },
        StrongEaseIn: function (a, b, c, d) {
            return c * (a /= d) * a * a * a * a + b
        },
        StrongEaseOut: function (a, b, c, d) {
            return c * ((a = a / d - 1) * a * a * a * a + 1) + b
        },
        StrongEaseInOut: function (a, b, c, d) {
            return (a /= d / 2) < 1 ? c / 2 * a * a * a * a * a + b : c / 2 * ((a -= 2) * a * a * a * a + 2) + b
        },
        Linear: function (a, b, c, d) {
            return c * a / d + b
        }
    }
}(),
function () {
    Kinetic.DD = {
        anim: new Kinetic.Animation,
        isDragging: !1,
        offset: {
            x: 0,
            y: 0
        },
        node: null,
        _drag: function (a) {
            var b = Kinetic.DD,
                c = b.node;
            c && (c._setDragPosition(a), b.isDragging || (b.isDragging = !0, c.fire("dragstart", a, !0)), c.fire("dragmove", a, !0))
        },
        _endDragBefore: function (a) {
            var b, c, d = Kinetic.DD,
                e = Kinetic.Global,
                f = d.node;
            f && (b = f.nodeType, c = f.getLayer(), d.anim.stop(), d.isDragging && (d.isDragging = !1, e.listenClickTap = !1, a && (a.dragEndNode = f)),
                delete d.node, (c || f)
                .draw())
        },
        _endDragAfter: function (a) {
            a = a || {};
            var b = a.dragEndNode;
            a && b && b.fire("dragend", a, !0)
        }
    }, Kinetic.Node.prototype.startDrag = function () {
        var a = Kinetic.DD,
            b = this.getStage(),
            c = this.getLayer(),
            d = b.getPointerPosition(),
            e = this.getAbsolutePosition();
        d && (a.node && a.node.stopDrag(), a.node = this, a.offset.x = d.x - e.x, a.offset.y = d.y - e.y, a.anim.setLayers(c || this.getLayers()), a.anim.start(),
            this._setDragPosition())
    }, Kinetic.Node.prototype._setDragPosition = function (a) {
        var b = Kinetic.DD;
        pos = this.getStage()
            .getPointerPosition(), dbf = this.getDragBoundFunc(), newNodePos = {
                x: pos.x - b.offset.x,
                y: pos.y - b.offset.y
            }, void 0 !== dbf && (newNodePos = dbf.call(this, newNodePos, a)), this.setAbsolutePosition(newNodePos)
    }, Kinetic.Node.prototype.stopDrag = function () {
        var a = Kinetic.DD,
            b = {};
        a._endDragBefore(b), a._endDragAfter(b)
    }, Kinetic.Node.prototype.setDraggable = function (a) {
        this._setAttr("draggable", a), this._dragChange()
    };
    var a = Kinetic.Node.prototype.destroy;
    Kinetic.Node.prototype.destroy = function () {
            var b = Kinetic.DD;
            b.node && b.node._id === this._id && this.stopDrag(), a.call(this)
        }, Kinetic.Node.prototype.isDragging = function () {
            var a = Kinetic.DD;
            return a.node && a.node._id === this._id && a.isDragging
        }, Kinetic.Node.prototype._listenDrag = function () {
            this._dragCleanup();
            var a = this;
            this.on("mousedown.kinetic touchstart.kinetic", function (b) {
                Kinetic.DD.node || a.startDrag(b)
            })
        }, Kinetic.Node.prototype._dragChange = function () {
            if (this.attrs.draggable) this._listenDrag();
            else {
                this._dragCleanup();
                var a = this.getStage(),
                    b = Kinetic.DD;
                a && b.node && b.node._id === this._id && b.node.stopDrag()
            }
        }, Kinetic.Node.prototype._dragCleanup = function () {
            this.off("mousedown.kinetic"), this.off("touchstart.kinetic")
        }, Kinetic.Factory.addGetterSetter(Kinetic.Node, "dragBoundFunc"), Kinetic.Factory.addGetter(Kinetic.Node, "draggable", !1), Kinetic.Node.prototype.isDraggable =
        Kinetic.Node.prototype.getDraggable;
    var b = document.getElementsByTagName("html")[0];
    b.addEventListener("mouseup", Kinetic.DD._endDragBefore, !0), b.addEventListener("touchend", Kinetic.DD._endDragBefore, !0), b.addEventListener("mouseup",
        Kinetic.DD._endDragAfter, !1), b.addEventListener("touchend", Kinetic.DD._endDragAfter, !1)
}(),
function () {
    Kinetic.Util.addMethods(Kinetic.Container, {
        __init: function (a) {
            this.children = new Kinetic.Collection, Kinetic.Node.call(this, a)
        },
        getChildren: function () {
            return this.children
        },
        hasChildren: function () {
            return this.getChildren()
                .length > 0
        },
        removeChildren: function () {
            for (var a, b = this.children; b.length > 0;) a = b[0], a.hasChildren() && a.removeChildren(), a.remove();
            return this
        },
        destroyChildren: function () {
            for (var a = this.children; a.length > 0;) a[0].destroy();
            return this
        },
        add: function (a) {
            var b = (Kinetic.Global, this.children);
            return this._validateAdd(a), a.index = b.length, a.parent = this, b.push(a), this._fire("add", {
                child: a
            }), this
        },
        destroy: function () {
            this.hasChildren() && this.destroyChildren(), Kinetic.Node.prototype.destroy.call(this)
        },
        get: function (a) {
            var b, c, d, e, f, g, h, i = [],
                j = a.replace(/ /g, "")
                .split(","),
                k = j.length;
            for (b = 0; k > b; b++)
                if (d = j[b], "#" === d.charAt(0)) f = this._getNodeById(d.slice(1)), f && i.push(f);
                else if ("." === d.charAt(0)) e = this._getNodesByName(d.slice(1)), i = i.concat(e);
            else
                for (g = this.getChildren(), h = g.length, c = 0; h > c; c++) i = i.concat(g[c]._get(d));
            return Kinetic.Collection.toCollection(i)
        },
        _getNodeById: function (a) {
            var b = Kinetic.Global,
                c = b.ids[a];
            return void 0 !== c && this.isAncestorOf(c) ? c : null
        },
        _getNodesByName: function (a) {
            var b = Kinetic.Global,
                c = b.names[a] || [];
            return this._getDescendants(c)
        },
        _get: function (a) {
            for (var b = Kinetic.Node.prototype._get.call(this, a), c = this.getChildren(), d = c.length, e = 0; d > e; e++) b = b.concat(c[e]._get(
                a));
            return b
        },
        toObject: function () {
            var a = Kinetic.Node.prototype.toObject.call(this);
            a.children = [];
            for (var b = this.getChildren(), c = b.length, d = 0; c > d; d++) {
                var e = b[d];
                a.children.push(e.toObject())
            }
            return a
        },
        _getDescendants: function (a) {
            for (var b = [], c = a.length, d = 0; c > d; d++) {
                var e = a[d];
                this.isAncestorOf(e) && b.push(e)
            }
            return b
        },
        isAncestorOf: function (a) {
            for (var b = a.getParent(); b;) {
                if (b._id === this._id) return !0;
                b = b.getParent()
            }
            return !1
        },
        clone: function (a) {
            var b = Kinetic.Node.prototype.clone.call(this, a);
            return this.getChildren()
                .each(function (a) {
                    b.add(a.clone())
                }), b
        },
        getAllIntersections: function () {
            for (var a = Kinetic.Util._getXY(Array.prototype.slice.call(arguments)), b = [], c = this.get("Shape"), d = c.length, e = 0; d > e; e++) {
                var f = c[e];
                f.isVisible() && f.intersects(a) && b.push(f)
            }
            return b
        },
        _setChildrenIndices: function () {
            for (var a = this.children, b = a.length, c = 0; b > c; c++) a[c].index = c
        },
        drawScene: function (a) {
            var b, c, d, e = this.getLayer(),
                f = this.getClipWidth() && this.getClipHeight();
            if (!a && e && (a = e.getCanvas()), this.isVisible()) {
                for (f && a._clip(this), b = this.children, d = b.length, c = 0; d > c; c++) b[c].drawScene(a);
                f && a.getContext()
                    .restore()
            }
            return this
        },
        drawHit: function () {
            var a, b = this.getClipWidth() && this.getClipHeight() && "Stage" !== this.nodeType,
                c = 0,
                d = 0,
                e = [];
            if (this.shouldDrawHit()) {
                for (b && (a = this.getLayer()
                        .hitCanvas, a._clip(this)), e = this.children, d = e.length, c = 0; d > c; c++) e[c].drawHit();
                b && a.getContext()
                    .restore()
            }
            return this
        }
    }), Kinetic.Util.extend(Kinetic.Container, Kinetic.Node), Kinetic.Factory.addBoxGetterSetter(Kinetic.Container, "clip")
}(),
function () {
    function a(a) {
        a.fill()
    }

    function b(a) {
        a.stroke()
    }

    function c(a) {
        a.fill()
    }

    function d(a) {
        a.stroke()
    }

    function e() {
        this._clearCache(f)
    }
    var f = "hasShadow";
    Kinetic.Util.addMethods(Kinetic.Shape, {
            __init: function (f) {
                this.nodeType = "Shape", this._fillFunc = a, this._strokeFunc = b, this._fillFuncHit = c, this._strokeFuncHit = d;
                for (var g, h = Kinetic.Global.shapes;;)
                    if (g = Kinetic.Util.getRandomColor(), g && !(g in h)) break;
                this.colorKey = g, h[g] = this, Kinetic.Node.call(this, f), this._setDrawFuncs(), this.on(
                    "shadowColorChange.kinetic shadowBlurChange.kinetic shadowOffsetChange.kinetic shadowOpacityChange.kinetic", e)
            },
            hasChildren: function () {
                return !1
            },
            getChildren: function () {
                return []
            },
            getContext: function () {
                return this.getLayer()
                    .getContext()
            },
            getCanvas: function () {
                return this.getLayer()
                    .getCanvas()
            },
            hasShadow: function () {
                return this._getCache(f, this._hasShadow)
            },
            _hasShadow: function () {
                return 0 !== this.getShadowOpacity() && !!(this.getShadowColor() || this.getShadowBlur() || this.getShadowOffsetX() || this.getShadowOffsetY())
            },
            hasFill: function () {
                return !!(this.getFill() || this.getFillPatternImage() || this.getFillLinearGradientColorStops() || this.getFillRadialGradientColorStops())
            },
            _get: function (a) {
                return this.className === a || this.nodeType === a ? [this] : []
            },
            intersects: function () {
                var a = Kinetic.Util._getXY(Array.prototype.slice.call(arguments)),
                    b = this.getStage(),
                    c = b.hitCanvas;
                c.clear(), this.drawScene(c);
                var d = c.context.getImageData(0 | a.x, 0 | a.y, 1, 1)
                    .data;
                return d[3] > 0
            },
            enableFill: function () {
                return this._setAttr("fillEnabled", !0), this
            },
            disableFill: function () {
                return this._setAttr("fillEnabled", !1), this
            },
            enableStroke: function () {
                return this._setAttr("strokeEnabled", !0), this
            },
            disableStroke: function () {
                return this._setAttr("strokeEnabled", !1), this
            },
            enableStrokeScale: function () {
                return this._setAttr("strokeScaleEnabled", !0), this
            },
            disableStrokeScale: function () {
                return this._setAttr("strokeScaleEnabled", !1), this
            },
            enableShadow: function () {
                return this._setAttr("shadowEnabled", !0), this
            },
            disableShadow: function () {
                return this._setAttr("shadowEnabled", !1), this
            },
            enableDashArray: function () {
                return this._setAttr("dashArrayEnabled", !0), this
            },
            disableDashArray: function () {
                return this._setAttr("dashArrayEnabled", !1), this
            },
            destroy: function () {
                return Kinetic.Node.prototype.destroy.call(this), delete Kinetic.Global.shapes[this.colorKey], this
            },
            drawScene: function (a) {
                a = a || this.getLayer()
                    .getCanvas();
                var b = this.getDrawFunc(),
                    c = a.getContext();
                return b && this.isVisible() && (c.save(), a._applyOpacity(this), a._applyLineJoin(this), a._applyAncestorTransforms(this), b.call(this,
                    a), c.restore()), this
            },
            drawHit: function () {
                var a = this.getAttrs(),
                    b = a.drawHitFunc || a.drawFunc,
                    c = this.getLayer()
                    .hitCanvas,
                    d = c.getContext();
                return b && this.shouldDrawHit() && (d.save(), c._applyLineJoin(this), c._applyAncestorTransforms(this), b.call(this, c), d.restore()),
                    this
            },
            _setDrawFuncs: function () {
                !this.attrs.drawFunc && this.drawFunc && this.setDrawFunc(this.drawFunc), !this.attrs.drawHitFunc && this.drawHitFunc && this.setDrawHitFunc(
                    this.drawHitFunc)
            }
        }), Kinetic.Util.extend(Kinetic.Shape, Kinetic.Node), Kinetic.Factory.addColorGetterSetter(Kinetic.Shape, "stroke"), Kinetic.Factory.addGetterSetter(
            Kinetic.Shape, "lineJoin"), Kinetic.Factory.addGetterSetter(Kinetic.Shape, "lineCap"), Kinetic.Factory.addGetterSetter(Kinetic.Shape, "strokeWidth"),
        Kinetic.Factory.addGetterSetter(Kinetic.Shape, "drawFunc"), Kinetic.Factory.addGetterSetter(Kinetic.Shape, "drawHitFunc"), Kinetic.Factory.addGetterSetter(
            Kinetic.Shape, "dashArray"), Kinetic.Factory.addColorGetterSetter(Kinetic.Shape, "shadowColor"), Kinetic.Factory.addGetterSetter(Kinetic.Shape,
            "shadowBlur"), Kinetic.Factory.addGetterSetter(Kinetic.Shape, "shadowOpacity"), Kinetic.Factory.addGetterSetter(Kinetic.Shape, "fillPatternImage"),
        Kinetic.Factory.addColorGetterSetter(Kinetic.Shape, "fill"), Kinetic.Factory.addGetterSetter(Kinetic.Shape, "fillPatternX"), Kinetic.Factory.addGetterSetter(
            Kinetic.Shape, "fillPatternY"), Kinetic.Factory.addGetterSetter(Kinetic.Shape, "fillLinearGradientColorStops"), Kinetic.Factory.addGetterSetter(
            Kinetic.Shape, "fillRadialGradientStartRadius"), Kinetic.Factory.addGetterSetter(Kinetic.Shape, "fillRadialGradientEndRadius"), Kinetic.Factory.addGetterSetter(
            Kinetic.Shape, "fillRadialGradientColorStops"), Kinetic.Factory.addGetterSetter(Kinetic.Shape, "fillPatternRepeat"), Kinetic.Factory.addGetterSetter(
            Kinetic.Shape, "fillEnabled", !0), Kinetic.Factory.addGetterSetter(Kinetic.Shape, "strokeEnabled", !0), Kinetic.Factory.addGetterSetter(Kinetic.Shape,
            "shadowEnabled", !0), Kinetic.Factory.addGetterSetter(Kinetic.Shape, "dashArrayEnabled", !0), Kinetic.Factory.addGetterSetter(Kinetic.Shape,
            "fillPriority", "color"), Kinetic.Factory.addGetterSetter(Kinetic.Shape, "strokeScaleEnabled", !0), Kinetic.Factory.addPointGetterSetter(Kinetic.Shape,
            "fillPatternOffset", 0), Kinetic.Factory.addPointGetterSetter(Kinetic.Shape, "fillPatternScale", 1), Kinetic.Factory.addPointGetterSetter(Kinetic.Shape,
            "fillLinearGradientStartPoint", 0), Kinetic.Factory.addPointGetterSetter(Kinetic.Shape, "fillLinearGradientEndPoint", 0), Kinetic.Factory.addPointGetterSetter(
            Kinetic.Shape, "fillRadialGradientStartPoint", 0), Kinetic.Factory.addPointGetterSetter(Kinetic.Shape, "fillRadialGradientEndPoint", 0), Kinetic.Factory
        .addPointGetterSetter(Kinetic.Shape, "shadowOffset", 0), Kinetic.Factory.addRotationGetterSetter(Kinetic.Shape, "fillPatternRotation", 0)
}(),
function () {
    function a(a, b) {
        a.content.addEventListener(b, function (c) {
            a[x + b](c)
        }, !1)
    }
    var b = "Stage",
        c = "string",
        d = "px",
        e = "mouseout",
        f = "mouseleave",
        g = "mouseover",
        h = "mouseenter",
        i = "mousemove",
        j = "mousedown",
        k = "mouseup",
        l = "click",
        m = "dblclick",
        n = "touchstart",
        o = "touchend",
        p = "tap",
        q = "dbltap",
        r = "touchmove",
        s = "div",
        t = "relative",
        u = "inline-block",
        v = "kineticjs-content",
        w = " ",
        x = "_",
        y = "container",
        z = "",
        A = [j, i, k, e, n, r, o, g],
        B = A.length;
    Kinetic.Util.addMethods(Kinetic.Stage, {
        ___init: function (a) {
            Kinetic.Container.call(this, a), this.nodeType = b, this._id = Kinetic.Global.idCounter++, this._buildDOM(), this._bindContentEvents(),
                Kinetic.Global.stages.push(this)
        },
        _validateAdd: function (a) {
            "Layer" !== a.getType() && Kinetic.Util.error("You may only add layers to the stage.")
        },
        setContainer: function (a) {
            return typeof a === c && (a = document.getElementById(a)), this._setAttr(y, a), this
        },
        draw: function () {
            return Kinetic.Node.prototype.draw.call(this), this
        },
        setHeight: function (a) {
            return Kinetic.Node.prototype.setHeight.call(this, a), this._resizeDOM(), this
        },
        setWidth: function (a) {
            return Kinetic.Node.prototype.setWidth.call(this, a), this._resizeDOM(), this
        },
        clear: function () {
            var a, b = this.children,
                c = b.length;
            for (a = 0; c > a; a++) b[a].clear();
            return this
        },
        destroy: function () {
            var a = this.content;
            Kinetic.Container.prototype.destroy.call(this), a && Kinetic.Util._isInDocument(a) && this.getContainer()
                .removeChild(a)
        },
        getMousePosition: function () {
            return this.mousePos
        },
        getTouchPosition: function () {
            return this.touchPos
        },
        getPointerPosition: function () {
            return this.getTouchPosition() || this.getMousePosition()
        },
        getStage: function () {
            return this
        },
        getContent: function () {
            return this.content
        },
        toDataURL: function (a) {
            function b(e) {
                var f = i[e],
                    j = f.toDataURL(),
                    k = new Image;
                k.onload = function () {
                    h.drawImage(k, 0, 0), e < i.length - 1 ? b(e + 1) : a.callback(g.toDataURL(c, d))
                }, k.src = j
            }
            a = a || {};
            var c = a.mimeType || null,
                d = a.quality || null,
                e = a.x || 0,
                f = a.y || 0,
                g = new Kinetic.SceneCanvas({
                    width: a.width || this.getWidth(),
                    height: a.height || this.getHeight(),
                    pixelRatio: 1
                }),
                h = g.getContext(),
                i = this.children;
            (e || f) && h.translate(-1 * e, -1 * f), b(0)
        },
        toImage: function (a) {
            var b = a.callback;
            a.callback = function (a) {
                Kinetic.Util._getImage(a, function (a) {
                    b(a)
                })
            }, this.toDataURL(a)
        },
        getIntersection: function () {
            var a, b, c = Kinetic.Util._getXY(Array.prototype.slice.call(arguments)),
                d = this.getChildren(),
                e = d.length,
                f = e - 1;
            for (a = f; a >= 0; a--)
                if (b = d[a].getIntersection(c)) return b;
            return null
        },
        _resizeDOM: function () {
            if (this.content) {
                var a, b, c = this.getWidth(),
                    e = this.getHeight(),
                    f = this.getChildren(),
                    g = f.length;
                for (this.content.style.width = c + d, this.content.style.height = e + d, this.bufferCanvas.setSize(c, e, 1), this.hitCanvas.setSize(
                        c, e), a = 0; g > a; a++) b = f[a], b.getCanvas()
                    .setSize(c, e), b.hitCanvas.setSize(c, e), b.draw()
            }
        },
        add: function (a) {
            return Kinetic.Container.prototype.add.call(this, a), a.canvas.setSize(this.attrs.width, this.attrs.height), a.hitCanvas.setSize(this.attrs
                .width, this.attrs.height), a.draw(), this.content.appendChild(a.canvas.element), this
        },
        getParent: function () {
            return null
        },
        getLayer: function () {
            return null
        },
        getLayers: function () {
            return this.getChildren()
        },
        _setPointerPosition: function (a) {
            a || (a = window.event), this._setMousePosition(a), this._setTouchPosition(a)
        },
        _bindContentEvents: function () {
            var b;
            for (b = 0; B > b; b++) a(this, A[b])
        },
        _mouseover: function (a) {
            this._fire(g, a)
        },
        _mouseout: function (a) {
            this._setPointerPosition(a);
            var b = Kinetic.Global,
                c = this.targetShape;
            c && !b.isDragging() && (c._fireAndBubble(e, a), c._fireAndBubble(f, a), this.targetShape = null), this.mousePos = void 0, this._fire(e,
                a)
        },
        _mousemove: function (a) {
            this._setPointerPosition(a);
            var b, c = Kinetic.Global,
                d = Kinetic.DD,
                j = this.getIntersection(this.getPointerPosition());
            j ? (b = j.shape, b && (c.isDragging() || 255 !== j.pixel[3] || this.targetShape && this.targetShape._id === b._id ? b._fireAndBubble(i,
                    a) : (b._fireAndBubble(g, a, this.targetShape), b._fireAndBubble(h, a, this.targetShape), this.targetShape && (this.targetShape
                    ._fireAndBubble(e, a, b), this.targetShape._fireAndBubble(f, a, b)), this.targetShape = b))) : (this._fire(i, a), this.targetShape &&
                    !c.isDragging() && (this.targetShape._fireAndBubble(e, a), this.targetShape._fireAndBubble(f, a), this.targetShape = null)), d &&
                d._drag(a), a.preventDefault && a.preventDefault()
        },
        _mousedown: function (a) {
            this._setPointerPosition(a);
            var b = Kinetic.Global,
                c = this.getIntersection(this.getPointerPosition()),
                d = c && c.shape ? c.shape : this;
            b.listenClickTap = !0, this.clickStartShape = d, d._fireAndBubble(j, a), a.preventDefault && a.preventDefault()
        },
        _mouseup: function (a) {
            this._setPointerPosition(a);
            var b = Kinetic.Global,
                c = this.getIntersection(this.getPointerPosition()),
                d = c && c.shape ? c.shape : this;
            d._fireAndBubble(k, a), b.listenClickTap && d._id === this.clickStartShape._id && (d._fireAndBubble(l, a), b.inDblClickWindow ? (d._fireAndBubble(
                m, a), b.inDblClickWindow = !1) : b.inDblClickWindow = !0, setTimeout(function () {
                b.inDblClickWindow = !1
            }, b.dblClickWindow)), b.listenClickTap = !1, a.preventDefault && a.preventDefault()
        },
        _touchstart: function (a) {
            this._setPointerPosition(a);
            var b = Kinetic.Global,
                c = this.getIntersection(this.getPointerPosition()),
                d = c && c.shape ? c.shape : this;
            b.listenClickTap = !0, this.tapStartShape = d, d._fireAndBubble(n, a), d.isListening() && a.preventDefault && a.preventDefault()
        },
        _touchend: function (a) {
            this._setPointerPosition(a);
            var b = Kinetic.Global,
                c = this.getIntersection(this.getPointerPosition()),
                d = c && c.shape ? c.shape : this;
            d._fireAndBubble(o, a), b.listenClickTap && d._id === this.tapStartShape._id && (d._fireAndBubble(p, a), b.inDblClickWindow ? (d._fireAndBubble(
                q, a), b.inDblClickWindow = !1) : b.inDblClickWindow = !0, setTimeout(function () {
                b.inDblClickWindow = !1
            }, b.dblClickWindow)), b.listenClickTap = !1, d.isListening() && a.preventDefault && a.preventDefault()
        },
        _touchmove: function (a) {
            this._setPointerPosition(a);
            var b = Kinetic.DD,
                c = this.getIntersection(this.getPointerPosition()),
                d = c && c.shape ? c.shape : this;
            d._fireAndBubble(r, a), b && b._drag(a), d.isListening() && a.preventDefault && a.preventDefault()
        },
        _setMousePosition: function (a) {
            var b = a.clientX - this._getContentPosition()
                .left,
                c = a.clientY - this._getContentPosition()
                .top;
            this.mousePos = {
                x: b,
                y: c
            }
        },
        _setTouchPosition: function (a) {
            var b, c, d;
            void 0 !== a.touches && 1 === a.touches.length && (b = a.touches[0], c = b.clientX - this._getContentPosition()
                .left, d = b.clientY - this._getContentPosition()
                .top, this.touchPos = {
                    x: c,
                    y: d
                })
        },
        _getContentPosition: function () {
            var a = this.content.getBoundingClientRect();
            return {
                top: a.top,
                left: a.left
            }
        },
        _buildDOM: function () {
            var a = this.getContainer();
            a.innerHTML = z, this.content = document.createElement(s), this.content.style.position = t, this.content.style.display = u, this.content
                .className = v, a.appendChild(this.content), this.bufferCanvas = new Kinetic.SceneCanvas, this.hitCanvas = new Kinetic.HitCanvas,
                this._resizeDOM()
        },
        _onContent: function (a, b) {
            var c, d, e = a.split(w),
                f = e.length;
            for (c = 0; f > c; c++) d = e[c], this.content.addEventListener(d, b, !1)
        }
    }), Kinetic.Util.extend(Kinetic.Stage, Kinetic.Container), Kinetic.Factory.addGetter(Kinetic.Stage, "container")
}(),
function () {
    var a = "#",
        b = "beforeDraw",
        c = "draw";
    Kinetic.Util.addMethods(Kinetic.Layer, {
        ___init: function (a) {
            this.nodeType = "Layer", this.canvas = new Kinetic.SceneCanvas, this.hitCanvas = new Kinetic.HitCanvas, Kinetic.Container.call(this, a)
        },
        _validateAdd: function (a) {
            var b = a.getType();
            "Group" !== b && "Shape" !== b && Kinetic.Util.error("You may only add groups and shapes to a layer.")
        },
        getIntersection: function () {
            var b, c, d, e = Kinetic.Util._getXY(Array.prototype.slice.call(arguments));
            if (this.isVisible() && this.isListening()) {
                if (b = this.hitCanvas.context.getImageData(0 | e.x, 0 | e.y, 1, 1)
                    .data, 255 === b[3]) return c = Kinetic.Util._rgbToHex(b[0], b[1], b[2]), d = Kinetic.Global.shapes[a + c], {
                    shape: d,
                    pixel: b
                };
                if (b[0] > 0 || b[1] > 0 || b[2] > 0 || b[3] > 0) return {
                    pixel: b
                }
            }
            return null
        },
        drawScene: function (a) {
            return a = a || this.getCanvas(), this._fire(b, {
                node: this
            }), this.getClearBeforeDraw() && a.clear(), Kinetic.Container.prototype.drawScene.call(this, a), this._fire(c, {
                node: this
            }), this
        },
        drawHit: function () {
            var a = this.getLayer();
            return a && a.getClearBeforeDraw() && a.getHitCanvas()
                .clear(), Kinetic.Container.prototype.drawHit.call(this), this
        },
        getCanvas: function () {
            return this.canvas
        },
        getHitCanvas: function () {
            return this.hitCanvas
        },
        getContext: function () {
            return this.getCanvas()
                .getContext()
        },
        clear: function (a) {
            return this.getCanvas()
                .clear(a), this
        },
        setVisible: function (a) {
            return Kinetic.Node.prototype.setVisible.call(this, a), a ? (this.getCanvas()
                .element.style.display = "block", this.hitCanvas.element.style.display = "block") : (this.getCanvas()
                .element.style.display = "none", this.hitCanvas.element.style.display = "none"), this
        },
        setZIndex: function (a) {
            Kinetic.Node.prototype.setZIndex.call(this, a);
            var b = this.getStage();
            return b && (b.content.removeChild(this.getCanvas()
                    .element), a < b.getChildren()
                .length - 1 ? b.content.insertBefore(this.getCanvas()
                    .element, b.getChildren()[a + 1].getCanvas()
                    .element) : b.content.appendChild(this.getCanvas()
                    .element)), this
        },
        moveToTop: function () {
            Kinetic.Node.prototype.moveToTop.call(this);
            var a = this.getStage();
            a && (a.content.removeChild(this.getCanvas()
                .element), a.content.appendChild(this.getCanvas()
                .element))
        },
        moveUp: function () {
            if (Kinetic.Node.prototype.moveUp.call(this)) {
                var a = this.getStage();
                a && (a.content.removeChild(this.getCanvas()
                        .element), this.index < a.getChildren()
                    .length - 1 ? a.content.insertBefore(this.getCanvas()
                        .element, a.getChildren()[this.index + 1].getCanvas()
                        .element) : a.content.appendChild(this.getCanvas()
                        .element))
            }
        },
        moveDown: function () {
            if (Kinetic.Node.prototype.moveDown.call(this)) {
                var a = this.getStage();
                if (a) {
                    var b = a.getChildren();
                    a.content.removeChild(this.getCanvas()
                        .element), a.content.insertBefore(this.getCanvas()
                        .element, b[this.index + 1].getCanvas()
                        .element)
                }
            }
        },
        moveToBottom: function () {
            if (Kinetic.Node.prototype.moveToBottom.call(this)) {
                var a = this.getStage();
                if (a) {
                    var b = a.getChildren();
                    a.content.removeChild(this.getCanvas()
                        .element), a.content.insertBefore(this.getCanvas()
                        .element, b[1].getCanvas()
                        .element)
                }
            }
        },
        getLayer: function () {
            return this
        },
        remove: function () {
            var a = this.getStage(),
                b = this.getCanvas(),
                c = b.element;
            return Kinetic.Node.prototype.remove.call(this), a && b && Kinetic.Util._isInDocument(c) && a.content.removeChild(c), this
        },
        getStage: function () {
            return this.parent
        }
    }), Kinetic.Util.extend(Kinetic.Layer, Kinetic.Container), Kinetic.Factory.addGetterSetter(Kinetic.Layer, "clearBeforeDraw", !0)
}(),
function () {
    Kinetic.Util.addMethods(Kinetic.Group, {
        ___init: function (a) {
            this.nodeType = "Group", Kinetic.Container.call(this, a)
        },
        _validateAdd: function (a) {
            var b = a.getType();
            "Group" !== b && "Shape" !== b && Kinetic.Util.error("You may only add groups and shapes to groups.")
        }
    }), Kinetic.Util.extend(Kinetic.Group, Kinetic.Container)
}(),
function () {
    Kinetic.Rect = function (a) {
        this.___init(a)
    }, Kinetic.Rect.prototype = {
        ___init: function (a) {
            Kinetic.Shape.call(this, a), this.className = "Rect"
        },
        drawFunc: function (a) {
            var b = a.getContext(),
                c = this.getCornerRadius(),
                d = this.getWidth(),
                e = this.getHeight();
            b.beginPath(), c ? (b.moveTo(c, 0), b.lineTo(d - c, 0), b.arc(d - c, c, c, 3 * Math.PI / 2, 0, !1), b.lineTo(d, e - c), b.arc(d - c, e - c,
                c, 0, Math.PI / 2, !1), b.lineTo(c, e), b.arc(c, e - c, c, Math.PI / 2, Math.PI, !1), b.lineTo(0, c), b.arc(c, c, c, Math.PI, 3 *
                Math.PI / 2, !1)) : b.rect(0, 0, d, e), b.closePath(), a.fillStroke(this)
        }
    }, Kinetic.Util.extend(Kinetic.Rect, Kinetic.Shape), Kinetic.Factory.addGetterSetter(Kinetic.Rect, "cornerRadius", 0)
}(),
function () {
    var a = 2 * Math.PI - 1e-4,
        b = "Circle";
    Kinetic.Circle = function (a) {
        this.___init(a)
    }, Kinetic.Circle.prototype = {
        ___init: function (a) {
            Kinetic.Shape.call(this, a), this.className = b
        },
        drawFunc: function (b) {
            var c = b.getContext();
            c.beginPath(), c.arc(0, 0, this.getRadius(), 0, a, !1), c.closePath(), b.fillStroke(this)
        },
        getWidth: function () {
            return 2 * this.getRadius()
        },
        getHeight: function () {
            return 2 * this.getRadius()
        },
        setWidth: function (a) {
            Kinetic.Node.prototype.setWidth.call(this, a), this.setRadius(a / 2)
        },
        setHeight: function (a) {
            Kinetic.Node.prototype.setHeight.call(this, a), this.setRadius(a / 2)
        }
    }, Kinetic.Util.extend(Kinetic.Circle, Kinetic.Shape), Kinetic.Factory.addGetterSetter(Kinetic.Circle, "radius", 0)
}(),
function () {
    var a = 2 * Math.PI - 1e-4,
        b = "Ellipse";
    Kinetic.Ellipse = function (a) {
        this.___init(a)
    }, Kinetic.Ellipse.prototype = {
        ___init: function (a) {
            Kinetic.Shape.call(this, a), this.className = b
        },
        drawFunc: function (b) {
            var c = b.getContext(),
                d = this.getRadius();
            c.beginPath(), c.save(), d.x !== d.y && c.scale(1, d.y / d.x), c.arc(0, 0, d.x, 0, a, !1), c.restore(), c.closePath(), b.fillStroke(this)
        },
        getWidth: function () {
            return 2 * this.getRadius()
                .x
        },
        getHeight: function () {
            return 2 * this.getRadius()
                .y
        },
        setWidth: function (a) {
            Kinetic.Node.prototype.setWidth.call(this, a), this.setRadius({
                x: a / 2
            })
        },
        setHeight: function (a) {
            Kinetic.Node.prototype.setHeight.call(this, a), this.setRadius({
                y: a / 2
            })
        }
    }, Kinetic.Util.extend(Kinetic.Ellipse, Kinetic.Shape), Kinetic.Factory.addPointGetterSetter(Kinetic.Ellipse, "radius", 0)
}(),
function () {
    Kinetic.Wedge = function (a) {
        this.___init(a)
    }, Kinetic.Wedge.prototype = {
        ___init: function (a) {
            Kinetic.Shape.call(this, a), this.className = "Wedge"
        },
        drawFunc: function (a) {
            var b = a.getContext();
            b.beginPath(), b.arc(0, 0, this.getRadius(), 0, this.getAngle(), this.getClockwise()), b.lineTo(0, 0), b.closePath(), a.fillStroke(this)
        }
    }, Kinetic.Util.extend(Kinetic.Wedge, Kinetic.Shape), Kinetic.Factory.addGetterSetter(Kinetic.Wedge, "radius", 0), Kinetic.Factory.addRotationGetterSetter(
        Kinetic.Wedge, "angle", 0), Kinetic.Factory.addGetterSetter(Kinetic.Wedge, "clockwise", !1)
}(),
function () {
    var a = "Image",
        b = "set";
    Kinetic.Image = function (a) {
        this.___init(a)
    }, Kinetic.Image.prototype = {
        ___init: function (b) {
            Kinetic.Shape.call(this, b), this.className = a
        },
        drawFunc: function (a) {
            var b, c, d = this.getWidth(),
                e = this.getHeight(),
                f = this,
                g = a.getContext(),
                h = this.getCropX() || 0,
                i = this.getCropY() || 0,
                j = this.getCropWidth(),
                k = this.getCropHeight();
            this.getFilter() && this._applyFilter && (this.applyFilter(), this._applyFilter = !1), c = this.filterCanvas ? this.filterCanvas.getElement() :
                this.getImage(), g.beginPath(), g.rect(0, 0, d, e), g.closePath(), a.fillStroke(this), c && (b = j && k ? [c, h, i, j, k, 0, 0, d, e] : [
                    c, 0, 0, d, e], this.hasShadow() ? a.applyShadow(this, function () {
                    f._drawImage(g, b)
                }) : this._drawImage(g, b))
        },
        drawHitFunc: function (a) {
            var b = this.getWidth(),
                c = this.getHeight(),
                d = this.imageHitRegion,
                e = a.getContext();
            d ? (e.drawImage(d, 0, 0, b, c), e.beginPath(), e.rect(0, 0, b, c), e.closePath(), a.stroke(this)) : (e.beginPath(), e.rect(0, 0, b, c), e.closePath(),
                a.fillStroke(this))
        },
        applyFilter: function () {
            var a, b, c, d = this.getImage(),
                e = this.getWidth(),
                f = this.getHeight(),
                g = this.getFilter();
            a = this.filterCanvas ? this.filterCanvas : this.filterCanvas = new Kinetic.SceneCanvas({
                width: e,
                height: f
            }), b = a.getContext();
            try {
                this._drawImage(b, [d, 0, 0, e, f]), c = b.getImageData(0, 0, a.getWidth(), a.getHeight()), g.call(this, c), b.putImageData(c, 0, 0)
            } catch (h) {
                this.clearFilter(), Kinetic.Util.warn("Unable to apply filter. " + h.message)
            }
        },
        clearFilter: function () {
            this.filterCanvas = null, this._applyFilter = !1
        },
        createImageHitRegion: function (a) {
            var b, c, d, e, f, g = this,
                h = this.getWidth(),
                i = this.getHeight(),
                j = new Kinetic.Canvas({
                    width: h,
                    height: i
                }),
                k = j.getContext(),
                l = this.getImage();
            k.drawImage(l, 0, 0);
            try {
                for (b = k.getImageData(0, 0, h, i), c = b.data, d = Kinetic.Util._hexToRgb(this.colorKey), e = 0, f = c.length; f > e; e += 4) c[e + 3] >
                    0 && (c[e] = d.r, c[e + 1] = d.g, c[e + 2] = d.b);
                Kinetic.Util._getImage(b, function (b) {
                    g.imageHitRegion = b, a && a()
                })
            } catch (m) {
                Kinetic.Util.warn("Unable to create image hit region. " + m.message)
            }
        },
        clearImageHitRegion: function () {
            delete this.imageHitRegion
        },
        getWidth: function () {
            var a = this.getImage();
            return this.attrs.width || (a ? a.width : 0)
        },
        getHeight: function () {
            var a = this.getImage();
            return this.attrs.height || (a ? a.height : 0)
        },
        _drawImage: function (a, b) {
            5 === b.length ? a.drawImage(b[0], b[1], b[2], b[3], b[4]) : 9 === b.length && a.drawImage(b[0], b[1], b[2], b[3], b[4], b[5], b[6], b[7],
                b[8])
        }
    }, Kinetic.Util.extend(Kinetic.Image, Kinetic.Shape), Kinetic.Factory.addFilterGetterSetter = function (a, b, c) {
        this.addGetter(a, b, c), this.addFilterSetter(a, b)
    }, Kinetic.Factory.addFilterSetter = function (a, c) {
        var d = b + Kinetic.Util._capitalize(c);
        a.prototype[d] = function (a) {
            this._setAttr(c, a), this._applyFilter = !0
        }
    }, Kinetic.Factory.addGetterSetter(Kinetic.Image, "image"), Kinetic.Factory.addBoxGetterSetter(Kinetic.Image, "crop"), Kinetic.Factory.addFilterGetterSetter(
        Kinetic.Image, "filter")
}(),
function () {
    Kinetic.Polygon = function (a) {
        this.___init(a)
    }, Kinetic.Polygon.prototype = {
        ___init: function (a) {
            Kinetic.Shape.call(this, a), this.className = "Polygon"
        },
        drawFunc: function (a) {
            var b = a.getContext(),
                c = this.getPoints(),
                d = c.length;
            b.beginPath(), b.moveTo(c[0].x, c[0].y);
            for (var e = 1; d > e; e++) b.lineTo(c[e].x, c[e].y);
            b.closePath(), a.fillStroke(this)
        }
    }, Kinetic.Util.extend(Kinetic.Polygon, Kinetic.Shape), Kinetic.Factory.addPointsGetterSetter(Kinetic.Polygon, "points")
}(),
function () {
    function a(a) {
        a.fillText(this.partialText, 0, 0)
    }

    function b(a) {
        a.strokeText(this.partialText, 0, 0)
    }
    var c = "auto",
        d = "Calibri",
        e = "canvas",
        f = "center",
        g = "Change.kinetic",
        h = "2d",
        i = "-",
        j = "",
        k = "left",
        l = "text",
        m = "Text",
        n = "middle",
        o = "normal",
        p = "px ",
        q = " ",
        r = "right",
        s = "word",
        t = "char",
        u = "none",
        v = ["fontFamily", "fontSize", "fontStyle", "padding", "align", "lineHeight", "text", "width", "height", "wrap"],
        w = v.length,
        x = document.createElement(e)
        .getContext(h);
    Kinetic.Text = function (a) {
            this.___init(a)
        }, Kinetic.Text.prototype = {
            ___init: function (d) {
                var e = this;
                void 0 === d.width && (d.width = c), void 0 === d.height && (d.height = c), Kinetic.Shape.call(this, d), this._fillFunc = a, this._strokeFunc =
                    b, this.className = m;
                for (var f = 0; w > f; f++) this.on(v[f] + g, e._setTextData);
                this._setTextData()
            },
            drawFunc: function (a) {
                var b = a.getContext(),
                    c = this.getPadding(),
                    d = (this.getFontStyle(), this.getFontSize(), this.getFontFamily(), this.getTextHeight()),
                    e = this.getLineHeight() * d,
                    g = this.textArr,
                    h = g.length,
                    i = this.getWidth();
                b.font = this._getContextFont(), b.textBaseline = n, b.textAlign = k, b.save(), b.translate(c, 0), b.translate(0, c + d / 2);
                for (var j = 0; h > j; j++) {
                    var l = g[j],
                        m = l.text,
                        o = l.width;
                    b.save(), this.getAlign() === r ? b.translate(i - o - 2 * c, 0) : this.getAlign() === f && b.translate((i - o - 2 * c) / 2, 0), this.partialText =
                        m, a.fillStroke(this), b.restore(), b.translate(0, e)
                }
                b.restore()
            },
            drawHitFunc: function (a) {
                var b = a.getContext(),
                    c = this.getWidth(),
                    d = this.getHeight();
                b.beginPath(), b.rect(0, 0, c, d), b.closePath(), a.fillStroke(this)
            },
            setText: function (a) {
                var b = Kinetic.Util._isString(a) ? a : a.toString();
                this._setAttr(l, b)
            },
            getWidth: function () {
                return this.attrs.width === c ? this.getTextWidth() + 2 * this.getPadding() : this.attrs.width
            },
            getHeight: function () {
                return this.attrs.height === c ? this.getTextHeight() * this.textArr.length * this.getLineHeight() + 2 * this.getPadding() : this.attrs.height
            },
            getTextWidth: function () {
                return this.textWidth
            },
            getTextHeight: function () {
                return this.textHeight
            },
            _getTextSize: function (a) {
                var b, c = x,
                    d = this.getFontSize();
                return c.save(), c.font = this._getContextFont(), b = c.measureText(a), c.restore(), {
                    width: b.width,
                    height: parseInt(d, 10)
                }
            },
            _getContextFont: function () {
                return this.getFontStyle() + q + this.getFontSize() + p + this.getFontFamily()
            },
            _addTextLine: function (a, b) {
                return this.textArr.push({
                    text: a,
                    width: b
                })
            },
            _getTextWidth: function (a) {
                return x.measureText(a)
                    .width
            },
            _setTextData: function () {
                var a = this.getText()
                    .split("\n"),
                    b = +this.getFontSize(),
                    d = 0,
                    e = this.getLineHeight() * b,
                    f = this.attrs.width,
                    g = this.attrs.height,
                    h = f !== c,
                    j = g !== c,
                    k = this.getPadding(),
                    l = f - 2 * k,
                    m = g - 2 * k,
                    n = 0,
                    o = this.getWrap(),
                    r = o !== u,
                    s = o !== t && r;
                this.textArr = [], x.save(), x.font = this.getFontStyle() + q + b + p + this.getFontFamily();
                for (var v = 0, w = a.length; w > v; ++v) {
                    var y = a[v],
                        z = this._getTextWidth(y);
                    if (h && z > l)
                        for (; y.length > 0;) {
                            for (var A = 0, B = y.length, C = "", D = 0; B > A;) {
                                var E = A + B >>> 1,
                                    F = y.slice(0, E + 1),
                                    G = this._getTextWidth(F);
                                l >= G ? (A = E + 1, C = F, D = G) : B = E
                            }
                            if (!C) break;
                            if (s) {
                                var H = Math.max(C.lastIndexOf(q), C.lastIndexOf(i)) + 1;
                                H > 0 && (A = H, C = C.slice(0, A), D = this._getTextWidth(C))
                            }
                            if (this._addTextLine(C, D), n += e, !r || j && n + e > m) break;
                            if (y = y.slice(A), y.length > 0 && (z = this._getTextWidth(y), l >= z)) {
                                this._addTextLine(y, z), n += e;
                                break
                            }
                        } else this._addTextLine(y, z), n += e, d = Math.max(d, z);
                    if (j && n + e > m) break
                }
                x.restore(), this.textHeight = b, this.textWidth = d
            }
        }, Kinetic.Util.extend(Kinetic.Text, Kinetic.Shape), Kinetic.Factory.addGetterSetter(Kinetic.Text, "fontFamily", d), Kinetic.Factory.addGetterSetter(
            Kinetic.Text, "fontSize", 12), Kinetic.Factory.addGetterSetter(Kinetic.Text, "fontStyle", o), Kinetic.Factory.addGetterSetter(Kinetic.Text,
            "padding", 0), Kinetic.Factory.addGetterSetter(Kinetic.Text, "align", k), Kinetic.Factory.addGetterSetter(Kinetic.Text, "lineHeight", 1), Kinetic.Factory
        .addGetterSetter(Kinetic.Text, "wrap", s), Kinetic.Factory.addGetter(Kinetic.Text, l, j), Kinetic.Factory.addSetter(Kinetic.Text, "width"), Kinetic.Factory
        .addSetter(Kinetic.Text, "height")
}(),
function () {
    Kinetic.Line = function (a) {
        this.___init(a)
    }, Kinetic.Line.prototype = {
        ___init: function (a) {
            Kinetic.Shape.call(this, a), this.className = "Line"
        },
        drawFunc: function (a) {
            var b, c, d = this.getPoints(),
                e = d.length,
                f = a.getContext();
            for (f.beginPath(), f.moveTo(d[0].x, d[0].y), b = 1; e > b; b++) c = d[b], f.lineTo(c.x, c.y);
            a.stroke(this)
        }
    }, Kinetic.Util.extend(Kinetic.Line, Kinetic.Shape), Kinetic.Factory.addPointsGetterSetter(Kinetic.Line, "points")
}(),
function () {
    Kinetic.Spline = function (a) {
        this.___init(a)
    }, Kinetic.Spline.prototype = {
        ___init: function (a) {
            var b = this;
            Kinetic.Shape.call(this, a), this.className = "Spline", this.on("pointsChange.kinetic tensionChange.kinetic", function () {
                b._setAllPoints()
            }), this._setAllPoints()
        },
        drawFunc: function (a) {
            var b, c, d, e, f = this.getPoints(),
                g = f.length,
                h = a.getContext(),
                i = this.getTension();
            if (h.beginPath(), h.moveTo(f[0].x, f[0].y), 0 !== i && g > 2) {
                for (b = this.allPoints, c = b.length, d = 2, h.quadraticCurveTo(b[0].x, b[0].y, b[1].x, b[1].y); c - 1 > d;) h.bezierCurveTo(b[d].x, b[
                    d++].y, b[d].x, b[d++].y, b[d].x, b[d++].y);
                h.quadraticCurveTo(b[c - 1].x, b[c - 1].y, f[g - 1].x, f[g - 1].y)
            } else
                for (d = 1; g > d; d++) e = f[d], h.lineTo(e.x, e.y);
            a.stroke(this)
        },
        _setAllPoints: function () {
            this.allPoints = Kinetic.Util._expandPoints(this.getPoints(), this.getTension())
        }
    }, Kinetic.Util.extend(Kinetic.Spline, Kinetic.Shape), Kinetic.Factory.addGetterSetter(Kinetic.Spline, "tension", 1), Kinetic.Factory.addPointsGetterSetter(
        Kinetic.Spline, "points")
}(),
function () {
    Kinetic.Blob = function (a) {
        this.___init(a)
    }, Kinetic.Blob.prototype = {
        ___init: function (a) {
            var b = this;
            Kinetic.Shape.call(this, a), this.className = "Blob", this.on("pointsChange.kinetic tensionChange.kinetic", function () {
                b._setAllPoints()
            }), this._setAllPoints()
        },
        drawFunc: function (a) {
            var b, c, d, e, f = this.getPoints(),
                g = f.length,
                h = a.getContext(),
                i = this.getTension();
            if (h.beginPath(), h.moveTo(f[0].x, f[0].y), 0 !== i && g > 2)
                for (b = this.allPoints, c = b.length, d = 0; c - 1 > d;) h.bezierCurveTo(b[d].x, b[d++].y, b[d].x, b[d++].y, b[d].x, b[d++].y);
            else
                for (d = 1; g > d; d++) e = f[d], h.lineTo(e.x, e.y);
            h.closePath(), a.fillStroke(this)
        },
        _setAllPoints: function () {
            var a = this.getPoints(),
                b = a.length,
                c = this.getTension(),
                d = Kinetic.Util,
                e = d._getControlPoints(a[b - 1], a[0], a[1], c),
                f = d._getControlPoints(a[b - 2], a[b - 1], a[0], c);
            this.allPoints = Kinetic.Util._expandPoints(this.getPoints(), this.getTension()), this.allPoints.unshift(e[1]), this.allPoints.push(f[0]),
                this.allPoints.push(a[b - 1]), this.allPoints.push(f[1]), this.allPoints.push(e[0]), this.allPoints.push(a[0])
        }
    }, Kinetic.Util.extend(Kinetic.Blob, Kinetic.Shape), Kinetic.Factory.addGetterSetter(Kinetic.Blob, "tension", 1), Kinetic.Factory.addPointsGetterSetter(
        Kinetic.Blob, "points")
}(),
function () {
    Kinetic.Sprite = function (a) {
            this.___init(a)
        }, Kinetic.Sprite.prototype = {
            ___init: function (a) {
                Kinetic.Shape.call(this, a), this.className = "Sprite", this.anim = new Kinetic.Animation;
                var b = this;
                this.on("animationChange.kinetic", function () {
                    b.setIndex(0)
                })
            },
            drawFunc: function (a) {
                var b = this.getAnimation(),
                    c = this.getIndex(),
                    d = this.getAnimations()[b][c],
                    e = a.getContext(),
                    f = this.getImage();
                f && e.drawImage(f, d.x, d.y, d.width, d.height, 0, 0, d.width, d.height)
            },
            drawHitFunc: function (a) {
                var b = this.getAnimation(),
                    c = this.getIndex(),
                    d = this.getAnimations()[b][c],
                    e = a.getContext();
                e.beginPath(), e.rect(0, 0, d.width, d.height), e.closePath(), a.fill(this)
            },
            start: function () {
                var a = this,
                    b = this.getLayer();
                this.anim.setLayers(b), this.interval = setInterval(function () {
                    var b = a.getIndex();
                    a._updateIndex(), a.afterFrameFunc && b === a.afterFrameIndex && (a.afterFrameFunc(), delete a.afterFrameFunc, delete a.afterFrameIndex)
                }, 1e3 / this.getFrameRate()), this.anim.start()
            },
            stop: function () {
                this.anim.stop(), clearInterval(this.interval)
            },
            afterFrame: function (a, b) {
                this.afterFrameIndex = a, this.afterFrameFunc = b
            },
            _updateIndex: function () {
                var a = this.getIndex(),
                    b = this.getAnimation(),
                    c = this.getAnimations(),
                    d = c[b],
                    e = d.length;
                e - 1 > a ? this.setIndex(a + 1) : this.setIndex(0)
            }
        }, Kinetic.Util.extend(Kinetic.Sprite, Kinetic.Shape), Kinetic.Factory.addGetterSetter(Kinetic.Sprite, "animation"), Kinetic.Factory.addGetterSetter(
            Kinetic.Sprite, "animations"), Kinetic.Factory.addGetterSetter(Kinetic.Sprite, "image"), Kinetic.Factory.addGetterSetter(Kinetic.Sprite, "index", 0),
        Kinetic.Factory.addGetterSetter(Kinetic.Sprite, "frameRate", 17)
}(),
function () {
    Kinetic.Path = function (a) {
        this.___init(a)
    }, Kinetic.Path.prototype = {
        ___init: function (a) {
            this.dataArray = [];
            var b = this;
            Kinetic.Shape.call(this, a), this.className = "Path", this.dataArray = Kinetic.Path.parsePathData(this.getData()), this.on(
                "dataChange.kinetic",
                function () {
                    b.dataArray = Kinetic.Path.parsePathData(this.getData())
                })
        },
        drawFunc: function (a) {
            var b = this.dataArray,
                c = a.getContext();
            c.beginPath();
            for (var d = 0; d < b.length; d++) {
                var e = b[d].command,
                    f = b[d].points;
                switch (e) {
                case "L":
                    c.lineTo(f[0], f[1]);
                    break;
                case "M":
                    c.moveTo(f[0], f[1]);
                    break;
                case "C":
                    c.bezierCurveTo(f[0], f[1], f[2], f[3], f[4], f[5]);
                    break;
                case "Q":
                    c.quadraticCurveTo(f[0], f[1], f[2], f[3]);
                    break;
                case "A":
                    var g = f[0],
                        h = f[1],
                        i = f[2],
                        j = f[3],
                        k = f[4],
                        l = f[5],
                        m = f[6],
                        n = f[7],
                        o = i > j ? i : j,
                        p = i > j ? 1 : i / j,
                        q = i > j ? j / i : 1;
                    c.translate(g, h), c.rotate(m), c.scale(p, q), c.arc(0, 0, o, k, k + l, 1 - n), c.scale(1 / p, 1 / q), c.rotate(-m), c.translate(-g, -
                        h);
                    break;
                case "z":
                    c.closePath()
                }
            }
            a.fillStroke(this)
        }
    }, Kinetic.Util.extend(Kinetic.Path, Kinetic.Shape), Kinetic.Path.getLineLength = function (a, b, c, d) {
        return Math.sqrt((c - a) * (c - a) + (d - b) * (d - b))
    }, Kinetic.Path.getPointOnLine = function (a, b, c, d, e, f, g) {
        void 0 === f && (f = b), void 0 === g && (g = c);
        var h = (e - c) / (d - b + 1e-8),
            i = Math.sqrt(a * a / (1 + h * h));
        b > d && (i *= -1);
        var j, k = h * i;
        if ((g - c) / (f - b + 1e-8) === h) j = {
            x: f + i,
            y: g + k
        };
        else {
            var l, m, n = this.getLineLength(b, c, d, e);
            if (1e-8 > n) return void 0;
            var o = (f - b) * (d - b) + (g - c) * (e - c);
            o /= n * n, l = b + o * (d - b), m = c + o * (e - c);
            var p = this.getLineLength(f, g, l, m),
                q = Math.sqrt(a * a - p * p);
            i = Math.sqrt(q * q / (1 + h * h)), b > d && (i *= -1), k = h * i, j = {
                x: l + i,
                y: m + k
            }
        }
        return j
    }, Kinetic.Path.getPointOnCubicBezier = function (a, b, c, d, e, f, g, h, i) {
        function j(a) {
            return a * a * a
        }

        function k(a) {
            return 3 * a * a * (1 - a)
        }

        function l(a) {
            return 3 * a * (1 - a) * (1 - a)
        }

        function m(a) {
            return (1 - a) * (1 - a) * (1 - a)
        }
        var n = h * j(a) + f * k(a) + d * l(a) + b * m(a),
            o = i * j(a) + g * k(a) + e * l(a) + c * m(a);
        return {
            x: n,
            y: o
        }
    }, Kinetic.Path.getPointOnQuadraticBezier = function (a, b, c, d, e, f, g) {
        function h(a) {
            return a * a
        }

        function i(a) {
            return 2 * a * (1 - a)
        }

        function j(a) {
            return (1 - a) * (1 - a)
        }
        var k = f * h(a) + d * i(a) + b * j(a),
            l = g * h(a) + e * i(a) + c * j(a);
        return {
            x: k,
            y: l
        }
    }, Kinetic.Path.getPointOnEllipticalArc = function (a, b, c, d, e, f) {
        var g = Math.cos(f),
            h = Math.sin(f),
            i = {
                x: c * Math.cos(e),
                y: d * Math.sin(e)
            };
        return {
            x: a + (i.x * g - i.y * h),
            y: b + (i.x * h + i.y * g)
        }
    }, Kinetic.Path.parsePathData = function (a) {
        if (!a) return [];
        var b = a,
            c = ["m", "M", "l", "L", "v", "V", "h", "H", "z", "Z", "c", "C", "q", "Q", "t", "T", "s", "S", "a", "A"];
        b = b.replace(new RegExp(" ", "g"), ",");
        for (var d = 0; d < c.length; d++) b = b.replace(new RegExp(c[d], "g"), "|" + c[d]);
        var e = b.split("|"),
            f = [],
            g = 0,
            h = 0;
        for (d = 1; d < e.length; d++) {
            var i = e[d],
                j = i.charAt(0);
            i = i.slice(1), i = i.replace(new RegExp(",-", "g"), "-"), i = i.replace(new RegExp("-", "g"), ",-"), i = i.replace(new RegExp("e,-", "g"),
                "e-");
            var k = i.split(",");
            k.length > 0 && "" === k[0] && k.shift();
            for (var l = 0; l < k.length; l++) k[l] = parseFloat(k[l]);
            for (; k.length > 0 && !isNaN(k[0]);) {
                var m, n, o, p, q, r, s, t, u, v, w = null,
                    x = [],
                    y = g,
                    z = h;
                switch (j) {
                case "l":
                    g += k.shift(), h += k.shift(), w = "L", x.push(g, h);
                    break;
                case "L":
                    g = k.shift(), h = k.shift(), x.push(g, h);
                    break;
                case "m":
                    g += k.shift(), h += k.shift(), w = "M", x.push(g, h), j = "l";
                    break;
                case "M":
                    g = k.shift(), h = k.shift(), w = "M", x.push(g, h), j = "L";
                    break;
                case "h":
                    g += k.shift(), w = "L", x.push(g, h);
                    break;
                case "H":
                    g = k.shift(), w = "L", x.push(g, h);
                    break;
                case "v":
                    h += k.shift(), w = "L", x.push(g, h);
                    break;
                case "V":
                    h = k.shift(), w = "L", x.push(g, h);
                    break;
                case "C":
                    x.push(k.shift(), k.shift(), k.shift(), k.shift()), g = k.shift(), h = k.shift(), x.push(g, h);
                    break;
                case "c":
                    x.push(g + k.shift(), h + k.shift(), g + k.shift(), h + k.shift()), g += k.shift(), h += k.shift(), w = "C", x.push(g, h);
                    break;
                case "S":
                    n = g, o = h, m = f[f.length - 1], "C" === m.command && (n = g + (g - m.points[2]), o = h + (h - m.points[3])), x.push(n, o, k.shift(),
                        k.shift()), g = k.shift(), h = k.shift(), w = "C", x.push(g, h);
                    break;
                case "s":
                    n = g, o = h, m = f[f.length - 1], "C" === m.command && (n = g + (g - m.points[2]), o = h + (h - m.points[3])), x.push(n, o, g + k.shift(),
                        h + k.shift()), g += k.shift(), h += k.shift(), w = "C", x.push(g, h);
                    break;
                case "Q":
                    x.push(k.shift(), k.shift()), g = k.shift(), h = k.shift(), x.push(g, h);
                    break;
                case "q":
                    x.push(g + k.shift(), h + k.shift()), g += k.shift(), h += k.shift(), w = "Q", x.push(g, h);
                    break;
                case "T":
                    n = g, o = h, m = f[f.length - 1], "Q" === m.command && (n = g + (g - m.points[0]), o = h + (h - m.points[1])), g = k.shift(), h = k.shift(),
                        w = "Q", x.push(n, o, g, h);
                    break;
                case "t":
                    n = g, o = h, m = f[f.length - 1], "Q" === m.command && (n = g + (g - m.points[0]), o = h + (h - m.points[1])), g += k.shift(), h += k.shift(),
                        w = "Q", x.push(n, o, g, h);
                    break;
                case "A":
                    p = k.shift(), q = k.shift(), r = k.shift(), s = k.shift(), t = k.shift(), u = g, v = h, g = k.shift(), h = k.shift(), w = "A", x =
                        this.convertEndpointToCenterParameterization(u, v, g, h, s, t, p, q, r);
                    break;
                case "a":
                    p = k.shift(), q = k.shift(), r = k.shift(), s = k.shift(), t = k.shift(), u = g, v = h, g += k.shift(), h += k.shift(), w = "A", x =
                        this.convertEndpointToCenterParameterization(u, v, g, h, s, t, p, q, r)
                }
                f.push({
                    command: w || j,
                    points: x,
                    start: {
                        x: y,
                        y: z
                    },
                    pathLength: this.calcLength(y, z, w || j, x)
                })
            }("z" === j || "Z" === j) && f.push({
                command: "z",
                points: [],
                start: void 0,
                pathLength: 0
            })
        }
        return f
    }, Kinetic.Path.calcLength = function (a, b, c, d) {
        var e, f, g, h = Kinetic.Path;
        switch (c) {
        case "L":
            return h.getLineLength(a, b, d[0], d[1]);
        case "C":
            for (e = 0, f = h.getPointOnCubicBezier(0, a, b, d[0], d[1], d[2], d[3], d[4], d[5]), t = .01; 1 >= t; t += .01) g = h.getPointOnCubicBezier(t,
                a, b, d[0], d[1], d[2], d[3], d[4], d[5]), e += h.getLineLength(f.x, f.y, g.x, g.y), f = g;
            return e;
        case "Q":
            for (e = 0, f = h.getPointOnQuadraticBezier(0, a, b, d[0], d[1], d[2], d[3]), t = .01; 1 >= t; t += .01) g = h.getPointOnQuadraticBezier(t, a,
                b, d[0], d[1], d[2], d[3]), e += h.getLineLength(f.x, f.y, g.x, g.y), f = g;
            return e;
        case "A":
            e = 0;
            var i = d[4],
                j = d[5],
                k = d[4] + j,
                l = Math.PI / 180;
            if (Math.abs(i - k) < l && (l = Math.abs(i - k)), f = h.getPointOnEllipticalArc(d[0], d[1], d[2], d[3], i, 0), 0 > j)
                for (t = i - l; t > k; t -= l) g = h.getPointOnEllipticalArc(d[0], d[1], d[2], d[3], t, 0), e += h.getLineLength(f.x, f.y, g.x, g.y), f = g;
            else
                for (t = i + l; k > t; t += l) g = h.getPointOnEllipticalArc(d[0], d[1], d[2], d[3], t, 0), e += h.getLineLength(f.x, f.y, g.x, g.y), f = g;
            return g = h.getPointOnEllipticalArc(d[0], d[1], d[2], d[3], k, 0), e += h.getLineLength(f.x, f.y, g.x, g.y)
        }
        return 0
    }, Kinetic.Path.convertEndpointToCenterParameterization = function (a, b, c, d, e, f, g, h, i) {
        var j = i * (Math.PI / 180),
            k = Math.cos(j) * (a - c) / 2 + Math.sin(j) * (b - d) / 2,
            l = -1 * Math.sin(j) * (a - c) / 2 + Math.cos(j) * (b - d) / 2,
            m = k * k / (g * g) + l * l / (h * h);
        m > 1 && (g *= Math.sqrt(m), h *= Math.sqrt(m));
        var n = Math.sqrt((g * g * h * h - g * g * l * l - h * h * k * k) / (g * g * l * l + h * h * k * k));
        e == f && (n *= -1), isNaN(n) && (n = 0);
        var o = n * g * l / h,
            p = n * -h * k / g,
            q = (a + c) / 2 + Math.cos(j) * o - Math.sin(j) * p,
            r = (b + d) / 2 + Math.sin(j) * o + Math.cos(j) * p,
            s = function (a) {
                return Math.sqrt(a[0] * a[0] + a[1] * a[1])
            },
            t = function (a, b) {
                return (a[0] * b[0] + a[1] * b[1]) / (s(a) * s(b))
            },
            u = function (a, b) {
                return (a[0] * b[1] < a[1] * b[0] ? -1 : 1) * Math.acos(t(a, b))
            },
            v = u([1, 0], [(k - o) / g, (l - p) / h]),
            w = [(k - o) / g, (l - p) / h],
            x = [(-1 * k - o) / g, (-1 * l - p) / h],
            y = u(w, x);
        return t(w, x) <= -1 && (y = Math.PI), t(w, x) >= 1 && (y = 0), 0 === f && y > 0 && (y -= 2 * Math.PI), 1 == f && 0 > y && (y += 2 * Math.PI), [q,
            r, g, h, v, y, j, f]
    }, Kinetic.Factory.addGetterSetter(Kinetic.Path, "data")
}(),
function () {
    function a(a) {
        a.fillText(this.partialText, 0, 0)
    }

    function b(a) {
        a.strokeText(this.partialText, 0, 0)
    }
    var c = "",
        d = "Calibri",
        e = "normal";
    Kinetic.TextPath = function (a) {
            this.___init(a)
        }, Kinetic.TextPath.prototype = {
            ___init: function (c) {
                var d = this;
                this.dummyCanvas = document.createElement("canvas"), this.dataArray = [], Kinetic.Shape.call(this, c), this._fillFunc = a, this._strokeFunc =
                    b, this.className = "TextPath", this.dataArray = Kinetic.Path.parsePathData(this.attrs.data), this.on("dataChange.kinetic", function () {
                        d.dataArray = Kinetic.Path.parsePathData(this.attrs.data)
                    }), this.on("textChange.kinetic textStroke.kinetic textStrokeWidth.kinetic", d._setTextData), d._setTextData()
            },
            drawFunc: function (a) {
                var b = (this.charArr, a.getContext());
                b.font = this._getContextFont(), b.textBaseline = "middle", b.textAlign = "left", b.save();
                for (var c = this.glyphInfo, d = 0; d < c.length; d++) {
                    b.save();
                    var e = c[d].p0;
                    c[d].p1, parseFloat(this.attrs.fontSize), b.translate(e.x, e.y), b.rotate(c[d].rotation), this.partialText = c[d].text, a.fillStroke(
                        this), b.restore()
                }
                b.restore()
            },
            getTextWidth: function () {
                return this.textWidth
            },
            getTextHeight: function () {
                return this.textHeight
            },
            setText: function (a) {
                Kinetic.Text.prototype.setText.call(this, a)
            },
            _getTextSize: function (a) {
                var b = this.dummyCanvas,
                    c = b.getContext("2d");
                c.save(), c.font = this._getContextFont();
                var d = c.measureText(a);
                return c.restore(), {
                    width: d.width,
                    height: parseInt(this.attrs.fontSize, 10)
                }
            },
            _setTextData: function () {
                var a = this,
                    b = this._getTextSize(this.attrs.text);
                this.textWidth = b.width, this.textHeight = b.height, this.glyphInfo = [];
                for (var c, d, e, f = this.attrs.text.split(""), g = -1, h = 0, i = function () {
                        h = 0;
                        for (var b = a.dataArray, d = g + 1; d < b.length; d++) {
                            if (b[d].pathLength > 0) return g = d, b[d];
                            "M" == b[d].command && (c = {
                                x: b[d].points[0],
                                y: b[d].points[1]
                            })
                        }
                        return {}
                    }, j = function (b) {
                        var f = a._getTextSize(b)
                            .width,
                            g = 0,
                            j = 0;
                        for (d = void 0; Math.abs(f - g) / f > .01 && 25 > j;) {
                            j++;
                            for (var k = g; void 0 === e;) e = i(), e && k + e.pathLength < f && (k += e.pathLength, e = void 0);
                            if (e === {} || void 0 === c) return void 0;
                            var l = !1;
                            switch (e.command) {
                            case "L":
                                Kinetic.Path.getLineLength(c.x, c.y, e.points[0], e.points[1]) > f ? d = Kinetic.Path.getPointOnLine(f, c.x, c.y, e.points[
                                    0], e.points[1], c.x, c.y) : e = void 0;
                                break;
                            case "A":
                                var m = e.points[4],
                                    n = e.points[5],
                                    o = e.points[4] + n;
                                0 === h ? h = m + 1e-8 : f > g ? h += Math.PI / 180 * n / Math.abs(n) : h -= Math.PI / 360 * n / Math.abs(n), Math.abs(
                                    h) > Math.abs(o) && (h = o, l = !0), d = Kinetic.Path.getPointOnEllipticalArc(e.points[0], e.points[1], e.points[
                                    2], e.points[3], h, e.points[6]);
                                break;
                            case "C":
                                0 === h ? h = f > e.pathLength ? 1e-8 : f / e.pathLength : f > g ? h += (f - g) / e.pathLength : h -= (g - f) / e.pathLength,
                                    h > 1 && (h = 1, l = !0), d = Kinetic.Path.getPointOnCubicBezier(h, e.start.x, e.start.y, e.points[0], e.points[1],
                                        e.points[2], e.points[3], e.points[4], e.points[5]);
                                break;
                            case "Q":
                                0 === h ? h = f / e.pathLength : f > g ? h += (f - g) / e.pathLength : h -= (g - f) / e.pathLength, h > 1 && (h = 1, l = !
                                    0), d = Kinetic.Path.getPointOnQuadraticBezier(h, e.start.x, e.start.y, e.points[0], e.points[1], e.points[2],
                                    e.points[3])
                            }
                            void 0 !== d && (g = Kinetic.Path.getLineLength(c.x, c.y, d.x, d.y)), l && (l = !1, e = void 0)
                        }
                    }, k = 0; k < f.length && (j(f[k]), void 0 !== c && void 0 !== d); k++) {
                    var l = Kinetic.Path.getLineLength(c.x, c.y, d.x, d.y),
                        m = 0,
                        n = Kinetic.Path.getPointOnLine(m + l / 2, c.x, c.y, d.x, d.y),
                        o = Math.atan2(d.y - c.y, d.x - c.x);
                    this.glyphInfo.push({
                        transposeX: n.x,
                        transposeY: n.y,
                        text: f[k],
                        rotation: o,
                        p0: c,
                        p1: d
                    }), c = d
                }
            }
        }, Kinetic.TextPath.prototype._getContextFont = Kinetic.Text.prototype._getContextFont, Kinetic.Util.extend(Kinetic.TextPath, Kinetic.Shape), Kinetic.Factory
        .addGetterSetter(Kinetic.TextPath, "fontFamily", d), Kinetic.Factory.addGetterSetter(Kinetic.TextPath, "fontSize", 12), Kinetic.Factory.addGetterSetter(
            Kinetic.TextPath, "fontStyle", e), Kinetic.Factory.addGetter(Kinetic.TextPath, "text", c)
}(),
function () {
    Kinetic.RegularPolygon = function (a) {
        this.___init(a)
    }, Kinetic.RegularPolygon.prototype = {
        ___init: function (a) {
            Kinetic.Shape.call(this, a), this.className = "RegularPolygon"
        },
        drawFunc: function (a) {
            var b, c, d, e = a.getContext(),
                f = this.attrs.sides,
                g = this.attrs.radius;
            for (e.beginPath(), e.moveTo(0, 0 - g), b = 1; f > b; b++) c = g * Math.sin(2 * b * Math.PI / f), d = -1 * g * Math.cos(2 * b * Math.PI / f),
                e.lineTo(c, d);
            e.closePath(), a.fillStroke(this)
        }
    }, Kinetic.Util.extend(Kinetic.RegularPolygon, Kinetic.Shape), Kinetic.Factory.addGetterSetter(Kinetic.RegularPolygon, "radius", 0), Kinetic.Factory.addGetterSetter(
        Kinetic.RegularPolygon, "sides", 0)
}(),
function () {
    Kinetic.Star = function (a) {
        this.___init(a)
    }, Kinetic.Star.prototype = {
        ___init: function (a) {
            Kinetic.Shape.call(this, a), this.className = "Star"
        },
        drawFunc: function (a) {
            var b = a.getContext(),
                c = this.attrs.innerRadius,
                d = this.attrs.outerRadius,
                e = this.attrs.numPoints;
            b.beginPath(), b.moveTo(0, 0 - this.attrs.outerRadius);
            for (var f = 1; 2 * e > f; f++) {
                var g = 0 === f % 2 ? d : c,
                    h = g * Math.sin(f * Math.PI / e),
                    i = -1 * g * Math.cos(f * Math.PI / e);
                b.lineTo(h, i)
            }
            b.closePath(), a.fillStroke(this)
        }
    }, Kinetic.Util.extend(Kinetic.Star, Kinetic.Shape), Kinetic.Factory.addGetterSetter(Kinetic.Star, "numPoints", 0), Kinetic.Factory.addGetterSetter(
        Kinetic.Star, "innerRadius", 0), Kinetic.Factory.addGetterSetter(Kinetic.Star, "outerRadius", 0)
}(),
function () {
    var a = ["fontFamily", "fontSize", "fontStyle", "padding", "lineHeight", "text"],
        b = "Change.kinetic",
        c = "none",
        d = "up",
        e = "right",
        f = "down",
        g = "left",
        h = "Label",
        i = a.length;
    Kinetic.Label = function (a) {
        this.____init(a)
    }, Kinetic.Label.prototype = {
        ____init: function (a) {
            var b = this;
            this.className = h, Kinetic.Group.call(this, a), this.on("add.kinetic", function (a) {
                b._addListeners(a.child), b._sync()
            })
        },
        getText: function () {
            return this.get("Text")[0]
        },
        getTag: function () {
            return this.get("Tag")[0]
        },
        _addListeners: function (c) {
            var d, e = this,
                f = function () {
                    e._sync()
                };
            for (d = 0; i > d; d++) c.on(a[d] + b, f)
        },
        getWidth: function () {
            return this.getText()
                .getWidth()
        },
        getHeight: function () {
            return this.getText()
                .getHeight()
        },
        _sync: function () {
            var a, b, c, h, i, j, k = this.getText(),
                l = this.getTag();
            if (k && l) {
                switch (a = k.getWidth(), b = k.getHeight(), c = l.getPointerDirection(), h = l.getPointerWidth(), pointerHeight = l.getPointerHeight(),
                    i = 0, j = 0, c) {
                case d:
                    i = a / 2, j = -1 * pointerHeight;
                    break;
                case e:
                    i = a + h, j = b / 2;
                    break;
                case f:
                    i = a / 2, j = b + pointerHeight;
                    break;
                case g:
                    i = -1 * h, j = b / 2
                }
                l.setAttrs({
                    x: -1 * i,
                    y: -1 * j,
                    width: a,
                    height: b
                }), k.setAttrs({
                    x: -1 * i,
                    y: -1 * j
                })
            }
        }
    }, Kinetic.Util.extend(Kinetic.Label, Kinetic.Group), Kinetic.Tag = function (a) {
        this.___init(a)
    }, Kinetic.Tag.prototype = {
        ___init: function (a) {
            Kinetic.Shape.call(this, a), this.className = "Tag"
        },
        drawFunc: function (a) {
            var b = a.getContext(),
                c = this.getWidth(),
                h = this.getHeight(),
                i = this.getPointerDirection(),
                j = this.getPointerWidth(),
                k = this.getPointerHeight();
            this.getCornerRadius(), b.beginPath(), b.moveTo(0, 0), i === d && (b.lineTo((c - j) / 2, 0), b.lineTo(c / 2, -1 * k), b.lineTo((c + j) / 2,
                    0)), b.lineTo(c, 0), i === e && (b.lineTo(c, (h - k) / 2), b.lineTo(c + j, h / 2), b.lineTo(c, (h + k) / 2)), b.lineTo(c, h), i ===
                f && (b.lineTo((c + j) / 2, h), b.lineTo(c / 2, h + k), b.lineTo((c - j) / 2, h)), b.lineTo(0, h), i === g && (b.lineTo(0, (h + k) / 2),
                    b.lineTo(-1 * j, h / 2), b.lineTo(0, (h - k) / 2)), b.closePath(), a.fillStroke(this)
        }
    }, Kinetic.Util.extend(Kinetic.Tag, Kinetic.Shape), Kinetic.Factory.addGetterSetter(Kinetic.Tag, "pointerDirection", c), Kinetic.Factory.addGetterSetter(
        Kinetic.Tag, "pointerWidth", 0), Kinetic.Factory.addGetterSetter(Kinetic.Tag, "pointerHeight", 0), Kinetic.Factory.addGetterSetter(Kinetic.Tag,
        "cornerRadius", 0)
}(),
function () {
    Kinetic.Filters.Grayscale = function (a) {
        for (var b = a.data, c = 0; c < b.length; c += 4) {
            var d = .34 * b[c] + .5 * b[c + 1] + .16 * b[c + 2];
            b[c] = d, b[c + 1] = d, b[c + 2] = d
        }
    }
}(),
function () {
    Kinetic.Filters.Brighten = function (a) {
        for (var b = this.getFilterBrightness(), c = a.data, d = 0; d < c.length; d += 4) c[d] += b, c[d + 1] += b, c[d + 2] += b
    }, Kinetic.Factory.addFilterGetterSetter(Kinetic.Image, "filterBrightness", 0)
}(),
function () {
    Kinetic.Filters.Invert = function (a) {
        for (var b = a.data, c = 0; c < b.length; c += 4) b[c] = 255 - b[c], b[c + 1] = 255 - b[c + 1], b[c + 2] = 255 - b[c + 2]
    }
}(),
function () {
    function a() {
        this.r = 0, this.g = 0, this.b = 0, this.a = 0, this.next = null
    }

    function b(b, e) {
        var f, g, h, i, j, k, l, m, n, o, p, q, r, s, t, u, v, w, x, y, z, A, B, C, D = b.data,
            E = b.width,
            F = b.height,
            G = e + e + 1,
            H = E - 1,
            I = F - 1,
            J = e + 1,
            K = J * (J + 1) / 2,
            L = new a,
            M = null,
            N = L,
            O = null,
            P = null,
            Q = c[e],
            R = d[e];
        for (h = 1; G > h; h++) N = N.next = new a, h == J && (M = N);
        for (N.next = L, l = k = 0, g = 0; F > g; g++) {
            for (u = v = w = x = m = n = o = p = 0, q = J * (y = D[k]), r = J * (z = D[k + 1]), s = J * (A = D[k + 2]), t = J * (B = D[k + 3]), m += K * y,
                n += K * z, o += K * A, p += K * B, N = L, h = 0; J > h; h++) N.r = y, N.g = z, N.b = A, N.a = B, N = N.next;
            for (h = 1; J > h; h++) i = k + ((h > H ? H : h) << 2), m += (N.r = y = D[i]) * (C = J - h), n += (N.g = z = D[i + 1]) * C, o += (N.b = A = D[i +
                2]) * C, p += (N.a = B = D[i + 3]) * C, u += y, v += z, w += A, x += B, N = N.next;
            for (O = L, P = M, f = 0; E > f; f++) D[k + 3] = B = p * Q >> R, 0 !== B ? (B = 255 / B, D[k] = (m * Q >> R) * B, D[k + 1] = (n * Q >> R) * B,
                    D[k + 2] = (o * Q >> R) * B) : D[k] = D[k + 1] = D[k + 2] = 0, m -= q, n -= r, o -= s, p -= t, q -= O.r, r -= O.g, s -= O.b, t -= O.a,
                i = l + ((i = f + e + 1) < H ? i : H) << 2, u += O.r = D[i], v += O.g = D[i + 1], w += O.b = D[i + 2], x += O.a = D[i + 3], m += u, n += v,
                o += w, p += x, O = O.next, q += y = P.r, r += z = P.g, s += A = P.b, t += B = P.a, u -= y, v -= z, w -= A, x -= B, P = P.next, k += 4;
            l += E
        }
        for (f = 0; E > f; f++) {
            for (v = w = x = u = n = o = p = m = 0, k = f << 2, q = J * (y = D[k]), r = J * (z = D[k + 1]), s = J * (A = D[k + 2]), t = J * (B = D[k + 3]),
                m += K * y, n += K * z, o += K * A, p += K * B, N = L, h = 0; J > h; h++) N.r = y, N.g = z, N.b = A, N.a = B, N = N.next;
            for (j = E, h = 1; e >= h; h++) k = j + f << 2, m += (N.r = y = D[k]) * (C = J - h), n += (N.g = z = D[k + 1]) * C, o += (N.b = A = D[k + 2]) *
                C, p += (N.a = B = D[k + 3]) * C, u += y, v += z, w += A, x += B, N = N.next, I > h && (j += E);
            for (k = f, O = L, P = M, g = 0; F > g; g++) i = k << 2, D[i + 3] = B = p * Q >> R, B > 0 ? (B = 255 / B, D[i] = (m * Q >> R) * B, D[i + 1] = (
                    n * Q >> R) * B, D[i + 2] = (o * Q >> R) * B) : D[i] = D[i + 1] = D[i + 2] = 0, m -= q, n -= r, o -= s, p -= t, q -= O.r, r -= O.g, s -=
                O.b, t -= O.a, i = f + ((i = g + J) < I ? i : I) * E << 2, m += u += O.r = D[i], n += v += O.g = D[i + 1], o += w += O.b = D[i + 2], p += x +=
                O.a = D[i + 3], O = O.next, q += y = P.r, r += z = P.g, s += A = P.b, t += B = P.a, u -= y, v -= z, w -= A, x -= B, P = P.next, k += E
        }
    }
    var c = [512, 512, 456, 512, 328, 456, 335, 512, 405, 328, 271, 456, 388, 335, 292, 512, 454, 405, 364, 328, 298, 271, 496, 456, 420, 388, 360, 335, 312,
            292, 273, 512, 482, 454, 428, 405, 383, 364, 345, 328, 312, 298, 284, 271, 259, 496, 475, 456, 437, 420, 404, 388, 374, 360, 347, 335, 323, 312,
            302, 292, 282, 273, 265, 512, 497, 482, 468, 454, 441, 428, 417, 405, 394, 383, 373, 364, 354, 345, 337, 328, 320, 312, 305, 298, 291, 284, 278,
            271, 265, 259, 507, 496, 485, 475, 465, 456, 446, 437, 428, 420, 412, 404, 396, 388, 381, 374, 367, 360, 354, 347, 341, 335, 329, 323, 318, 312,
            307, 302, 297, 292, 287, 282, 278, 273, 269, 265, 261, 512, 505, 497, 489, 482, 475, 468, 461, 454, 447, 441, 435, 428, 422, 417, 411, 405, 399,
            394, 389, 383, 378, 373, 368, 364, 359, 354, 350, 345, 341, 337, 332, 328, 324, 320, 316, 312, 309, 305, 301, 298, 294, 291, 287, 284, 281, 278,
            274, 271, 268, 265, 262, 259, 257, 507, 501, 496, 491, 485, 480, 475, 470, 465, 460, 456, 451, 446, 442, 437, 433, 428, 424, 420, 416, 412, 408,
            404, 400, 396, 392, 388, 385, 381, 377, 374, 370, 367, 363, 360, 357, 354, 350, 347, 344, 341, 338, 335, 332, 329, 326, 323, 320, 318, 315, 312,
            310, 307, 304, 302, 299, 297, 294, 292, 289, 287, 285, 282, 280, 278, 275, 273, 271, 269, 267, 265, 263, 261, 259],
        d = [9, 11, 12, 13, 13, 14, 14, 15, 15, 15, 15, 16, 16, 16, 16, 17, 17, 17, 17, 17, 17, 17, 18, 18, 18, 18, 18, 18, 18, 18, 18, 19, 19, 19, 19, 19, 19,
            19, 19, 19, 19, 19, 19, 19, 19, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21,
            21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22,
            22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23,
            23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 24, 24, 24, 24,
            24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
            24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24];
    Kinetic.Filters.Blur = function (a) {
        var c = 0 | this.getFilterRadius();
        c > 0 && b(a, c)
    }, Kinetic.Factory.addFilterGetterSetter(Kinetic.Image, "filterRadius", 0)
}(),
function () {
    function a(a, b, c) {
        var d = 4 * (c * a.width + b),
            e = [];
        return e.push(a.data[d++], a.data[d++], a.data[d++], a.data[d++]), e
    }

    function b(a, b) {
        return Math.sqrt(Math.pow(a[0] - b[0], 2) + Math.pow(a[1] - b[1], 2) + Math.pow(a[2] - b[2], 2))
    }

    function c(a) {
        for (var b = [0, 0, 0], c = 0; c < a.length; c++) b[0] += a[c][0], b[1] += a[c][1], b[2] += a[c][2];
        return b[0] /= a.length, b[1] /= a.length, b[2] /= a.length, b
    }

    function d(d, e) {
        var f = a(d, 0, 0),
            g = a(d, d.width - 1, 0),
            h = a(d, 0, d.height - 1),
            i = a(d, d.width - 1, d.height - 1),
            j = e || 10;
        if (b(f, g) < j && b(g, i) < j && b(i, h) < j && b(h, f) < j) {
            for (var k = c([g, f, i, h]), l = [], m = 0; m < d.width * d.height; m++) {
                var n = b(k, [d.data[4 * m], d.data[4 * m + 1], d.data[4 * m + 2]]);
                l[m] = j > n ? 0 : 255
            }
            return l
        }
    }

    function e(a, b) {
        for (var c = 0; c < a.width * a.height; c++) a.data[4 * c + 3] = b[c]
    }

    function f(a, b, c) {
        for (var d = [1, 1, 1, 1, 0, 1, 1, 1, 1], e = Math.round(Math.sqrt(d.length)), f = Math.floor(e / 2), g = [], h = 0; c > h; h++)
            for (var i = 0; b > i; i++) {
                for (var j = h * b + i, k = 0, l = 0; e > l; l++)
                    for (var m = 0; e > m; m++) {
                        var n = h + l - f,
                            o = i + m - f;
                        if (n >= 0 && c > n && o >= 0 && b > o) {
                            var p = n * b + o,
                                q = d[l * e + m];
                            k += a[p] * q
                        }
                    }
                g[j] = 2040 === k ? 255 : 0
            }
        return g
    }

    function g(a, b, c) {
        for (var d = [1, 1, 1, 1, 1, 1, 1, 1, 1], e = Math.round(Math.sqrt(d.length)), f = Math.floor(e / 2), g = [], h = 0; c > h; h++)
            for (var i = 0; b > i; i++) {
                for (var j = h * b + i, k = 0, l = 0; e > l; l++)
                    for (var m = 0; e > m; m++) {
                        var n = h + l - f,
                            o = i + m - f;
                        if (n >= 0 && c > n && o >= 0 && b > o) {
                            var p = n * b + o,
                                q = d[l * e + m];
                            k += a[p] * q
                        }
                    }
                g[j] = k >= 1020 ? 255 : 0
            }
        return g
    }

    function h(a, b, c) {
        for (var d = [1 / 9, 1 / 9, 1 / 9, 1 / 9, 1 / 9, 1 / 9, 1 / 9, 1 / 9, 1 / 9], e = Math.round(Math.sqrt(d.length)), f = Math.floor(e / 2), g = [], h =
                0; c > h; h++)
            for (var i = 0; b > i; i++) {
                for (var j = h * b + i, k = 0, l = 0; e > l; l++)
                    for (var m = 0; e > m; m++) {
                        var n = h + l - f,
                            o = i + m - f;
                        if (n >= 0 && c > n && o >= 0 && b > o) {
                            var p = n * b + o,
                                q = d[l * e + m];
                            k += a[p] * q
                        }
                    }
                g[j] = k
            }
        return g
    }
    Kinetic.Filters.Mask = function (a) {
        var b = this.getFilterThreshold(),
            c = d(a, b);
        return c && (c = f(c, a.width, a.height), c = g(c, a.width, a.height), c = h(c, a.width, a.height), e(a, c)), a
    }, Kinetic.Factory.addFilterGetterSetter(Kinetic.Image, "filterThreshold", 0)
}(),
function () {
    var a = function (a, b, c) {
            a /= 255, b /= 255, c /= 255;
            var d = Math.max(a, b, c),
                e = Math.min(a, b, c),
                f = d - e,
                g = f / 2,
                h = f / (1 - Math.abs(2 * g - 1)),
                i = 0;
            return d == a ? i = (b - c) / f % 6 : d == b ? i = (c - a) / f + 2 : d == c && (i = (a - b) / f + 4), [(60 * i + 360) % 360, h, g]
        },
        b = function (a, b, c, d) {
            a /= 255, b /= 255, c /= 255;
            var e = Math.max(a, b, c),
                f = Math.min(a, b, c),
                g = e - f,
                h = g / 2,
                i = (g / (1 - Math.abs(2 * h - 1)), 0);
            e == a ? i = (b - c) / g % 6 : e == b ? i = (c - a) / g + 2 : e == c && (i = (a - b) / g + 4), i *= 60, i %= 360, i += d, i %= 360, i /= 60;
            var j = 0,
                k = 0,
                l = 0,
                m = g * (1 - Math.abs(i % 2 - 1)),
                n = h - g / 2;
            return i >= 0 && 1 > i ? (j = g, k = m) : i >= 1 && 2 > i ? (k = g, j = m) : i >= 2 && 3 > i ? (k = g, l = m) : i >= 3 && 4 > i ? (l = g, k = m) :
                i >= 4 && 5 > i ? (l = g, j = m) : i >= 5 && 6 > i && (j = g, l = m), j += n, k += n, l += n, j = 255 * j, k = 255 * k, l = 255 * l, [j, k, l]
        },
        c = function (a, c) {
            for (var d, e = a.data, f = 0; f < e.length; f += 4) d = b(e[f + 0], e[f + 1], e[f + 2], c), e[f + 0] = d[0], e[f + 1] = d[1], e[f + 2] = d[2]
        };
    Kinetic.Filters.ShiftHue = function (a) {
        c(a, this.getFilterHueShiftDeg() % 360)
    }, Kinetic.Factory.addFilterGetterSetter(Kinetic.Image, "filterHueShiftDeg", 0), Kinetic.Filters.Colorize = function (b) {
        for (var d = b.data, e = this.getFilterColorizeColor(), f = a(e[0], e[1], e[2]), g = f[0], h = 0; h < d.length; h += 4) d[h + 1] = 0, d[h + 2] = 0;
        c(b, g)
    }, Kinetic.Factory.addFilterGetterSetter(Kinetic.Image, "filterColorizeColor", [255, 0, 0])
}(),
function () {
    var a = function (a, b) {
            var c = a.data,
                d = a.width,
                e = a.height,
                f = d * e,
                g = [];
            g.length = 4 * d * e;
            var h, i, j, k, l, m, n, o, p, q, r, s = b.length,
                t = b[0].length,
                u = Math.floor(b.length / 2),
                v = Math.floor(b[0].length / 2);
            for (m = 0; e > m; m += 1)
                for (l = 0; d > l; l += 1) {
                    for (h = 0, i = 0, j = 0, k = 0, q = 0; s > q; q += 1)
                        for (r = 0; t > r; r += 1) n = (l + q - u) % d, n = n > 0 ? n : -n, o = (m + q - v) % e, o = o > 0 ? o : -o, p = 4 * (o * d + n), h +=
                            b[r][q] * c[p + 0], i += b[r][q] * c[p + 1], j += b[r][q] * c[p + 2];
                    p = 4 * (m * d + l), g[p + 0] = h, g[p + 1] = i, g[p + 2] = j
                }
            var w = 4 * f;
            for (p = 0; w > p; p += 4) c[p + 0] = g[p + 0], c[p + 1] = g[p + 1], c[p + 2] = g[p + 2]
        },
        b = function (a, b, c) {
            var d = a - b;
            return Math.pow(Math.E, -d * d / (2 * c * c))
        },
        c = function (a, c, d) {
            0 === a % 2 && (a += 1);
            var e, f, g, h = [];
            for (e = 0; a > e; e += 1) {
                for (g = [], f = 0; a > f; f += 1) g.push(c * b(e, a / 2, d) * b(f, a / 2, d));
                h.push(g)
            }
            return h
        },
        d = function (a, b) {
            var d = c(a, b, 1),
                e = Math.floor(a / 2);
            return d[e][e] += 1 - b, d
        },
        e = function (a, b) {
            var d = c(a, -b, 1),
                e = Math.floor(a / 2);
            return d[e][e] += 1 + b, d
        };
    Kinetic.Factory.addFilterGetterSetter(Kinetic.Image, "filterAmount", 50), Kinetic.Filters.UnsharpMask = function (b) {
        a(b, e(5, this.getFilterAmount() / 100))
    }, Kinetic.Filters.SoftBlur = function (b) {
        a(b, d(5, this.getFilterAmount() / 100))
    }, Kinetic.Filters.Edge = function (b) {
        var c = this.getFilterAmount() / 100;
        0 !== c && a(b, [[0, -1 * c, 0], [-1 * c, 1 - c + 4 * c, -1 * c], [0, -1 * c, 0]])
    }, Kinetic.Filters.Emboss = function (b) {
        var c = this.getFilterAmount() / 100;
        0 !== c && a(b, [[-1 * c, -.5 * c, 0], [-.5 * c, 1 + .5 * c, .5 * c], [0, .5 * c, 1 * c]])
    }
}();
/*! jQuery UI - v1.10.3 - 2013-05-03
 * http://jqueryui.com
 * Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.mouse.js, jquery.ui.draggable.js, jquery.ui.droppable.js, jquery.ui.resizable.js, jquery.ui.selectable.js, jquery.ui.sortable.js, jquery.ui.effect.js, jquery.ui.accordion.js, jquery.ui.autocomplete.js, jquery.ui.button.js, jquery.ui.datepicker.js, jquery.ui.dialog.js, jquery.ui.effect-blind.js, jquery.ui.effect-bounce.js, jquery.ui.effect-clip.js, jquery.ui.effect-drop.js, jquery.ui.effect-explode.js, jquery.ui.effect-fade.js, jquery.ui.effect-fold.js, jquery.ui.effect-highlight.js, jquery.ui.effect-pulsate.js, jquery.ui.effect-scale.js, jquery.ui.effect-shake.js, jquery.ui.effect-slide.js, jquery.ui.effect-transfer.js, jquery.ui.menu.js, jquery.ui.position.js, jquery.ui.progressbar.js, jquery.ui.slider.js, jquery.ui.spinner.js, jquery.ui.tabs.js, jquery.ui.tooltip.js
 * Copyright 2013 jQuery Foundation and other contributors; Licensed MIT */
(function (t, e) {
    function i(e, i) {
        var n, o, a, r = e.nodeName.toLowerCase();
        return "area" === r ? (n = e.parentNode, o = n.name, e.href && o && "map" === n.nodeName.toLowerCase() ? (a = t("img[usemap=#" + o + "]")[0], !
            !a && s(a)) : !1) : (/input|select|textarea|button|object/.test(r) ? !e.disabled : "a" === r ? e.href || i : i) && s(e)
    }

    function s(e) {
        return t.expr.filters.visible(e) && !t(e)
            .parents()
            .addBack()
            .filter(function () {
                return "hidden" === t.css(this, "visibility")
            })
            .length
    }
    var n = 0,
        o = /^ui-id-\d+$/;
    t.ui = t.ui || {}, t.extend(t.ui, {
            version: "1.10.3",
            keyCode: {
                BACKSPACE: 8,
                COMMA: 188,
                DELETE: 46,
                DOWN: 40,
                END: 35,
                ENTER: 13,
                ESCAPE: 27,
                HOME: 36,
                LEFT: 37,
                NUMPAD_ADD: 107,
                NUMPAD_DECIMAL: 110,
                NUMPAD_DIVIDE: 111,
                NUMPAD_ENTER: 108,
                NUMPAD_MULTIPLY: 106,
                NUMPAD_SUBTRACT: 109,
                PAGE_DOWN: 34,
                PAGE_UP: 33,
                PERIOD: 190,
                RIGHT: 39,
                SPACE: 32,
                TAB: 9,
                UP: 38
            }
        }), t.fn.extend({
            focus: function (e) {
                return function (i, s) {
                    return "number" == typeof i ? this.each(function () {
                        var e = this;
                        setTimeout(function () {
                            t(e)
                                .focus(), s && s.call(e)
                        }, i)
                    }) : e.apply(this, arguments)
                }
            }(t.fn.focus),
            scrollParent: function () {
                var e;
                return e = t.ui.ie && /(static|relative)/.test(this.css("position")) || /absolute/.test(this.css("position")) ? this.parents()
                    .filter(function () {
                        return /(relative|absolute|fixed)/.test(t.css(this, "position")) && /(auto|scroll)/.test(t.css(this, "overflow") + t.css(
                            this, "overflow-y") + t.css(this, "overflow-x"))
                    })
                    .eq(0) : this.parents()
                    .filter(function () {
                        return /(auto|scroll)/.test(t.css(this, "overflow") + t.css(this, "overflow-y") + t.css(this, "overflow-x"))
                    })
                    .eq(0), /fixed/.test(this.css("position")) || !e.length ? t(document) : e
            },
            zIndex: function (i) {
                if (i !== e) return this.css("zIndex", i);
                if (this.length)
                    for (var s, n, o = t(this[0]); o.length && o[0] !== document;) {
                        if (s = o.css("position"), ("absolute" === s || "relative" === s || "fixed" === s) && (n = parseInt(o.css("zIndex"), 10), !
                                isNaN(n) && 0 !== n)) return n;
                        o = o.parent()
                    }
                return 0
            },
            uniqueId: function () {
                return this.each(function () {
                    this.id || (this.id = "ui-id-" + ++n)
                })
            },
            removeUniqueId: function () {
                return this.each(function () {
                    o.test(this.id) && t(this)
                        .removeAttr("id")
                })
            }
        }), t.extend(t.expr[":"], {
            data: t.expr.createPseudo ? t.expr.createPseudo(function (e) {
                return function (i) {
                    return !!t.data(i, e)
                }
            }) : function (e, i, s) {
                return !!t.data(e, s[3])
            },
            focusable: function (e) {
                return i(e, !isNaN(t.attr(e, "tabindex")))
            },
            tabbable: function (e) {
                var s = t.attr(e, "tabindex"),
                    n = isNaN(s);
                return (n || s >= 0) && i(e, !n)
            }
        }), t("<a>")
        .outerWidth(1)
        .jquery || t.each(["Width", "Height"], function (i, s) {
            function n(e, i, s, n) {
                return t.each(o, function () {
                    i -= parseFloat(t.css(e, "padding" + this)) || 0, s && (i -= parseFloat(t.css(e, "border" + this + "Width")) || 0), n &&
                        (i -= parseFloat(t.css(e, "margin" + this)) || 0)
                }), i
            }
            var o = "Width" === s ? ["Left", "Right"] : ["Top", "Bottom"],
                a = s.toLowerCase(),
                r = {
                    innerWidth: t.fn.innerWidth,
                    innerHeight: t.fn.innerHeight,
                    outerWidth: t.fn.outerWidth,
                    outerHeight: t.fn.outerHeight
                };
            t.fn["inner" + s] = function (i) {
                return i === e ? r["inner" + s].call(this) : this.each(function () {
                    t(this)
                        .css(a, n(this, i) + "px")
                })
            }, t.fn["outer" + s] = function (e, i) {
                return "number" != typeof e ? r["outer" + s].call(this, e) : this.each(function () {
                    t(this)
                        .css(a, n(this, e, !0, i) + "px")
                })
            }
        }), t.fn.addBack || (t.fn.addBack = function (t) {
            return this.add(null == t ? this.prevObject : this.prevObject.filter(t))
        }), t("<a>")
        .data("a-b", "a")
        .removeData("a-b")
        .data("a-b") && (t.fn.removeData = function (e) {
            return function (i) {
                return arguments.length ? e.call(this, t.camelCase(i)) : e.call(this)
            }
        }(t.fn.removeData)), t.ui.ie = !!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()), t.support.selectstart = "onselectstart" in document.createElement(
            "div"), t.fn.extend({
            disableSelection: function () {
                return this.bind((t.support.selectstart ? "selectstart" : "mousedown") + ".ui-disableSelection", function (t) {
                    t.preventDefault()
                })
            },
            enableSelection: function () {
                return this.unbind(".ui-disableSelection")
            }
        }), t.extend(t.ui, {
            plugin: {
                add: function (e, i, s) {
                    var n, o = t.ui[e].prototype;
                    for (n in s) o.plugins[n] = o.plugins[n] || [], o.plugins[n].push([i, s[n]])
                },
                call: function (t, e, i) {
                    var s, n = t.plugins[e];
                    if (n && t.element[0].parentNode && 11 !== t.element[0].parentNode.nodeType)
                        for (s = 0; n.length > s; s++) t.options[n[s][0]] && n[s][1].apply(t.element, i)
                }
            },
            hasScroll: function (e, i) {
                if ("hidden" === t(e)
                    .css("overflow")) return !1;
                var s = i && "left" === i ? "scrollLeft" : "scrollTop",
                    n = !1;
                return e[s] > 0 ? !0 : (e[s] = 1, n = e[s] > 0, e[s] = 0, n)
            }
        })
})(jQuery),
function (t, e) {
    var i = 0,
        s = Array.prototype.slice,
        n = t.cleanData;
    t.cleanData = function (e) {
        for (var i, s = 0; null != (i = e[s]); s++) try {
            t(i)
                .triggerHandler("remove")
        } catch (o) {}
        n(e)
    }, t.widget = function (i, s, n) {
        var o, a, r, h, l = {},
            c = i.split(".")[0];
        i = i.split(".")[1], o = c + "-" + i, n || (n = s, s = t.Widget), t.expr[":"][o.toLowerCase()] = function (e) {
            return !!t.data(e, o)
        }, t[c] = t[c] || {}, a = t[c][i], r = t[c][i] = function (t, i) {
            return this._createWidget ? (arguments.length && this._createWidget(t, i), e) : new r(t, i)
        }, t.extend(r, a, {
            version: n.version,
            _proto: t.extend({}, n),
            _childConstructors: []
        }), h = new s, h.options = t.widget.extend({}, h.options), t.each(n, function (i, n) {
            return t.isFunction(n) ? (l[i] = function () {
                var t = function () {
                        return s.prototype[i].apply(this, arguments)
                    },
                    e = function (t) {
                        return s.prototype[i].apply(this, t)
                    };
                return function () {
                    var i, s = this._super,
                        o = this._superApply;
                    return this._super = t, this._superApply = e, i = n.apply(this, arguments), this._super = s, this._superApply = o,
                        i
                }
            }(), e) : (l[i] = n, e)
        }), r.prototype = t.widget.extend(h, {
            widgetEventPrefix: a ? h.widgetEventPrefix : i
        }, l, {
            constructor: r,
            namespace: c,
            widgetName: i,
            widgetFullName: o
        }), a ? (t.each(a._childConstructors, function (e, i) {
            var s = i.prototype;
            t.widget(s.namespace + "." + s.widgetName, r, i._proto)
        }), delete a._childConstructors) : s._childConstructors.push(r), t.widget.bridge(i, r)
    }, t.widget.extend = function (i) {
        for (var n, o, a = s.call(arguments, 1), r = 0, h = a.length; h > r; r++)
            for (n in a[r]) o = a[r][n], a[r].hasOwnProperty(n) && o !== e && (i[n] = t.isPlainObject(o) ? t.isPlainObject(i[n]) ? t.widget.extend({}, i[n],
                o) : t.widget.extend({}, o) : o);
        return i
    }, t.widget.bridge = function (i, n) {
        var o = n.prototype.widgetFullName || i;
        t.fn[i] = function (a) {
            var r = "string" == typeof a,
                h = s.call(arguments, 1),
                l = this;
            return a = !r && h.length ? t.widget.extend.apply(null, [a].concat(h)) : a, r ? this.each(function () {
                var s, n = t.data(this, o);
                return n ? t.isFunction(n[a]) && "_" !== a.charAt(0) ? (s = n[a].apply(n, h), s !== n && s !== e ? (l = s && s.jquery ? l.pushStack(
                    s.get()) : s, !1) : e) : t.error("no such method '" + a + "' for " + i + " widget instance") : t.error(
                    "cannot call methods on " + i + " prior to initialization; " + "attempted to call method '" + a + "'")
            }) : this.each(function () {
                var e = t.data(this, o);
                e ? e.option(a || {})
                    ._init() : t.data(this, o, new n(a, this))
            }), l
        }
    }, t.Widget = function () {}, t.Widget._childConstructors = [], t.Widget.prototype = {
        widgetName: "widget",
        widgetEventPrefix: "",
        defaultElement: "<div>",
        options: {
            disabled: !1,
            create: null
        },
        _createWidget: function (e, s) {
            s = t(s || this.defaultElement || this)[0], this.element = t(s), this.uuid = i++, this.eventNamespace = "." + this.widgetName + this.uuid,
                this.options = t.widget.extend({}, this.options, this._getCreateOptions(), e), this.bindings = t(), this.hoverable = t(), this.focusable =
                t(), s !== this && (t.data(s, this.widgetFullName, this), this._on(!0, this.element, {
                    remove: function (t) {
                        t.target === s && this.destroy()
                    }
                }), this.document = t(s.style ? s.ownerDocument : s.document || s), this.window = t(this.document[0].defaultView || this.document[0]
                    .parentWindow)), this._create(), this._trigger("create", null, this._getCreateEventData()), this._init()
        },
        _getCreateOptions: t.noop,
        _getCreateEventData: t.noop,
        _create: t.noop,
        _init: t.noop,
        destroy: function () {
            this._destroy(), this.element.unbind(this.eventNamespace)
                .removeData(this.widgetName)
                .removeData(this.widgetFullName)
                .removeData(t.camelCase(this.widgetFullName)), this.widget()
                .unbind(this.eventNamespace)
                .removeAttr("aria-disabled")
                .removeClass(this.widgetFullName + "-disabled " + "ui-state-disabled"), this.bindings.unbind(this.eventNamespace), this.hoverable.removeClass(
                    "ui-state-hover"), this.focusable.removeClass("ui-state-focus")
        },
        _destroy: t.noop,
        widget: function () {
            return this.element
        },
        option: function (i, s) {
            var n, o, a, r = i;
            if (0 === arguments.length) return t.widget.extend({}, this.options);
            if ("string" == typeof i)
                if (r = {}, n = i.split("."), i = n.shift(), n.length) {
                    for (o = r[i] = t.widget.extend({}, this.options[i]), a = 0; n.length - 1 > a; a++) o[n[a]] = o[n[a]] || {}, o = o[n[a]];
                    if (i = n.pop(), s === e) return o[i] === e ? null : o[i];
                    o[i] = s
                } else {
                    if (s === e) return this.options[i] === e ? null : this.options[i];
                    r[i] = s
                }
            return this._setOptions(r), this
        },
        _setOptions: function (t) {
            var e;
            for (e in t) this._setOption(e, t[e]);
            return this
        },
        _setOption: function (t, e) {
            return this.options[t] = e, "disabled" === t && (this.widget()
                .toggleClass(this.widgetFullName + "-disabled ui-state-disabled", !!e)
                .attr("aria-disabled", e), this.hoverable.removeClass("ui-state-hover"), this.focusable.removeClass("ui-state-focus")), this
        },
        enable: function () {
            return this._setOption("disabled", !1)
        },
        disable: function () {
            return this._setOption("disabled", !0)
        },
        _on: function (i, s, n) {
            var o, a = this;
            "boolean" != typeof i && (n = s, s = i, i = !1), n ? (s = o = t(s), this.bindings = this.bindings.add(s)) : (n = s, s = this.element, o =
                this.widget()), t.each(n, function (n, r) {
                function h() {
                    return i || a.options.disabled !== !0 && !t(this)
                        .hasClass("ui-state-disabled") ? ("string" == typeof r ? a[r] : r)
                        .apply(a, arguments) : e
                }
                "string" != typeof r && (h.guid = r.guid = r.guid || h.guid || t.guid++);
                var l = n.match(/^(\w+)\s*(.*)$/),
                    c = l[1] + a.eventNamespace,
                    u = l[2];
                u ? o.delegate(u, c, h) : s.bind(c, h)
            })
        },
        _off: function (t, e) {
            e = (e || "")
                .split(" ")
                .join(this.eventNamespace + " ") + this.eventNamespace, t.unbind(e)
                .undelegate(e)
        },
        _delay: function (t, e) {
            function i() {
                return ("string" == typeof t ? s[t] : t)
                    .apply(s, arguments)
            }
            var s = this;
            return setTimeout(i, e || 0)
        },
        _hoverable: function (e) {
            this.hoverable = this.hoverable.add(e), this._on(e, {
                mouseenter: function (e) {
                    t(e.currentTarget)
                        .addClass("ui-state-hover")
                },
                mouseleave: function (e) {
                    t(e.currentTarget)
                        .removeClass("ui-state-hover")
                }
            })
        },
        _focusable: function (e) {
            this.focusable = this.focusable.add(e), this._on(e, {
                focusin: function (e) {
                    t(e.currentTarget)
                        .addClass("ui-state-focus")
                },
                focusout: function (e) {
                    t(e.currentTarget)
                        .removeClass("ui-state-focus")
                }
            })
        },
        _trigger: function (e, i, s) {
            var n, o, a = this.options[e];
            if (s = s || {}, i = t.Event(i), i.type = (e === this.widgetEventPrefix ? e : this.widgetEventPrefix + e)
                .toLowerCase(), i.target = this.element[0], o = i.originalEvent)
                for (n in o) n in i || (i[n] = o[n]);
            return this.element.trigger(i, s), !(t.isFunction(a) && a.apply(this.element[0], [i].concat(s)) === !1 || i.isDefaultPrevented())
        }
    }, t.each({
        show: "fadeIn",
        hide: "fadeOut"
    }, function (e, i) {
        t.Widget.prototype["_" + e] = function (s, n, o) {
            "string" == typeof n && (n = {
                effect: n
            });
            var a, r = n ? n === !0 || "number" == typeof n ? i : n.effect || i : e;
            n = n || {}, "number" == typeof n && (n = {
                    duration: n
                }), a = !t.isEmptyObject(n), n.complete = o, n.delay && s.delay(n.delay), a && t.effects && t.effects.effect[r] ? s[e](n) : r !== e &&
                s[r] ? s[r](n.duration, n.easing, o) : s.queue(function (i) {
                    t(this)[e](), o && o.call(s[0]), i()
                })
        }
    })
}(jQuery),
function (t) {
    var e = !1;
    t(document)
        .mouseup(function () {
            e = !1
        }), t.widget("ui.mouse", {
            version: "1.10.3",
            options: {
                cancel: "input,textarea,button,select,option",
                distance: 1,
                delay: 0
            },
            _mouseInit: function () {
                var e = this;
                this.element.bind("mousedown." + this.widgetName, function (t) {
                        return e._mouseDown(t)
                    })
                    .bind("click." + this.widgetName, function (i) {
                        return !0 === t.data(i.target, e.widgetName + ".preventClickEvent") ? (t.removeData(i.target, e.widgetName +
                            ".preventClickEvent"), i.stopImmediatePropagation(), !1) : undefined
                    }), this.started = !1
            },
            _mouseDestroy: function () {
                this.element.unbind("." + this.widgetName), this._mouseMoveDelegate && t(document)
                    .unbind("mousemove." + this.widgetName, this._mouseMoveDelegate)
                    .unbind("mouseup." + this.widgetName, this._mouseUpDelegate)
            },
            _mouseDown: function (i) {
                if (!e) {
                    this._mouseStarted && this._mouseUp(i), this._mouseDownEvent = i;
                    var s = this,
                        n = 1 === i.which,
                        o = "string" == typeof this.options.cancel && i.target.nodeName ? t(i.target)
                        .closest(this.options.cancel)
                        .length : !1;
                    return n && !o && this._mouseCapture(i) ? (this.mouseDelayMet = !this.options.delay, this.mouseDelayMet || (this._mouseDelayTimer =
                        setTimeout(function () {
                            s.mouseDelayMet = !0
                        }, this.options.delay)), this._mouseDistanceMet(i) && this._mouseDelayMet(i) && (this._mouseStarted = this._mouseStart(
                        i) !== !1, !this._mouseStarted) ? (i.preventDefault(), !0) : (!0 === t.data(i.target, this.widgetName +
                            ".preventClickEvent") && t.removeData(i.target, this.widgetName + ".preventClickEvent"), this._mouseMoveDelegate =
                        function (t) {
                            return s._mouseMove(t)
                        }, this._mouseUpDelegate = function (t) {
                            return s._mouseUp(t)
                        }, t(document)
                        .bind("mousemove." + this.widgetName, this._mouseMoveDelegate)
                        .bind("mouseup." + this.widgetName, this._mouseUpDelegate), i.preventDefault(), e = !0, !0)) : !0
                }
            },
            _mouseMove: function (e) {
                return t.ui.ie && (!document.documentMode || 9 > document.documentMode) && !e.button ? this._mouseUp(e) : this._mouseStarted ? (this._mouseDrag(
                    e), e.preventDefault()) : (this._mouseDistanceMet(e) && this._mouseDelayMet(e) && (this._mouseStarted = this._mouseStart(this._mouseDownEvent,
                    e) !== !1, this._mouseStarted ? this._mouseDrag(e) : this._mouseUp(e)), !this._mouseStarted)
            },
            _mouseUp: function (e) {
                return t(document)
                    .unbind("mousemove." + this.widgetName, this._mouseMoveDelegate)
                    .unbind("mouseup." + this.widgetName, this._mouseUpDelegate), this._mouseStarted && (this._mouseStarted = !1, e.target === this._mouseDownEvent
                        .target && t.data(e.target, this.widgetName + ".preventClickEvent", !0), this._mouseStop(e)), !1
            },
            _mouseDistanceMet: function (t) {
                return Math.max(Math.abs(this._mouseDownEvent.pageX - t.pageX), Math.abs(this._mouseDownEvent.pageY - t.pageY)) >= this.options.distance
            },
            _mouseDelayMet: function () {
                return this.mouseDelayMet
            },
            _mouseStart: function () {},
            _mouseDrag: function () {},
            _mouseStop: function () {},
            _mouseCapture: function () {
                return !0
            }
        })
}(jQuery),
function (t) {
    t.widget("ui.draggable", t.ui.mouse, {
        version: "1.10.3",
        widgetEventPrefix: "drag",
        options: {
            addClasses: !0,
            appendTo: "parent",
            axis: !1,
            connectToSortable: !1,
            containment: !1,
            cursor: "auto",
            cursorAt: !1,
            grid: !1,
            handle: !1,
            helper: "original",
            iframeFix: !1,
            opacity: !1,
            refreshPositions: !1,
            revert: !1,
            revertDuration: 500,
            scope: "default",
            scroll: !0,
            scrollSensitivity: 20,
            scrollSpeed: 20,
            snap: !1,
            snapMode: "both",
            snapTolerance: 20,
            stack: !1,
            zIndex: !1,
            drag: null,
            start: null,
            stop: null
        },
        _create: function () {
            "original" !== this.options.helper || /^(?:r|a|f)/.test(this.element.css("position")) || (this.element[0].style.position = "relative"),
                this.options.addClasses && this.element.addClass("ui-draggable"), this.options.disabled && this.element.addClass(
                    "ui-draggable-disabled"), this._mouseInit()
        },
        _destroy: function () {
            this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"), this._mouseDestroy()
        },
        _mouseCapture: function (e) {
            var i = this.options;
            return this.helper || i.disabled || t(e.target)
                .closest(".ui-resizable-handle")
                .length > 0 ? !1 : (this.handle = this._getHandle(e), this.handle ? (t(i.iframeFix === !0 ? "iframe" : i.iframeFix)
                    .each(function () {
                        t("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>")
                            .css({
                                width: this.offsetWidth + "px",
                                height: this.offsetHeight + "px",
                                position: "absolute",
                                opacity: "0.001",
                                zIndex: 1e3
                            })
                            .css(t(this)
                                .offset())
                            .appendTo("body")
                    }), !0) : !1)
        },
        _mouseStart: function (e) {
            var i = this.options;
            return this.helper = this._createHelper(e), this.helper.addClass("ui-draggable-dragging"), this._cacheHelperProportions(), t.ui.ddmanager &&
                (t.ui.ddmanager.current = this), this._cacheMargins(), this.cssPosition = this.helper.css("position"), this.scrollParent = this.helper
                .scrollParent(), this.offsetParent = this.helper.offsetParent(), this.offsetParentCssPosition = this.offsetParent.css("position"),
                this.offset = this.positionAbs = this.element.offset(), this.offset = {
                    top: this.offset.top - this.margins.top,
                    left: this.offset.left - this.margins.left
                }, this.offset.scroll = !1, t.extend(this.offset, {
                    click: {
                        left: e.pageX - this.offset.left,
                        top: e.pageY - this.offset.top
                    },
                    parent: this._getParentOffset(),
                    relative: this._getRelativeOffset()
                }), this.originalPosition = this.position = this._generatePosition(e), this.originalPageX = e.pageX, this.originalPageY = e.pageY,
                i.cursorAt && this._adjustOffsetFromHelper(i.cursorAt), this._setContainment(), this._trigger("start", e) === !1 ? (this._clear(), !
                    1) : (this._cacheHelperProportions(), t.ui.ddmanager && !i.dropBehaviour && t.ui.ddmanager.prepareOffsets(this, e), this._mouseDrag(
                    e, !0), t.ui.ddmanager && t.ui.ddmanager.dragStart(this, e), !0)
        },
        _mouseDrag: function (e, i) {
            if ("fixed" === this.offsetParentCssPosition && (this.offset.parent = this._getParentOffset()), this.position = this._generatePosition(
                    e), this.positionAbs = this._convertPositionTo("absolute"), !i) {
                var s = this._uiHash();
                if (this._trigger("drag", e, s) === !1) return this._mouseUp({}), !1;
                this.position = s.position
            }
            return this.options.axis && "y" === this.options.axis || (this.helper[0].style.left = this.position.left + "px"), this.options.axis &&
                "x" === this.options.axis || (this.helper[0].style.top = this.position.top + "px"), t.ui.ddmanager && t.ui.ddmanager.drag(this, e), !
                1
        },
        _mouseStop: function (e) {
            var i = this,
                s = !1;
            return t.ui.ddmanager && !this.options.dropBehaviour && (s = t.ui.ddmanager.drop(this, e)), this.dropped && (s = this.dropped, this.dropped = !
                1), "original" !== this.options.helper || t.contains(this.element[0].ownerDocument, this.element[0]) ? ("invalid" === this.options
                .revert && !s || "valid" === this.options.revert && s || this.options.revert === !0 || t.isFunction(this.options.revert) &&
                this.options.revert.call(this.element, s) ? t(this.helper)
                .animate(this.originalPosition, parseInt(this.options.revertDuration, 10), function () {
                    i._trigger("stop", e) !== !1 && i._clear()
                }) : this._trigger("stop", e) !== !1 && this._clear(), !1) : !1
        },
        _mouseUp: function (e) {
            return t("div.ui-draggable-iframeFix")
                .each(function () {
                    this.parentNode.removeChild(this)
                }), t.ui.ddmanager && t.ui.ddmanager.dragStop(this, e), t.ui.mouse.prototype._mouseUp.call(this, e)
        },
        cancel: function () {
            return this.helper.is(".ui-draggable-dragging") ? this._mouseUp({}) : this._clear(), this
        },
        _getHandle: function (e) {
            return this.options.handle ? !!t(e.target)
                .closest(this.element.find(this.options.handle))
                .length : !0
        },
        _createHelper: function (e) {
            var i = this.options,
                s = t.isFunction(i.helper) ? t(i.helper.apply(this.element[0], [e])) : "clone" === i.helper ? this.element.clone()
                .removeAttr("id") : this.element;
            return s.parents("body")
                .length || s.appendTo("parent" === i.appendTo ? this.element[0].parentNode : i.appendTo), s[0] === this.element[0] ||
                /(fixed|absolute)/.test(s.css("position")) || s.css("position", "absolute"), s
        },
        _adjustOffsetFromHelper: function (e) {
            "string" == typeof e && (e = e.split(" ")), t.isArray(e) && (e = {
                left: +e[0],
                top: +e[1] || 0
            }), "left" in e && (this.offset.click.left = e.left + this.margins.left), "right" in e && (this.offset.click.left = this.helperProportions
                .width - e.right + this.margins.left), "top" in e && (this.offset.click.top = e.top + this.margins.top), "bottom" in e && (this
                .offset.click.top = this.helperProportions.height - e.bottom + this.margins.top)
        },
        _getParentOffset: function () {
            var e = this.offsetParent.offset();
            return "absolute" === this.cssPosition && this.scrollParent[0] !== document && t.contains(this.scrollParent[0], this.offsetParent[0]) &&
                (e.left += this.scrollParent.scrollLeft(), e.top += this.scrollParent.scrollTop()), (this.offsetParent[0] === document.body || this
                    .offsetParent[0].tagName && "html" === this.offsetParent[0].tagName.toLowerCase() && t.ui.ie) && (e = {
                    top: 0,
                    left: 0
                }), {
                    top: e.top + (parseInt(this.offsetParent.css("borderTopWidth"), 10) || 0),
                    left: e.left + (parseInt(this.offsetParent.css("borderLeftWidth"), 10) || 0)
                }
        },
        _getRelativeOffset: function () {
            if ("relative" === this.cssPosition) {
                var t = this.element.position();
                return {
                    top: t.top - (parseInt(this.helper.css("top"), 10) || 0) + this.scrollParent.scrollTop(),
                    left: t.left - (parseInt(this.helper.css("left"), 10) || 0) + this.scrollParent.scrollLeft()
                }
            }
            return {
                top: 0,
                left: 0
            }
        },
        _cacheMargins: function () {
            this.margins = {
                left: parseInt(this.element.css("marginLeft"), 10) || 0,
                top: parseInt(this.element.css("marginTop"), 10) || 0,
                right: parseInt(this.element.css("marginRight"), 10) || 0,
                bottom: parseInt(this.element.css("marginBottom"), 10) || 0
            }
        },
        _cacheHelperProportions: function () {
            this.helperProportions = {
                width: this.helper.outerWidth(),
                height: this.helper.outerHeight()
            }
        },
        _setContainment: function () {
            var e, i, s, n = this.options;
            return n.containment ? "window" === n.containment ? (this.containment = [t(window)
                    .scrollLeft() - this.offset.relative.left - this.offset.parent.left, t(window)
                    .scrollTop() - this.offset.relative.top - this.offset.parent.top, t(window)
                    .scrollLeft() + t(window)
                    .width() - this.helperProportions.width - this.margins.left, t(window)
                    .scrollTop() + (t(window)
                        .height() || document.body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top], undefined) :
                "document" === n.containment ? (this.containment = [0, 0, t(document)
                    .width() - this.helperProportions.width - this.margins.left, (t(document)
                        .height() || document.body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top], undefined) : n.containment
                .constructor === Array ? (this.containment = n.containment, undefined) : ("parent" === n.containment && (n.containment = this.helper[
                    0].parentNode), i = t(n.containment), s = i[0], s && (e = "hidden" !== i.css("overflow"), this.containment = [(parseInt(i.css(
                        "borderLeftWidth"), 10) || 0) + (parseInt(i.css("paddingLeft"), 10) || 0), (parseInt(i.css("borderTopWidth"), 10) ||
                        0) + (parseInt(i.css("paddingTop"), 10) || 0), (e ? Math.max(s.scrollWidth, s.offsetWidth) : s.offsetWidth) - (
                        parseInt(i.css("borderRightWidth"), 10) || 0) - (parseInt(i.css("paddingRight"), 10) || 0) - this.helperProportions
                    .width - this.margins.left - this.margins.right, (e ? Math.max(s.scrollHeight, s.offsetHeight) : s.offsetHeight) - (
                        parseInt(i.css("borderBottomWidth"), 10) || 0) - (parseInt(i.css("paddingBottom"), 10) || 0) - this.helperProportions
                    .height - this.margins.top - this.margins.bottom], this.relative_container = i), undefined) : (this.containment = null,
                    undefined)
        },
        _convertPositionTo: function (e, i) {
            i || (i = this.position);
            var s = "absolute" === e ? 1 : -1,
                n = "absolute" !== this.cssPosition || this.scrollParent[0] !== document && t.contains(this.scrollParent[0], this.offsetParent[0]) ?
                this.scrollParent : this.offsetParent;
            return this.offset.scroll || (this.offset.scroll = {
                top: n.scrollTop(),
                left: n.scrollLeft()
            }), {
                top: i.top + this.offset.relative.top * s + this.offset.parent.top * s - ("fixed" === this.cssPosition ? -this.scrollParent.scrollTop() :
                    this.offset.scroll.top) * s,
                left: i.left + this.offset.relative.left * s + this.offset.parent.left * s - ("fixed" === this.cssPosition ? -this.scrollParent
                    .scrollLeft() : this.offset.scroll.left) * s
            }
        },
        _generatePosition: function (e) {
            var i, s, n, o, a = this.options,
                r = "absolute" !== this.cssPosition || this.scrollParent[0] !== document && t.contains(this.scrollParent[0], this.offsetParent[0]) ?
                this.scrollParent : this.offsetParent,
                h = e.pageX,
                l = e.pageY;
            return this.offset.scroll || (this.offset.scroll = {
                top: r.scrollTop(),
                left: r.scrollLeft()
            }), this.originalPosition && (this.containment && (this.relative_container ? (s = this.relative_container.offset(), i = [this.containment[
                    0] + s.left, this.containment[1] + s.top, this.containment[2] + s.left, this.containment[3] + s.top]) : i = this.containment,
                e.pageX - this.offset.click.left < i[0] && (h = i[0] + this.offset.click.left), e.pageY - this.offset.click.top < i[1] && (
                    l = i[1] + this.offset.click.top), e.pageX - this.offset.click.left > i[2] && (h = i[2] + this.offset.click.left), e.pageY -
                this.offset.click.top > i[3] && (l = i[3] + this.offset.click.top)), a.grid && (n = a.grid[1] ? this.originalPageY + Math.round(
                    (l - this.originalPageY) / a.grid[1]) * a.grid[1] : this.originalPageY, l = i ? n - this.offset.click.top >= i[1] || n -
                this.offset.click.top > i[3] ? n : n - this.offset.click.top >= i[1] ? n - a.grid[1] : n + a.grid[1] : n, o = a.grid[0] ?
                this.originalPageX + Math.round((h - this.originalPageX) / a.grid[0]) * a.grid[0] : this.originalPageX, h = i ? o - this.offset
                .click.left >= i[0] || o - this.offset.click.left > i[2] ? o : o - this.offset.click.left >= i[0] ? o - a.grid[0] : o + a.grid[
                    0] : o)), {
                top: l - this.offset.click.top - this.offset.relative.top - this.offset.parent.top + ("fixed" === this.cssPosition ? -this.scrollParent
                    .scrollTop() : this.offset.scroll.top),
                left: h - this.offset.click.left - this.offset.relative.left - this.offset.parent.left + ("fixed" === this.cssPosition ? -this.scrollParent
                    .scrollLeft() : this.offset.scroll.left)
            }
        },
        _clear: function () {
            this.helper.removeClass("ui-draggable-dragging"), this.helper[0] === this.element[0] || this.cancelHelperRemoval || this.helper.remove(),
                this.helper = null, this.cancelHelperRemoval = !1
        },
        _trigger: function (e, i, s) {
            return s = s || this._uiHash(), t.ui.plugin.call(this, e, [i, s]), "drag" === e && (this.positionAbs = this._convertPositionTo(
                "absolute")), t.Widget.prototype._trigger.call(this, e, i, s)
        },
        plugins: {},
        _uiHash: function () {
            return {
                helper: this.helper,
                position: this.position,
                originalPosition: this.originalPosition,
                offset: this.positionAbs
            }
        }
    }), t.ui.plugin.add("draggable", "connectToSortable", {
        start: function (e, i) {
            var s = t(this)
                .data("ui-draggable"),
                n = s.options,
                o = t.extend({}, i, {
                    item: s.element
                });
            s.sortables = [], t(n.connectToSortable)
                .each(function () {
                    var i = t.data(this, "ui-sortable");
                    i && !i.options.disabled && (s.sortables.push({
                        instance: i,
                        shouldRevert: i.options.revert
                    }), i.refreshPositions(), i._trigger("activate", e, o))
                })
        },
        stop: function (e, i) {
            var s = t(this)
                .data("ui-draggable"),
                n = t.extend({}, i, {
                    item: s.element
                });
            t.each(s.sortables, function () {
                this.instance.isOver ? (this.instance.isOver = 0, s.cancelHelperRemoval = !0, this.instance.cancelHelperRemoval = !1, this.shouldRevert &&
                    (this.instance.options.revert = this.shouldRevert), this.instance._mouseStop(e), this.instance.options.helper =
                    this.instance.options._helper, "original" === s.options.helper && this.instance.currentItem.css({
                        top: "auto",
                        left: "auto"
                    })) : (this.instance.cancelHelperRemoval = !1, this.instance._trigger("deactivate", e, n))
            })
        },
        drag: function (e, i) {
            var s = t(this)
                .data("ui-draggable"),
                n = this;
            t.each(s.sortables, function () {
                var o = !1,
                    a = this;
                this.instance.positionAbs = s.positionAbs, this.instance.helperProportions = s.helperProportions, this.instance.offset.click =
                    s.offset.click, this.instance._intersectsWith(this.instance.containerCache) && (o = !0, t.each(s.sortables, function () {
                        return this.instance.positionAbs = s.positionAbs, this.instance.helperProportions = s.helperProportions,
                            this.instance.offset.click = s.offset.click, this !== a && this.instance._intersectsWith(this.instance.containerCache) &&
                            t.contains(a.instance.element[0], this.instance.element[0]) && (o = !1), o
                    })), o ? (this.instance.isOver || (this.instance.isOver = 1, this.instance.currentItem = t(n)
                            .clone()
                            .removeAttr("id")
                            .appendTo(this.instance.element)
                            .data("ui-sortable-item", !0), this.instance.options._helper = this.instance.options.helper, this.instance.options
                            .helper = function () {
                                return i.helper[0]
                            }, e.target = this.instance.currentItem[0], this.instance._mouseCapture(e, !0), this.instance._mouseStart(e, !0, !
                                0), this.instance.offset.click.top = s.offset.click.top, this.instance.offset.click.left = s.offset.click.left,
                            this.instance.offset.parent.left -= s.offset.parent.left - this.instance.offset.parent.left, this.instance.offset
                            .parent.top -= s.offset.parent.top - this.instance.offset.parent.top, s._trigger("toSortable", e), s.dropped =
                            this.instance.element, s.currentItem = s.element, this.instance.fromOutside = s), this.instance.currentItem &&
                        this.instance._mouseDrag(e)) : this.instance.isOver && (this.instance.isOver = 0, this.instance.cancelHelperRemoval = !
                        0, this.instance.options.revert = !1, this.instance._trigger("out", e, this.instance._uiHash(this.instance)), this.instance
                        ._mouseStop(e, !0), this.instance.options.helper = this.instance.options._helper, this.instance.currentItem.remove(),
                        this.instance.placeholder && this.instance.placeholder.remove(), s._trigger("fromSortable", e), s.dropped = !1)
            })
        }
    }), t.ui.plugin.add("draggable", "cursor", {
        start: function () {
            var e = t("body"),
                i = t(this)
                .data("ui-draggable")
                .options;
            e.css("cursor") && (i._cursor = e.css("cursor")), e.css("cursor", i.cursor)
        },
        stop: function () {
            var e = t(this)
                .data("ui-draggable")
                .options;
            e._cursor && t("body")
                .css("cursor", e._cursor)
        }
    }), t.ui.plugin.add("draggable", "opacity", {
        start: function (e, i) {
            var s = t(i.helper),
                n = t(this)
                .data("ui-draggable")
                .options;
            s.css("opacity") && (n._opacity = s.css("opacity")), s.css("opacity", n.opacity)
        },
        stop: function (e, i) {
            var s = t(this)
                .data("ui-draggable")
                .options;
            s._opacity && t(i.helper)
                .css("opacity", s._opacity)
        }
    }), t.ui.plugin.add("draggable", "scroll", {
        start: function () {
            var e = t(this)
                .data("ui-draggable");
            e.scrollParent[0] !== document && "HTML" !== e.scrollParent[0].tagName && (e.overflowOffset = e.scrollParent.offset())
        },
        drag: function (e) {
            var i = t(this)
                .data("ui-draggable"),
                s = i.options,
                n = !1;
            i.scrollParent[0] !== document && "HTML" !== i.scrollParent[0].tagName ? (s.axis && "x" === s.axis || (i.overflowOffset.top + i.scrollParent[
                    0].offsetHeight - e.pageY < s.scrollSensitivity ? i.scrollParent[0].scrollTop = n = i.scrollParent[0].scrollTop + s.scrollSpeed :
                e.pageY - i.overflowOffset.top < s.scrollSensitivity && (i.scrollParent[0].scrollTop = n = i.scrollParent[0].scrollTop - s.scrollSpeed)
            ), s.axis && "y" === s.axis || (i.overflowOffset.left + i.scrollParent[0].offsetWidth - e.pageX < s.scrollSensitivity ? i.scrollParent[
                    0].scrollLeft = n = i.scrollParent[0].scrollLeft + s.scrollSpeed : e.pageX - i.overflowOffset.left < s.scrollSensitivity &&
                (i.scrollParent[0].scrollLeft = n = i.scrollParent[0].scrollLeft - s.scrollSpeed))) : (s.axis && "x" === s.axis || (e.pageY - t(
                    document)
                .scrollTop() < s.scrollSensitivity ? n = t(document)
                .scrollTop(t(document)
                    .scrollTop() - s.scrollSpeed) : t(window)
                .height() - (e.pageY - t(document)
                    .scrollTop()) < s.scrollSensitivity && (n = t(document)
                    .scrollTop(t(document)
                        .scrollTop() + s.scrollSpeed))), s.axis && "y" === s.axis || (e.pageX - t(document)
                .scrollLeft() < s.scrollSensitivity ? n = t(document)
                .scrollLeft(t(document)
                    .scrollLeft() - s.scrollSpeed) : t(window)
                .width() - (e.pageX - t(document)
                    .scrollLeft()) < s.scrollSensitivity && (n = t(document)
                    .scrollLeft(t(document)
                        .scrollLeft() + s.scrollSpeed)))), n !== !1 && t.ui.ddmanager && !s.dropBehaviour && t.ui.ddmanager.prepareOffsets(i, e)
        }
    }), t.ui.plugin.add("draggable", "snap", {
        start: function () {
            var e = t(this)
                .data("ui-draggable"),
                i = e.options;
            e.snapElements = [], t(i.snap.constructor !== String ? i.snap.items || ":data(ui-draggable)" : i.snap)
                .each(function () {
                    var i = t(this),
                        s = i.offset();
                    this !== e.element[0] && e.snapElements.push({
                        item: this,
                        width: i.outerWidth(),
                        height: i.outerHeight(),
                        top: s.top,
                        left: s.left
                    })
                })
        },
        drag: function (e, i) {
            var s, n, o, a, r, h, l, c, u, d, p = t(this)
                .data("ui-draggable"),
                f = p.options,
                g = f.snapTolerance,
                m = i.offset.left,
                v = m + p.helperProportions.width,
                _ = i.offset.top,
                b = _ + p.helperProportions.height;
            for (u = p.snapElements.length - 1; u >= 0; u--) r = p.snapElements[u].left, h = r + p.snapElements[u].width, l = p.snapElements[u].top,
                c = l + p.snapElements[u].height, r - g > v || m > h + g || l - g > b || _ > c + g || !t.contains(p.snapElements[u].item.ownerDocument,
                    p.snapElements[u].item) ? (p.snapElements[u].snapping && p.options.snap.release && p.options.snap.release.call(p.element, e, t.extend(
                    p._uiHash(), {
                        snapItem: p.snapElements[u].item
                    })), p.snapElements[u].snapping = !1) : ("inner" !== f.snapMode && (s = g >= Math.abs(l - b), n = g >= Math.abs(c - _), o = g >=
                        Math.abs(r - v), a = g >= Math.abs(h - m), s && (i.position.top = p._convertPositionTo("relative", {
                                top: l - p.helperProportions.height,
                                left: 0
                            })
                            .top - p.margins.top), n && (i.position.top = p._convertPositionTo("relative", {
                                top: c,
                                left: 0
                            })
                            .top - p.margins.top), o && (i.position.left = p._convertPositionTo("relative", {
                                top: 0,
                                left: r - p.helperProportions.width
                            })
                            .left - p.margins.left), a && (i.position.left = p._convertPositionTo("relative", {
                                top: 0,
                                left: h
                            })
                            .left - p.margins.left)), d = s || n || o || a, "outer" !== f.snapMode && (s = g >= Math.abs(l - _), n = g >= Math.abs(
                        c - b), o = g >= Math.abs(r - m), a = g >= Math.abs(h - v), s && (i.position.top = p._convertPositionTo("relative", {
                            top: l,
                            left: 0
                        })
                        .top - p.margins.top), n && (i.position.top = p._convertPositionTo("relative", {
                            top: c - p.helperProportions.height,
                            left: 0
                        })
                        .top - p.margins.top), o && (i.position.left = p._convertPositionTo("relative", {
                            top: 0,
                            left: r
                        })
                        .left - p.margins.left), a && (i.position.left = p._convertPositionTo("relative", {
                            top: 0,
                            left: h - p.helperProportions.width
                        })
                        .left - p.margins.left)), !p.snapElements[u].snapping && (s || n || o || a || d) && p.options.snap.snap && p.options.snap.snap
                    .call(p.element, e, t.extend(p._uiHash(), {
                        snapItem: p.snapElements[u].item
                    })), p.snapElements[u].snapping = s || n || o || a || d)
        }
    }), t.ui.plugin.add("draggable", "stack", {
        start: function () {
            var e, i = this.data("ui-draggable")
                .options,
                s = t.makeArray(t(i.stack))
                .sort(function (e, i) {
                    return (parseInt(t(e)
                        .css("zIndex"), 10) || 0) - (parseInt(t(i)
                        .css("zIndex"), 10) || 0)
                });
            s.length && (e = parseInt(t(s[0])
                    .css("zIndex"), 10) || 0, t(s)
                .each(function (i) {
                    t(this)
                        .css("zIndex", e + i)
                }), this.css("zIndex", e + s.length))
        }
    }), t.ui.plugin.add("draggable", "zIndex", {
        start: function (e, i) {
            var s = t(i.helper),
                n = t(this)
                .data("ui-draggable")
                .options;
            s.css("zIndex") && (n._zIndex = s.css("zIndex")), s.css("zIndex", n.zIndex)
        },
        stop: function (e, i) {
            var s = t(this)
                .data("ui-draggable")
                .options;
            s._zIndex && t(i.helper)
                .css("zIndex", s._zIndex)
        }
    })
}(jQuery),
function (t) {
    function e(t, e, i) {
        return t > e && e + i > t
    }
    t.widget("ui.droppable", {
        version: "1.10.3",
        widgetEventPrefix: "drop",
        options: {
            accept: "*",
            activeClass: !1,
            addClasses: !0,
            greedy: !1,
            hoverClass: !1,
            scope: "default",
            tolerance: "intersect",
            activate: null,
            deactivate: null,
            drop: null,
            out: null,
            over: null
        },
        _create: function () {
            var e = this.options,
                i = e.accept;
            this.isover = !1, this.isout = !0, this.accept = t.isFunction(i) ? i : function (t) {
                    return t.is(i)
                }, this.proportions = {
                    width: this.element[0].offsetWidth,
                    height: this.element[0].offsetHeight
                }, t.ui.ddmanager.droppables[e.scope] = t.ui.ddmanager.droppables[e.scope] || [], t.ui.ddmanager.droppables[e.scope].push(this), e.addClasses &&
                this.element.addClass("ui-droppable")
        },
        _destroy: function () {
            for (var e = 0, i = t.ui.ddmanager.droppables[this.options.scope]; i.length > e; e++) i[e] === this && i.splice(e, 1);
            this.element.removeClass("ui-droppable ui-droppable-disabled")
        },
        _setOption: function (e, i) {
            "accept" === e && (this.accept = t.isFunction(i) ? i : function (t) {
                return t.is(i)
            }), t.Widget.prototype._setOption.apply(this, arguments)
        },
        _activate: function (e) {
            var i = t.ui.ddmanager.current;
            this.options.activeClass && this.element.addClass(this.options.activeClass), i && this._trigger("activate", e, this.ui(i))
        },
        _deactivate: function (e) {
            var i = t.ui.ddmanager.current;
            this.options.activeClass && this.element.removeClass(this.options.activeClass), i && this._trigger("deactivate", e, this.ui(i))
        },
        _over: function (e) {
            var i = t.ui.ddmanager.current;
            i && (i.currentItem || i.element)[0] !== this.element[0] && this.accept.call(this.element[0], i.currentItem || i.element) && (this.options
                .hoverClass && this.element.addClass(this.options.hoverClass), this._trigger("over", e, this.ui(i)))
        },
        _out: function (e) {
            var i = t.ui.ddmanager.current;
            i && (i.currentItem || i.element)[0] !== this.element[0] && this.accept.call(this.element[0], i.currentItem || i.element) && (this.options
                .hoverClass && this.element.removeClass(this.options.hoverClass), this._trigger("out", e, this.ui(i)))
        },
        _drop: function (e, i) {
            var s = i || t.ui.ddmanager.current,
                n = !1;
            return s && (s.currentItem || s.element)[0] !== this.element[0] ? (this.element.find(":data(ui-droppable)")
                .not(".ui-draggable-dragging")
                .each(function () {
                    var e = t.data(this, "ui-droppable");
                    return e.options.greedy && !e.options.disabled && e.options.scope === s.options.scope && e.accept.call(e.element[0], s.currentItem ||
                        s.element) && t.ui.intersect(s, t.extend(e, {
                        offset: e.element.offset()
                    }), e.options.tolerance) ? (n = !0, !1) : undefined
                }), n ? !1 : this.accept.call(this.element[0], s.currentItem || s.element) ? (this.options.activeClass && this.element.removeClass(
                    this.options.activeClass), this.options.hoverClass && this.element.removeClass(this.options.hoverClass), this._trigger(
                    "drop", e, this.ui(s)), this.element) : !1) : !1
        },
        ui: function (t) {
            return {
                draggable: t.currentItem || t.element,
                helper: t.helper,
                position: t.position,
                offset: t.positionAbs
            }
        }
    }), t.ui.intersect = function (t, i, s) {
        if (!i.offset) return !1;
        var n, o, a = (t.positionAbs || t.position.absolute)
            .left,
            r = a + t.helperProportions.width,
            h = (t.positionAbs || t.position.absolute)
            .top,
            l = h + t.helperProportions.height,
            c = i.offset.left,
            u = c + i.proportions.width,
            d = i.offset.top,
            p = d + i.proportions.height;
        switch (s) {
        case "fit":
            return a >= c && u >= r && h >= d && p >= l;
        case "intersect":
            return a + t.helperProportions.width / 2 > c && u > r - t.helperProportions.width / 2 && h + t.helperProportions.height / 2 > d && p > l - t.helperProportions
                .height / 2;
        case "pointer":
            return n = (t.positionAbs || t.position.absolute)
                .left + (t.clickOffset || t.offset.click)
                .left, o = (t.positionAbs || t.position.absolute)
                .top + (t.clickOffset || t.offset.click)
                .top, e(o, d, i.proportions.height) && e(n, c, i.proportions.width);
        case "touch":
            return (h >= d && p >= h || l >= d && p >= l || d > h && l > p) && (a >= c && u >= a || r >= c && u >= r || c > a && r > u);
        default:
            return !1
        }
    }, t.ui.ddmanager = {
        current: null,
        droppables: {
            "default": []
        },
        prepareOffsets: function (e, i) {
            var s, n, o = t.ui.ddmanager.droppables[e.options.scope] || [],
                a = i ? i.type : null,
                r = (e.currentItem || e.element)
                .find(":data(ui-droppable)")
                .addBack();
            t: for (s = 0; o.length > s; s++)
                if (!(o[s].options.disabled || e && !o[s].accept.call(o[s].element[0], e.currentItem || e.element))) {
                    for (n = 0; r.length > n; n++)
                        if (r[n] === o[s].element[0]) {
                            o[s].proportions.height = 0;
                            continue t
                        }
                    o[s].visible = "none" !== o[s].element.css("display"), o[s].visible && ("mousedown" === a && o[s]._activate.call(o[s], i), o[s]
                        .offset = o[s].element.offset(), o[s].proportions = {
                            width: o[s].element[0].offsetWidth,
                            height: o[s].element[0].offsetHeight
                        })
                }
        },
        drop: function (e, i) {
            var s = !1;
            return t.each((t.ui.ddmanager.droppables[e.options.scope] || [])
                .slice(),
                function () {
                    this.options && (!this.options.disabled && this.visible && t.ui.intersect(e, this, this.options.tolerance) && (s = this._drop.call(
                            this, i) || s), !this.options.disabled && this.visible && this.accept.call(this.element[0], e.currentItem || e.element) &&
                        (this.isout = !0, this.isover = !1, this._deactivate.call(this, i)))
                }), s
        },
        dragStart: function (e, i) {
            e.element.parentsUntil("body")
                .bind("scroll.droppable", function () {
                    e.options.refreshPositions || t.ui.ddmanager.prepareOffsets(e, i)
                })
        },
        drag: function (e, i) {
            e.options.refreshPositions && t.ui.ddmanager.prepareOffsets(e, i), t.each(t.ui.ddmanager.droppables[e.options.scope] || [], function () {
                if (!this.options.disabled && !this.greedyChild && this.visible) {
                    var s, n, o, a = t.ui.intersect(e, this, this.options.tolerance),
                        r = !a && this.isover ? "isout" : a && !this.isover ? "isover" : null;
                    r && (this.options.greedy && (n = this.options.scope, o = this.element.parents(":data(ui-droppable)")
                        .filter(function () {
                            return t.data(this, "ui-droppable")
                                .options.scope === n
                        }), o.length && (s = t.data(o[0], "ui-droppable"), s.greedyChild = "isover" === r)), s && "isover" === r && (s.isover = !
                        1, s.isout = !0, s._out.call(s, i)), this[r] = !0, this["isout" === r ? "isover" : "isout"] = !1, this["isover" ===
                        r ? "_over" : "_out"].call(this, i), s && "isout" === r && (s.isout = !1, s.isover = !0, s._over.call(s, i)))
                }
            })
        },
        dragStop: function (e, i) {
            e.element.parentsUntil("body")
                .unbind("scroll.droppable"), e.options.refreshPositions || t.ui.ddmanager.prepareOffsets(e, i)
        }
    }
}(jQuery),
function (t) {
    function e(t) {
        return parseInt(t, 10) || 0
    }

    function i(t) {
        return !isNaN(parseInt(t, 10))
    }
    t.widget("ui.resizable", t.ui.mouse, {
        version: "1.10.3",
        widgetEventPrefix: "resize",
        options: {
            alsoResize: !1,
            animate: !1,
            animateDuration: "slow",
            animateEasing: "swing",
            aspectRatio: !1,
            autoHide: !1,
            containment: !1,
            ghost: !1,
            grid: !1,
            handles: "e,s,se",
            helper: !1,
            maxHeight: null,
            maxWidth: null,
            minHeight: 10,
            minWidth: 10,
            zIndex: 90,
            resize: null,
            start: null,
            stop: null
        },
        _create: function () {
            var e, i, s, n, o, a = this,
                r = this.options;
            if (this.element.addClass("ui-resizable"), t.extend(this, {
                    _aspectRatio: !!r.aspectRatio,
                    aspectRatio: r.aspectRatio,
                    originalElement: this.element,
                    _proportionallyResizeElements: [],
                    _helper: r.helper || r.ghost || r.animate ? r.helper || "ui-resizable-helper" : null
                }), this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i) && (this.element.wrap(t(
                            "<div class='ui-wrapper' style='overflow: hidden;'></div>")
                        .css({
                            position: this.element.css("position"),
                            width: this.element.outerWidth(),
                            height: this.element.outerHeight(),
                            top: this.element.css("top"),
                            left: this.element.css("left")
                        })), this.element = this.element.parent()
                    .data("ui-resizable", this.element.data("ui-resizable")), this.elementIsWrapper = !0, this.element.css({
                        marginLeft: this.originalElement.css("marginLeft"),
                        marginTop: this.originalElement.css("marginTop"),
                        marginRight: this.originalElement.css("marginRight"),
                        marginBottom: this.originalElement.css("marginBottom")
                    }), this.originalElement.css({
                        marginLeft: 0,
                        marginTop: 0,
                        marginRight: 0,
                        marginBottom: 0
                    }), this.originalResizeStyle = this.originalElement.css("resize"), this.originalElement.css("resize", "none"), this._proportionallyResizeElements
                    .push(this.originalElement.css({
                        position: "static",
                        zoom: 1,
                        display: "block"
                    })), this.originalElement.css({
                        margin: this.originalElement.css("margin")
                    }), this._proportionallyResize()), this.handles = r.handles || (t(".ui-resizable-handle", this.element)
                    .length ? {
                        n: ".ui-resizable-n",
                        e: ".ui-resizable-e",
                        s: ".ui-resizable-s",
                        w: ".ui-resizable-w",
                        se: ".ui-resizable-se",
                        sw: ".ui-resizable-sw",
                        ne: ".ui-resizable-ne",
                        nw: ".ui-resizable-nw"
                    } : "e,s,se"), this.handles.constructor === String)
                for ("all" === this.handles && (this.handles = "n,e,s,w,se,sw,ne,nw"), e = this.handles.split(","), this.handles = {}, i = 0; e.length >
                    i; i++) s = t.trim(e[i]), o = "ui-resizable-" + s, n = t("<div class='ui-resizable-handle " + o + "'></div>"), n.css({
                    zIndex: r.zIndex
                }), "se" === s && n.addClass("ui-icon ui-icon-gripsmall-diagonal-se"), this.handles[s] = ".ui-resizable-" + s, this.element.append(
                    n);
            this._renderAxis = function (e) {
                    var i, s, n, o;
                    e = e || this.element;
                    for (i in this.handles) this.handles[i].constructor === String && (this.handles[i] = t(this.handles[i], this.element)
                            .show()), this.elementIsWrapper && this.originalElement[0].nodeName.match(/textarea|input|select|button/i) && (s = t(
                                this.handles[i], this.element), o = /sw|ne|nw|se|n|s/.test(i) ? s.outerHeight() : s.outerWidth(), n = ["padding",
                                /ne|nw|n/.test(i) ? "Top" : /se|sw|s/.test(i) ? "Bottom" : /^e$/.test(i) ? "Right" : "Left"].join(""), e.css(n, o),
                            this._proportionallyResize()), t(this.handles[i])
                        .length
                }, this._renderAxis(this.element), this._handles = t(".ui-resizable-handle", this.element)
                .disableSelection(), this._handles.mouseover(function () {
                    a.resizing || (this.className && (n = this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)), a.axis = n && n[1] ? n[
                        1] : "se")
                }), r.autoHide && (this._handles.hide(), t(this.element)
                    .addClass("ui-resizable-autohide")
                    .mouseenter(function () {
                        r.disabled || (t(this)
                            .removeClass("ui-resizable-autohide"), a._handles.show())
                    })
                    .mouseleave(function () {
                        r.disabled || a.resizing || (t(this)
                            .addClass("ui-resizable-autohide"), a._handles.hide())
                    })), this._mouseInit()
        },
        _destroy: function () {
            this._mouseDestroy();
            var e, i = function (e) {
                t(e)
                    .removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing")
                    .removeData("resizable")
                    .removeData("ui-resizable")
                    .unbind(".resizable")
                    .find(".ui-resizable-handle")
                    .remove()
            };
            return this.elementIsWrapper && (i(this.element), e = this.element, this.originalElement.css({
                    position: e.css("position"),
                    width: e.outerWidth(),
                    height: e.outerHeight(),
                    top: e.css("top"),
                    left: e.css("left")
                })
                .insertAfter(e), e.remove()), this.originalElement.css("resize", this.originalResizeStyle), i(this.originalElement), this
        },
        _mouseCapture: function (e) {
            var i, s, n = !1;
            for (i in this.handles) s = t(this.handles[i])[0], (s === e.target || t.contains(s, e.target)) && (n = !0);
            return !this.options.disabled && n
        },
        _mouseStart: function (i) {
            var s, n, o, a = this.options,
                r = this.element.position(),
                h = this.element;
            return this.resizing = !0, /absolute/.test(h.css("position")) ? h.css({
                    position: "absolute",
                    top: h.css("top"),
                    left: h.css("left")
                }) : h.is(".ui-draggable") && h.css({
                    position: "absolute",
                    top: r.top,
                    left: r.left
                }), this._renderProxy(), s = e(this.helper.css("left")), n = e(this.helper.css("top")), a.containment && (s += t(a.containment)
                    .scrollLeft() || 0, n += t(a.containment)
                    .scrollTop() || 0), this.offset = this.helper.offset(), this.position = {
                    left: s,
                    top: n
                }, this.size = this._helper ? {
                    width: h.outerWidth(),
                    height: h.outerHeight()
                } : {
                    width: h.width(),
                    height: h.height()
                }, this.originalSize = this._helper ? {
                    width: h.outerWidth(),
                    height: h.outerHeight()
                } : {
                    width: h.width(),
                    height: h.height()
                }, this.originalPosition = {
                    left: s,
                    top: n
                }, this.sizeDiff = {
                    width: h.outerWidth() - h.width(),
                    height: h.outerHeight() - h.height()
                }, this.originalMousePosition = {
                    left: i.pageX,
                    top: i.pageY
                }, this.aspectRatio = "number" == typeof a.aspectRatio ? a.aspectRatio : this.originalSize.width / this.originalSize.height || 1, o =
                t(".ui-resizable-" + this.axis)
                .css("cursor"), t("body")
                .css("cursor", "auto" === o ? this.axis + "-resize" : o), h.addClass("ui-resizable-resizing"), this._propagate("start", i), !0
        },
        _mouseDrag: function (e) {
            var i, s = this.helper,
                n = {},
                o = this.originalMousePosition,
                a = this.axis,
                r = this.position.top,
                h = this.position.left,
                l = this.size.width,
                c = this.size.height,
                u = e.pageX - o.left || 0,
                d = e.pageY - o.top || 0,
                p = this._change[a];
            return p ? (i = p.apply(this, [e, u, d]), this._updateVirtualBoundaries(e.shiftKey), (this._aspectRatio || e.shiftKey) && (i = this._updateRatio(
                    i, e)), i = this._respectSize(i, e), this._updateCache(i), this._propagate("resize", e), this.position.top !== r && (n.top =
                    this.position.top + "px"), this.position.left !== h && (n.left = this.position.left + "px"), this.size.width !== l && (n.width =
                    this.size.width + "px"), this.size.height !== c && (n.height = this.size.height + "px"), s.css(n), !this._helper && this._proportionallyResizeElements
                .length && this._proportionallyResize(), t.isEmptyObject(n) || this._trigger("resize", e, this.ui()), !1) : !1
        },
        _mouseStop: function (e) {
            this.resizing = !1;
            var i, s, n, o, a, r, h, l = this.options,
                c = this;
            return this._helper && (i = this._proportionallyResizeElements, s = i.length && /textarea/i.test(i[0].nodeName), n = s && t.ui.hasScroll(
                    i[0], "left") ? 0 : c.sizeDiff.height, o = s ? 0 : c.sizeDiff.width, a = {
                    width: c.helper.width() - o,
                    height: c.helper.height() - n
                }, r = parseInt(c.element.css("left"), 10) + (c.position.left - c.originalPosition.left) || null, h = parseInt(c.element.css(
                    "top"), 10) + (c.position.top - c.originalPosition.top) || null, l.animate || this.element.css(t.extend(a, {
                    top: h,
                    left: r
                })), c.helper.height(c.size.height), c.helper.width(c.size.width), this._helper && !l.animate && this._proportionallyResize()), t(
                    "body")
                .css("cursor", "auto"), this.element.removeClass("ui-resizable-resizing"), this._propagate("stop", e), this._helper && this.helper.remove(), !
                1
        },
        _updateVirtualBoundaries: function (t) {
            var e, s, n, o, a, r = this.options;
            a = {
                minWidth: i(r.minWidth) ? r.minWidth : 0,
                maxWidth: i(r.maxWidth) ? r.maxWidth : 1 / 0,
                minHeight: i(r.minHeight) ? r.minHeight : 0,
                maxHeight: i(r.maxHeight) ? r.maxHeight : 1 / 0
            }, (this._aspectRatio || t) && (e = a.minHeight * this.aspectRatio, n = a.minWidth / this.aspectRatio, s = a.maxHeight * this.aspectRatio,
                o = a.maxWidth / this.aspectRatio, e > a.minWidth && (a.minWidth = e), n > a.minHeight && (a.minHeight = n), a.maxWidth > s &&
                (a.maxWidth = s), a.maxHeight > o && (a.maxHeight = o)), this._vBoundaries = a
        },
        _updateCache: function (t) {
            this.offset = this.helper.offset(), i(t.left) && (this.position.left = t.left), i(t.top) && (this.position.top = t.top), i(t.height) &&
                (this.size.height = t.height), i(t.width) && (this.size.width = t.width)
        },
        _updateRatio: function (t) {
            var e = this.position,
                s = this.size,
                n = this.axis;
            return i(t.height) ? t.width = t.height * this.aspectRatio : i(t.width) && (t.height = t.width / this.aspectRatio), "sw" === n && (t.left =
                e.left + (s.width - t.width), t.top = null), "nw" === n && (t.top = e.top + (s.height - t.height), t.left = e.left + (s.width -
                t.width)), t
        },
        _respectSize: function (t) {
            var e = this._vBoundaries,
                s = this.axis,
                n = i(t.width) && e.maxWidth && e.maxWidth < t.width,
                o = i(t.height) && e.maxHeight && e.maxHeight < t.height,
                a = i(t.width) && e.minWidth && e.minWidth > t.width,
                r = i(t.height) && e.minHeight && e.minHeight > t.height,
                h = this.originalPosition.left + this.originalSize.width,
                l = this.position.top + this.size.height,
                c = /sw|nw|w/.test(s),
                u = /nw|ne|n/.test(s);
            return a && (t.width = e.minWidth), r && (t.height = e.minHeight), n && (t.width = e.maxWidth), o && (t.height = e.maxHeight), a && c &&
                (t.left = h - e.minWidth), n && c && (t.left = h - e.maxWidth), r && u && (t.top = l - e.minHeight), o && u && (t.top = l - e.maxHeight),
                t.width || t.height || t.left || !t.top ? t.width || t.height || t.top || !t.left || (t.left = null) : t.top = null, t
        },
        _proportionallyResize: function () {
            if (this._proportionallyResizeElements.length) {
                var t, e, i, s, n, o = this.helper || this.element;
                for (t = 0; this._proportionallyResizeElements.length > t; t++) {
                    if (n = this._proportionallyResizeElements[t], !this.borderDif)
                        for (this.borderDif = [], i = [n.css("borderTopWidth"), n.css("borderRightWidth"), n.css("borderBottomWidth"), n.css(
                                "borderLeftWidth")], s = [n.css("paddingTop"), n.css("paddingRight"), n.css("paddingBottom"), n.css("paddingLeft")],
                            e = 0; i.length > e; e++) this.borderDif[e] = (parseInt(i[e], 10) || 0) + (parseInt(s[e], 10) || 0);
                    n.css({
                        height: o.height() - this.borderDif[0] - this.borderDif[2] || 0,
                        width: o.width() - this.borderDif[1] - this.borderDif[3] || 0
                    })
                }
            }
        },
        _renderProxy: function () {
            var e = this.element,
                i = this.options;
            this.elementOffset = e.offset(), this._helper ? (this.helper = this.helper || t("<div style='overflow:hidden;'></div>"), this.helper.addClass(
                    this._helper)
                .css({
                    width: this.element.outerWidth() - 1,
                    height: this.element.outerHeight() - 1,
                    position: "absolute",
                    left: this.elementOffset.left + "px",
                    top: this.elementOffset.top + "px",
                    zIndex: ++i.zIndex
                }), this.helper.appendTo("body")
                .disableSelection()) : this.helper = this.element
        },
        _change: {
            e: function (t, e) {
                return {
                    width: this.originalSize.width + e
                }
            },
            w: function (t, e) {
                var i = this.originalSize,
                    s = this.originalPosition;
                return {
                    left: s.left + e,
                    width: i.width - e
                }
            },
            n: function (t, e, i) {
                var s = this.originalSize,
                    n = this.originalPosition;
                return {
                    top: n.top + i,
                    height: s.height - i
                }
            },
            s: function (t, e, i) {
                return {
                    height: this.originalSize.height + i
                }
            },
            se: function (e, i, s) {
                return t.extend(this._change.s.apply(this, arguments), this._change.e.apply(this, [e, i, s]))
            },
            sw: function (e, i, s) {
                return t.extend(this._change.s.apply(this, arguments), this._change.w.apply(this, [e, i, s]))
            },
            ne: function (e, i, s) {
                return t.extend(this._change.n.apply(this, arguments), this._change.e.apply(this, [e, i, s]))
            },
            nw: function (e, i, s) {
                return t.extend(this._change.n.apply(this, arguments), this._change.w.apply(this, [e, i, s]))
            }
        },
        _propagate: function (e, i) {
            t.ui.plugin.call(this, e, [i, this.ui()]), "resize" !== e && this._trigger(e, i, this.ui())
        },
        plugins: {},
        ui: function () {
            return {
                originalElement: this.originalElement,
                element: this.element,
                helper: this.helper,
                position: this.position,
                size: this.size,
                originalSize: this.originalSize,
                originalPosition: this.originalPosition
            }
        }
    }), t.ui.plugin.add("resizable", "animate", {
        stop: function (e) {
            var i = t(this)
                .data("ui-resizable"),
                s = i.options,
                n = i._proportionallyResizeElements,
                o = n.length && /textarea/i.test(n[0].nodeName),
                a = o && t.ui.hasScroll(n[0], "left") ? 0 : i.sizeDiff.height,
                r = o ? 0 : i.sizeDiff.width,
                h = {
                    width: i.size.width - r,
                    height: i.size.height - a
                },
                l = parseInt(i.element.css("left"), 10) + (i.position.left - i.originalPosition.left) || null,
                c = parseInt(i.element.css("top"), 10) + (i.position.top - i.originalPosition.top) || null;
            i.element.animate(t.extend(h, c && l ? {
                top: c,
                left: l
            } : {}), {
                duration: s.animateDuration,
                easing: s.animateEasing,
                step: function () {
                    var s = {
                        width: parseInt(i.element.css("width"), 10),
                        height: parseInt(i.element.css("height"), 10),
                        top: parseInt(i.element.css("top"), 10),
                        left: parseInt(i.element.css("left"), 10)
                    };
                    n && n.length && t(n[0])
                        .css({
                            width: s.width,
                            height: s.height
                        }), i._updateCache(s), i._propagate("resize", e)
                }
            })
        }
    }), t.ui.plugin.add("resizable", "containment", {
        start: function () {
            var i, s, n, o, a, r, h, l = t(this)
                .data("ui-resizable"),
                c = l.options,
                u = l.element,
                d = c.containment,
                p = d instanceof t ? d.get(0) : /parent/.test(d) ? u.parent()
                .get(0) : d;
            p && (l.containerElement = t(p), /document/.test(d) || d === document ? (l.containerOffset = {
                left: 0,
                top: 0
            }, l.containerPosition = {
                left: 0,
                top: 0
            }, l.parentData = {
                element: t(document),
                left: 0,
                top: 0,
                width: t(document)
                    .width(),
                height: t(document)
                    .height() || document.body.parentNode.scrollHeight
            }) : (i = t(p), s = [], t(["Top", "Right", "Left", "Bottom"])
                .each(function (t, n) {
                    s[t] = e(i.css("padding" + n))
                }), l.containerOffset = i.offset(), l.containerPosition = i.position(), l.containerSize = {
                    height: i.innerHeight() - s[3],
                    width: i.innerWidth() - s[1]
                }, n = l.containerOffset, o = l.containerSize.height, a = l.containerSize.width, r = t.ui.hasScroll(p, "left") ? p.scrollWidth :
                a, h = t.ui.hasScroll(p) ? p.scrollHeight : o, l.parentData = {
                    element: p,
                    left: n.left,
                    top: n.top,
                    width: r,
                    height: h
                }))
        },
        resize: function (e) {
            var i, s, n, o, a = t(this)
                .data("ui-resizable"),
                r = a.options,
                h = a.containerOffset,
                l = a.position,
                c = a._aspectRatio || e.shiftKey,
                u = {
                    top: 0,
                    left: 0
                },
                d = a.containerElement;
            d[0] !== document && /static/.test(d.css("position")) && (u = h), l.left < (a._helper ? h.left : 0) && (a.size.width = a.size.width + (
                        a._helper ? a.position.left - h.left : a.position.left - u.left), c && (a.size.height = a.size.width / a.aspectRatio), a.position
                    .left = r.helper ? h.left : 0), l.top < (a._helper ? h.top : 0) && (a.size.height = a.size.height + (a._helper ? a.position.top -
                    h.top : a.position.top), c && (a.size.width = a.size.height * a.aspectRatio), a.position.top = a._helper ? h.top : 0), a.offset
                .left = a.parentData.left + a.position.left, a.offset.top = a.parentData.top + a.position.top, i = Math.abs((a._helper ? a.offset.left -
                    u.left : a.offset.left - u.left) + a.sizeDiff.width), s = Math.abs((a._helper ? a.offset.top - u.top : a.offset.top - h.top) +
                    a.sizeDiff.height), n = a.containerElement.get(0) === a.element.parent()
                .get(0), o = /relative|absolute/.test(a.containerElement.css("position")), n && o && (i -= a.parentData.left), i + a.size.width >=
                a.parentData.width && (a.size.width = a.parentData.width - i, c && (a.size.height = a.size.width / a.aspectRatio)), s + a.size.height >=
                a.parentData.height && (a.size.height = a.parentData.height - s, c && (a.size.width = a.size.height * a.aspectRatio))
        },
        stop: function () {
            var e = t(this)
                .data("ui-resizable"),
                i = e.options,
                s = e.containerOffset,
                n = e.containerPosition,
                o = e.containerElement,
                a = t(e.helper),
                r = a.offset(),
                h = a.outerWidth() - e.sizeDiff.width,
                l = a.outerHeight() - e.sizeDiff.height;
            e._helper && !i.animate && /relative/.test(o.css("position")) && t(this)
                .css({
                    left: r.left - n.left - s.left,
                    width: h,
                    height: l
                }), e._helper && !i.animate && /static/.test(o.css("position")) && t(this)
                .css({
                    left: r.left - n.left - s.left,
                    width: h,
                    height: l
                })
        }
    }), t.ui.plugin.add("resizable", "alsoResize", {
        start: function () {
            var e = t(this)
                .data("ui-resizable"),
                i = e.options,
                s = function (e) {
                    t(e)
                        .each(function () {
                            var e = t(this);
                            e.data("ui-resizable-alsoresize", {
                                width: parseInt(e.width(), 10),
                                height: parseInt(e.height(), 10),
                                left: parseInt(e.css("left"), 10),
                                top: parseInt(e.css("top"), 10)
                            })
                        })
                };
            "object" != typeof i.alsoResize || i.alsoResize.parentNode ? s(i.alsoResize) : i.alsoResize.length ? (i.alsoResize = i.alsoResize[0], s(
                i.alsoResize)) : t.each(i.alsoResize, function (t) {
                s(t)
            })
        },
        resize: function (e, i) {
            var s = t(this)
                .data("ui-resizable"),
                n = s.options,
                o = s.originalSize,
                a = s.originalPosition,
                r = {
                    height: s.size.height - o.height || 0,
                    width: s.size.width - o.width || 0,
                    top: s.position.top - a.top || 0,
                    left: s.position.left - a.left || 0
                },
                h = function (e, s) {
                    t(e)
                        .each(function () {
                            var e = t(this),
                                n = t(this)
                                .data("ui-resizable-alsoresize"),
                                o = {},
                                a = s && s.length ? s : e.parents(i.originalElement[0])
                                .length ? ["width", "height"] : ["width", "height", "top", "left"];
                            t.each(a, function (t, e) {
                                var i = (n[e] || 0) + (r[e] || 0);
                                i && i >= 0 && (o[e] = i || null)
                            }), e.css(o)
                        })
                };
            "object" != typeof n.alsoResize || n.alsoResize.nodeType ? h(n.alsoResize) : t.each(n.alsoResize, function (t, e) {
                h(t, e)
            })
        },
        stop: function () {
            t(this)
                .removeData("resizable-alsoresize")
        }
    }), t.ui.plugin.add("resizable", "ghost", {
        start: function () {
            var e = t(this)
                .data("ui-resizable"),
                i = e.options,
                s = e.size;
            e.ghost = e.originalElement.clone(), e.ghost.css({
                    opacity: .25,
                    display: "block",
                    position: "relative",
                    height: s.height,
                    width: s.width,
                    margin: 0,
                    left: 0,
                    top: 0
                })
                .addClass("ui-resizable-ghost")
                .addClass("string" == typeof i.ghost ? i.ghost : ""), e.ghost.appendTo(e.helper)
        },
        resize: function () {
            var e = t(this)
                .data("ui-resizable");
            e.ghost && e.ghost.css({
                position: "relative",
                height: e.size.height,
                width: e.size.width
            })
        },
        stop: function () {
            var e = t(this)
                .data("ui-resizable");
            e.ghost && e.helper && e.helper.get(0)
                .removeChild(e.ghost.get(0))
        }
    }), t.ui.plugin.add("resizable", "grid", {
        resize: function () {
            var e = t(this)
                .data("ui-resizable"),
                i = e.options,
                s = e.size,
                n = e.originalSize,
                o = e.originalPosition,
                a = e.axis,
                r = "number" == typeof i.grid ? [i.grid, i.grid] : i.grid,
                h = r[0] || 1,
                l = r[1] || 1,
                c = Math.round((s.width - n.width) / h) * h,
                u = Math.round((s.height - n.height) / l) * l,
                d = n.width + c,
                p = n.height + u,
                f = i.maxWidth && d > i.maxWidth,
                g = i.maxHeight && p > i.maxHeight,
                m = i.minWidth && i.minWidth > d,
                v = i.minHeight && i.minHeight > p;
            i.grid = r, m && (d += h), v && (p += l), f && (d -= h), g && (p -= l), /^(se|s|e)$/.test(a) ? (e.size.width = d, e.size.height = p) :
                /^(ne)$/.test(a) ? (e.size.width = d, e.size.height = p, e.position.top = o.top - u) : /^(sw)$/.test(a) ? (e.size.width = d, e.size
                    .height = p, e.position.left = o.left - c) : (e.size.width = d, e.size.height = p, e.position.top = o.top - u, e.position.left =
                    o.left - c)
        }
    })
}(jQuery),
function (t) {
    t.widget("ui.selectable", t.ui.mouse, {
        version: "1.10.3",
        options: {
            appendTo: "body",
            autoRefresh: !0,
            distance: 0,
            filter: "*",
            tolerance: "touch",
            selected: null,
            selecting: null,
            start: null,
            stop: null,
            unselected: null,
            unselecting: null
        },
        _create: function () {
            var e, i = this;
            this.element.addClass("ui-selectable"), this.dragged = !1, this.refresh = function () {
                e = t(i.options.filter, i.element[0]), e.addClass("ui-selectee"), e.each(function () {
                    var e = t(this),
                        i = e.offset();
                    t.data(this, "selectable-item", {
                        element: this,
                        $element: e,
                        left: i.left,
                        top: i.top,
                        right: i.left + e.outerWidth(),
                        bottom: i.top + e.outerHeight(),
                        startselected: !1,
                        selected: e.hasClass("ui-selected"),
                        selecting: e.hasClass("ui-selecting"),
                        unselecting: e.hasClass("ui-unselecting")
                    })
                })
            }, this.refresh(), this.selectees = e.addClass("ui-selectee"), this._mouseInit(), this.helper = t(
                "<div class='ui-selectable-helper'></div>")
        },
        _destroy: function () {
            this.selectees.removeClass("ui-selectee")
                .removeData("selectable-item"), this.element.removeClass("ui-selectable ui-selectable-disabled"), this._mouseDestroy()
        },
        _mouseStart: function (e) {
            var i = this,
                s = this.options;
            this.opos = [e.pageX, e.pageY], this.options.disabled || (this.selectees = t(s.filter, this.element[0]), this._trigger("start", e), t(s
                    .appendTo)
                .append(this.helper), this.helper.css({
                    left: e.pageX,
                    top: e.pageY,
                    width: 0,
                    height: 0
                }), s.autoRefresh && this.refresh(), this.selectees.filter(".ui-selected")
                .each(function () {
                    var s = t.data(this, "selectable-item");
                    s.startselected = !0, e.metaKey || e.ctrlKey || (s.$element.removeClass("ui-selected"), s.selected = !1, s.$element.addClass(
                        "ui-unselecting"), s.unselecting = !0, i._trigger("unselecting", e, {
                        unselecting: s.element
                    }))
                }), t(e.target)
                .parents()
                .addBack()
                .each(function () {
                    var s, n = t.data(this, "selectable-item");
                    return n ? (s = !e.metaKey && !e.ctrlKey || !n.$element.hasClass("ui-selected"), n.$element.removeClass(s ?
                            "ui-unselecting" : "ui-selected")
                        .addClass(s ? "ui-selecting" : "ui-unselecting"), n.unselecting = !s, n.selecting = s, n.selected = s, s ? i._trigger(
                            "selecting", e, {
                                selecting: n.element
                            }) : i._trigger("unselecting", e, {
                            unselecting: n.element
                        }), !1) : undefined
                }))
        },
        _mouseDrag: function (e) {
            if (this.dragged = !0, !this.options.disabled) {
                var i, s = this,
                    n = this.options,
                    o = this.opos[0],
                    a = this.opos[1],
                    r = e.pageX,
                    h = e.pageY;
                return o > r && (i = r, r = o, o = i), a > h && (i = h, h = a, a = i), this.helper.css({
                    left: o,
                    top: a,
                    width: r - o,
                    height: h - a
                }), this.selectees.each(function () {
                    var i = t.data(this, "selectable-item"),
                        l = !1;
                    i && i.element !== s.element[0] && ("touch" === n.tolerance ? l = !(i.left > r || o > i.right || i.top > h || a > i.bottom) :
                        "fit" === n.tolerance && (l = i.left > o && r > i.right && i.top > a && h > i.bottom), l ? (i.selected && (i.$element
                            .removeClass("ui-selected"), i.selected = !1), i.unselecting && (i.$element.removeClass(
                            "ui-unselecting"), i.unselecting = !1), i.selecting || (i.$element.addClass("ui-selecting"), i.selecting = !
                            0, s._trigger("selecting", e, {
                                selecting: i.element
                            }))) : (i.selecting && ((e.metaKey || e.ctrlKey) && i.startselected ? (i.$element.removeClass(
                            "ui-selecting"), i.selecting = !1, i.$element.addClass("ui-selected"), i.selected = !0) : (i.$element
                            .removeClass("ui-selecting"), i.selecting = !1, i.startselected && (i.$element.addClass(
                                "ui-unselecting"), i.unselecting = !0), s._trigger("unselecting", e, {
                                unselecting: i.element
                            }))), i.selected && (e.metaKey || e.ctrlKey || i.startselected || (i.$element.removeClass("ui-selected"),
                            i.selected = !1, i.$element.addClass("ui-unselecting"), i.unselecting = !0, s._trigger(
                                "unselecting", e, {
                                    unselecting: i.element
                                })))))
                }), !1
            }
        },
        _mouseStop: function (e) {
            var i = this;
            return this.dragged = !1, t(".ui-unselecting", this.element[0])
                .each(function () {
                    var s = t.data(this, "selectable-item");
                    s.$element.removeClass("ui-unselecting"), s.unselecting = !1, s.startselected = !1, i._trigger("unselected", e, {
                        unselected: s.element
                    })
                }), t(".ui-selecting", this.element[0])
                .each(function () {
                    var s = t.data(this, "selectable-item");
                    s.$element.removeClass("ui-selecting")
                        .addClass("ui-selected"), s.selecting = !1, s.selected = !0, s.startselected = !0, i._trigger("selected", e, {
                            selected: s.element
                        })
                }), this._trigger("stop", e), this.helper.remove(), !1
        }
    })
}(jQuery),
function (t) {
    function e(t, e, i) {
        return t > e && e + i > t
    }

    function i(t) {
        return /left|right/.test(t.css("float")) || /inline|table-cell/.test(t.css("display"))
    }
    t.widget("ui.sortable", t.ui.mouse, {
        version: "1.10.3",
        widgetEventPrefix: "sort",
        ready: !1,
        options: {
            appendTo: "parent",
            axis: !1,
            connectWith: !1,
            containment: !1,
            cursor: "auto",
            cursorAt: !1,
            dropOnEmpty: !0,
            forcePlaceholderSize: !1,
            forceHelperSize: !1,
            grid: !1,
            handle: !1,
            helper: "original",
            items: "> *",
            opacity: !1,
            placeholder: !1,
            revert: !1,
            scroll: !0,
            scrollSensitivity: 20,
            scrollSpeed: 20,
            scope: "default",
            tolerance: "intersect",
            zIndex: 1e3,
            activate: null,
            beforeStop: null,
            change: null,
            deactivate: null,
            out: null,
            over: null,
            receive: null,
            remove: null,
            sort: null,
            start: null,
            stop: null,
            update: null
        },
        _create: function () {
            var t = this.options;
            this.containerCache = {}, this.element.addClass("ui-sortable"), this.refresh(), this.floating = this.items.length ? "x" === t.axis || i(
                this.items[0].item) : !1, this.offset = this.element.offset(), this._mouseInit(), this.ready = !0
        },
        _destroy: function () {
            this.element.removeClass("ui-sortable ui-sortable-disabled"), this._mouseDestroy();
            for (var t = this.items.length - 1; t >= 0; t--) this.items[t].item.removeData(this.widgetName + "-item");
            return this
        },
        _setOption: function (e, i) {
            "disabled" === e ? (this.options[e] = i, this.widget()
                .toggleClass("ui-sortable-disabled", !!i)) : t.Widget.prototype._setOption.apply(this, arguments)
        },
        _mouseCapture: function (e, i) {
            var s = null,
                n = !1,
                o = this;
            return this.reverting ? !1 : this.options.disabled || "static" === this.options.type ? !1 : (this._refreshItems(e), t(e.target)
                .parents()
                .each(function () {
                    return t.data(this, o.widgetName + "-item") === o ? (s = t(this), !1) : undefined
                }), t.data(e.target, o.widgetName + "-item") === o && (s = t(e.target)), s ? !this.options.handle || i || (t(this.options.handle,
                        s)
                    .find("*")
                    .addBack()
                    .each(function () {
                        this === e.target && (n = !0)
                    }), n) ? (this.currentItem = s, this._removeCurrentsFromItems(), !0) : !1 : !1)
        },
        _mouseStart: function (e, i, s) {
            var n, o, a = this.options;
            if (this.currentContainer = this, this.refreshPositions(), this.helper = this._createHelper(e), this._cacheHelperProportions(), this._cacheMargins(),
                this.scrollParent = this.helper.scrollParent(), this.offset = this.currentItem.offset(), this.offset = {
                    top: this.offset.top - this.margins.top,
                    left: this.offset.left - this.margins.left
                }, t.extend(this.offset, {
                    click: {
                        left: e.pageX - this.offset.left,
                        top: e.pageY - this.offset.top
                    },
                    parent: this._getParentOffset(),
                    relative: this._getRelativeOffset()
                }), this.helper.css("position", "absolute"), this.cssPosition = this.helper.css("position"), this.originalPosition = this._generatePosition(
                    e), this.originalPageX = e.pageX, this.originalPageY = e.pageY, a.cursorAt && this._adjustOffsetFromHelper(a.cursorAt), this.domPosition = {
                    prev: this.currentItem.prev()[0],
                    parent: this.currentItem.parent()[0]
                }, this.helper[0] !== this.currentItem[0] && this.currentItem.hide(), this._createPlaceholder(), a.containment && this._setContainment(),
                a.cursor && "auto" !== a.cursor && (o = this.document.find("body"), this.storedCursor = o.css("cursor"), o.css("cursor", a.cursor),
                    this.storedStylesheet = t("<style>*{ cursor: " + a.cursor + " !important; }</style>")
                    .appendTo(o)), a.opacity && (this.helper.css("opacity") && (this._storedOpacity = this.helper.css("opacity")), this.helper.css(
                    "opacity", a.opacity)), a.zIndex && (this.helper.css("zIndex") && (this._storedZIndex = this.helper.css("zIndex")), this.helper
                    .css("zIndex", a.zIndex)), this.scrollParent[0] !== document && "HTML" !== this.scrollParent[0].tagName && (this.overflowOffset =
                    this.scrollParent.offset()), this._trigger("start", e, this._uiHash()), this._preserveHelperProportions || this._cacheHelperProportions(), !
                s)
                for (n = this.containers.length - 1; n >= 0; n--) this.containers[n]._trigger("activate", e, this._uiHash(this));
            return t.ui.ddmanager && (t.ui.ddmanager.current = this), t.ui.ddmanager && !a.dropBehaviour && t.ui.ddmanager.prepareOffsets(this, e),
                this.dragging = !0, this.helper.addClass("ui-sortable-helper"), this._mouseDrag(e), !0
        },
        _mouseDrag: function (e) {
            var i, s, n, o, a = this.options,
                r = !1;
            for (this.position = this._generatePosition(e), this.positionAbs = this._convertPositionTo("absolute"), this.lastPositionAbs || (this.lastPositionAbs =
                    this.positionAbs), this.options.scroll && (this.scrollParent[0] !== document && "HTML" !== this.scrollParent[0].tagName ? (this
                    .overflowOffset.top + this.scrollParent[0].offsetHeight - e.pageY < a.scrollSensitivity ? this.scrollParent[0].scrollTop =
                    r = this.scrollParent[0].scrollTop + a.scrollSpeed : e.pageY - this.overflowOffset.top < a.scrollSensitivity && (this.scrollParent[
                        0].scrollTop = r = this.scrollParent[0].scrollTop - a.scrollSpeed), this.overflowOffset.left + this.scrollParent[0].offsetWidth -
                    e.pageX < a.scrollSensitivity ? this.scrollParent[0].scrollLeft = r = this.scrollParent[0].scrollLeft + a.scrollSpeed : e.pageX -
                    this.overflowOffset.left < a.scrollSensitivity && (this.scrollParent[0].scrollLeft = r = this.scrollParent[0].scrollLeft -
                        a.scrollSpeed)) : (e.pageY - t(document)
                    .scrollTop() < a.scrollSensitivity ? r = t(document)
                    .scrollTop(t(document)
                        .scrollTop() - a.scrollSpeed) : t(window)
                    .height() - (e.pageY - t(document)
                        .scrollTop()) < a.scrollSensitivity && (r = t(document)
                        .scrollTop(t(document)
                            .scrollTop() + a.scrollSpeed)), e.pageX - t(document)
                    .scrollLeft() < a.scrollSensitivity ? r = t(document)
                    .scrollLeft(t(document)
                        .scrollLeft() - a.scrollSpeed) : t(window)
                    .width() - (e.pageX - t(document)
                        .scrollLeft()) < a.scrollSensitivity && (r = t(document)
                        .scrollLeft(t(document)
                            .scrollLeft() + a.scrollSpeed))), r !== !1 && t.ui.ddmanager && !a.dropBehaviour && t.ui.ddmanager.prepareOffsets(
                    this, e)), this.positionAbs = this._convertPositionTo("absolute"), this.options.axis && "y" === this.options.axis || (this.helper[
                    0].style.left = this.position.left + "px"), this.options.axis && "x" === this.options.axis || (this.helper[0].style.top = this.position
                    .top + "px"), i = this.items.length - 1; i >= 0; i--)
                if (s = this.items[i], n = s.item[0], o = this._intersectsWithPointer(s), o && s.instance === this.currentContainer && n !== this.currentItem[
                        0] && this.placeholder[1 === o ? "next" : "prev"]()[0] !== n && !t.contains(this.placeholder[0], n) && ("semi-dynamic" ===
                        this.options.type ? !t.contains(this.element[0], n) : !0)) {
                    if (this.direction = 1 === o ? "down" : "up", "pointer" !== this.options.tolerance && !this._intersectsWithSides(s)) break;
                    this._rearrange(e, s), this._trigger("change", e, this._uiHash());
                    break
                }
            return this._contactContainers(e), t.ui.ddmanager && t.ui.ddmanager.drag(this, e), this._trigger("sort", e, this._uiHash()), this.lastPositionAbs =
                this.positionAbs, !1
        },
        _mouseStop: function (e, i) {
            if (e) {
                if (t.ui.ddmanager && !this.options.dropBehaviour && t.ui.ddmanager.drop(this, e), this.options.revert) {
                    var s = this,
                        n = this.placeholder.offset(),
                        o = this.options.axis,
                        a = {};
                    o && "x" !== o || (a.left = n.left - this.offset.parent.left - this.margins.left + (this.offsetParent[0] === document.body ? 0 :
                            this.offsetParent[0].scrollLeft)), o && "y" !== o || (a.top = n.top - this.offset.parent.top - this.margins.top + (this
                            .offsetParent[0] === document.body ? 0 : this.offsetParent[0].scrollTop)), this.reverting = !0, t(this.helper)
                        .animate(a, parseInt(this.options.revert, 10) || 500, function () {
                            s._clear(e)
                        })
                } else this._clear(e, i);
                return !1
            }
        },
        cancel: function () {
            if (this.dragging) {
                this._mouseUp({
                        target: null
                    }), "original" === this.options.helper ? this.currentItem.css(this._storedCSS)
                    .removeClass("ui-sortable-helper") : this.currentItem.show();
                for (var e = this.containers.length - 1; e >= 0; e--) this.containers[e]._trigger("deactivate", null, this._uiHash(this)), this.containers[
                    e].containerCache.over && (this.containers[e]._trigger("out", null, this._uiHash(this)), this.containers[e].containerCache.over =
                    0)
            }
            return this.placeholder && (this.placeholder[0].parentNode && this.placeholder[0].parentNode.removeChild(this.placeholder[0]),
                "original" !== this.options.helper && this.helper && this.helper[0].parentNode && this.helper.remove(), t.extend(this, {
                    helper: null,
                    dragging: !1,
                    reverting: !1,
                    _noFinalSort: null
                }), this.domPosition.prev ? t(this.domPosition.prev)
                .after(this.currentItem) : t(this.domPosition.parent)
                .prepend(this.currentItem)), this
        },
        serialize: function (e) {
            var i = this._getItemsAsjQuery(e && e.connected),
                s = [];
            return e = e || {}, t(i)
                .each(function () {
                    var i = (t(e.item || this)
                            .attr(e.attribute || "id") || "")
                        .match(e.expression || /(.+)[\-=_](.+)/);
                    i && s.push((e.key || i[1] + "[]") + "=" + (e.key && e.expression ? i[1] : i[2]))
                }), !s.length && e.key && s.push(e.key + "="), s.join("&")
        },
        toArray: function (e) {
            var i = this._getItemsAsjQuery(e && e.connected),
                s = [];
            return e = e || {}, i.each(function () {
                s.push(t(e.item || this)
                    .attr(e.attribute || "id") || "")
            }), s
        },
        _intersectsWith: function (t) {
            var e = this.positionAbs.left,
                i = e + this.helperProportions.width,
                s = this.positionAbs.top,
                n = s + this.helperProportions.height,
                o = t.left,
                a = o + t.width,
                r = t.top,
                h = r + t.height,
                l = this.offset.click.top,
                c = this.offset.click.left,
                u = "x" === this.options.axis || s + l > r && h > s + l,
                d = "y" === this.options.axis || e + c > o && a > e + c,
                p = u && d;
            return "pointer" === this.options.tolerance || this.options.forcePointerForContainers || "pointer" !== this.options.tolerance && this.helperProportions[
                    this.floating ? "width" : "height"] > t[this.floating ? "width" : "height"] ? p : e + this.helperProportions.width / 2 > o && a >
                i - this.helperProportions.width / 2 && s + this.helperProportions.height / 2 > r && h > n - this.helperProportions.height / 2
        },
        _intersectsWithPointer: function (t) {
            var i = "x" === this.options.axis || e(this.positionAbs.top + this.offset.click.top, t.top, t.height),
                s = "y" === this.options.axis || e(this.positionAbs.left + this.offset.click.left, t.left, t.width),
                n = i && s,
                o = this._getDragVerticalDirection(),
                a = this._getDragHorizontalDirection();
            return n ? this.floating ? a && "right" === a || "down" === o ? 2 : 1 : o && ("down" === o ? 2 : 1) : !1
        },
        _intersectsWithSides: function (t) {
            var i = e(this.positionAbs.top + this.offset.click.top, t.top + t.height / 2, t.height),
                s = e(this.positionAbs.left + this.offset.click.left, t.left + t.width / 2, t.width),
                n = this._getDragVerticalDirection(),
                o = this._getDragHorizontalDirection();
            return this.floating && o ? "right" === o && s || "left" === o && !s : n && ("down" === n && i || "up" === n && !i)
        },
        _getDragVerticalDirection: function () {
            var t = this.positionAbs.top - this.lastPositionAbs.top;
            return 0 !== t && (t > 0 ? "down" : "up")
        },
        _getDragHorizontalDirection: function () {
            var t = this.positionAbs.left - this.lastPositionAbs.left;
            return 0 !== t && (t > 0 ? "right" : "left")
        },
        refresh: function (t) {
            return this._refreshItems(t), this.refreshPositions(), this
        },
        _connectWith: function () {
            var t = this.options;
            return t.connectWith.constructor === String ? [t.connectWith] : t.connectWith
        },
        _getItemsAsjQuery: function (e) {
            var i, s, n, o, a = [],
                r = [],
                h = this._connectWith();
            if (h && e)
                for (i = h.length - 1; i >= 0; i--)
                    for (n = t(h[i]), s = n.length - 1; s >= 0; s--) o = t.data(n[s], this.widgetFullName), o && o !== this && !o.options.disabled &&
                        r.push([t.isFunction(o.options.items) ? o.options.items.call(o.element) : t(o.options.items, o.element)
                            .not(".ui-sortable-helper")
                            .not(".ui-sortable-placeholder"), o]);
            for (r.push([t.isFunction(this.options.items) ? this.options.items.call(this.element, null, {
                        options: this.options,
                        item: this.currentItem
                    }) : t(this.options.items, this.element)
                    .not(".ui-sortable-helper")
                    .not(".ui-sortable-placeholder"), this]), i = r.length - 1; i >= 0; i--) r[i][0].each(function () {
                a.push(this)
            });
            return t(a)
        },
        _removeCurrentsFromItems: function () {
            var e = this.currentItem.find(":data(" + this.widgetName + "-item)");
            this.items = t.grep(this.items, function (t) {
                for (var i = 0; e.length > i; i++)
                    if (e[i] === t.item[0]) return !1;
                return !0
            })
        },
        _refreshItems: function (e) {
            this.items = [], this.containers = [this];
            var i, s, n, o, a, r, h, l, c = this.items,
                u = [[t.isFunction(this.options.items) ? this.options.items.call(this.element[0], e, {
                    item: this.currentItem
                }) : t(this.options.items, this.element), this]],
                d = this._connectWith();
            if (d && this.ready)
                for (i = d.length - 1; i >= 0; i--)
                    for (n = t(d[i]), s = n.length - 1; s >= 0; s--) o = t.data(n[s], this.widgetFullName), o && o !== this && !o.options.disabled &&
                        (u.push([t.isFunction(o.options.items) ? o.options.items.call(o.element[0], e, {
                            item: this.currentItem
                        }) : t(o.options.items, o.element), o]), this.containers.push(o));
            for (i = u.length - 1; i >= 0; i--)
                for (a = u[i][1], r = u[i][0], s = 0, l = r.length; l > s; s++) h = t(r[s]), h.data(this.widgetName + "-item", a), c.push({
                    item: h,
                    instance: a,
                    width: 0,
                    height: 0,
                    left: 0,
                    top: 0
                })
        },
        refreshPositions: function (e) {
            this.offsetParent && this.helper && (this.offset.parent = this._getParentOffset());
            var i, s, n, o;
            for (i = this.items.length - 1; i >= 0; i--) s = this.items[i], s.instance !== this.currentContainer && this.currentContainer && s.item[
                0] !== this.currentItem[0] || (n = this.options.toleranceElement ? t(this.options.toleranceElement, s.item) : s.item, e || (s.width =
                n.outerWidth(), s.height = n.outerHeight()), o = n.offset(), s.left = o.left, s.top = o.top);
            if (this.options.custom && this.options.custom.refreshContainers) this.options.custom.refreshContainers.call(this);
            else
                for (i = this.containers.length - 1; i >= 0; i--) o = this.containers[i].element.offset(), this.containers[i].containerCache.left =
                    o.left, this.containers[i].containerCache.top = o.top, this.containers[i].containerCache.width = this.containers[i].element.outerWidth(),
                    this.containers[i].containerCache.height = this.containers[i].element.outerHeight();
            return this
        },
        _createPlaceholder: function (e) {
            e = e || this;
            var i, s = e.options;
            s.placeholder && s.placeholder.constructor !== String || (i = s.placeholder, s.placeholder = {
                element: function () {
                    var s = e.currentItem[0].nodeName.toLowerCase(),
                        n = t("<" + s + ">", e.document[0])
                        .addClass(i || e.currentItem[0].className + " ui-sortable-placeholder")
                        .removeClass("ui-sortable-helper");
                    return "tr" === s ? e.currentItem.children()
                        .each(function () {
                            t("<td>&#160;</td>", e.document[0])
                                .attr("colspan", t(this)
                                    .attr("colspan") || 1)
                                .appendTo(n)
                        }) : "img" === s && n.attr("src", e.currentItem.attr("src")), i || n.css("visibility", "hidden"), n
                },
                update: function (t, n) {
                    (!i || s.forcePlaceholderSize) && (n.height() || n.height(e.currentItem.innerHeight() - parseInt(e.currentItem.css(
                        "paddingTop") || 0, 10) - parseInt(e.currentItem.css("paddingBottom") || 0, 10)), n.width() || n.width(e.currentItem
                        .innerWidth() - parseInt(e.currentItem.css("paddingLeft") || 0, 10) - parseInt(e.currentItem.css(
                            "paddingRight") || 0, 10)))
                }
            }), e.placeholder = t(s.placeholder.element.call(e.element, e.currentItem)), e.currentItem.after(e.placeholder), s.placeholder.update(
                e, e.placeholder)
        },
        _contactContainers: function (s) {
            var n, o, a, r, h, l, c, u, d, p, f = null,
                g = null;
            for (n = this.containers.length - 1; n >= 0; n--)
                if (!t.contains(this.currentItem[0], this.containers[n].element[0]))
                    if (this._intersectsWith(this.containers[n].containerCache)) {
                        if (f && t.contains(this.containers[n].element[0], f.element[0])) continue;
                        f = this.containers[n], g = n
                    } else this.containers[n].containerCache.over && (this.containers[n]._trigger("out", s, this._uiHash(this)), this.containers[n]
                        .containerCache.over = 0);
            if (f)
                if (1 === this.containers.length) this.containers[g].containerCache.over || (this.containers[g]._trigger("over", s, this._uiHash(
                    this)), this.containers[g].containerCache.over = 1);
                else {
                    for (a = 1e4, r = null, p = f.floating || i(this.currentItem), h = p ? "left" : "top", l = p ? "width" : "height", c = this.positionAbs[
                            h] + this.offset.click[h], o = this.items.length - 1; o >= 0; o--) t.contains(this.containers[g].element[0], this.items[
                        o].item[0]) && this.items[o].item[0] !== this.currentItem[0] && (!p || e(this.positionAbs.top + this.offset.click.top,
                        this.items[o].top, this.items[o].height)) && (u = this.items[o].item.offset()[h], d = !1, Math.abs(u - c) > Math.abs(u +
                        this.items[o][l] - c) && (d = !0, u += this.items[o][l]), a > Math.abs(u - c) && (a = Math.abs(u - c), r = this.items[
                        o], this.direction = d ? "up" : "down"));
                    if (!r && !this.options.dropOnEmpty) return;
                    if (this.currentContainer === this.containers[g]) return;
                    r ? this._rearrange(s, r, null, !0) : this._rearrange(s, null, this.containers[g].element, !0), this._trigger("change", s, this
                            ._uiHash()), this.containers[g]._trigger("change", s, this._uiHash(this)), this.currentContainer = this.containers[g],
                        this.options.placeholder.update(this.currentContainer, this.placeholder), this.containers[g]._trigger("over", s, this._uiHash(
                            this)), this.containers[g].containerCache.over = 1
                }
        },
        _createHelper: function (e) {
            var i = this.options,
                s = t.isFunction(i.helper) ? t(i.helper.apply(this.element[0], [e, this.currentItem])) : "clone" === i.helper ? this.currentItem.clone() :
                this.currentItem;
            return s.parents("body")
                .length || t("parent" !== i.appendTo ? i.appendTo : this.currentItem[0].parentNode)[0].appendChild(s[0]), s[0] === this.currentItem[
                    0] && (this._storedCSS = {
                    width: this.currentItem[0].style.width,
                    height: this.currentItem[0].style.height,
                    position: this.currentItem.css("position"),
                    top: this.currentItem.css("top"),
                    left: this.currentItem.css("left")
                }), (!s[0].style.width || i.forceHelperSize) && s.width(this.currentItem.width()), (!s[0].style.height || i.forceHelperSize) && s.height(
                    this.currentItem.height()), s
        },
        _adjustOffsetFromHelper: function (e) {
            "string" == typeof e && (e = e.split(" ")), t.isArray(e) && (e = {
                left: +e[0],
                top: +e[1] || 0
            }), "left" in e && (this.offset.click.left = e.left + this.margins.left), "right" in e && (this.offset.click.left = this.helperProportions
                .width - e.right + this.margins.left), "top" in e && (this.offset.click.top = e.top + this.margins.top), "bottom" in e && (this
                .offset.click.top = this.helperProportions.height - e.bottom + this.margins.top)
        },
        _getParentOffset: function () {
            this.offsetParent = this.helper.offsetParent();
            var e = this.offsetParent.offset();
            return "absolute" === this.cssPosition && this.scrollParent[0] !== document && t.contains(this.scrollParent[0], this.offsetParent[0]) &&
                (e.left += this.scrollParent.scrollLeft(), e.top += this.scrollParent.scrollTop()), (this.offsetParent[0] === document.body || this
                    .offsetParent[0].tagName && "html" === this.offsetParent[0].tagName.toLowerCase() && t.ui.ie) && (e = {
                    top: 0,
                    left: 0
                }), {
                    top: e.top + (parseInt(this.offsetParent.css("borderTopWidth"), 10) || 0),
                    left: e.left + (parseInt(this.offsetParent.css("borderLeftWidth"), 10) || 0)
                }
        },
        _getRelativeOffset: function () {
            if ("relative" === this.cssPosition) {
                var t = this.currentItem.position();
                return {
                    top: t.top - (parseInt(this.helper.css("top"), 10) || 0) + this.scrollParent.scrollTop(),
                    left: t.left - (parseInt(this.helper.css("left"), 10) || 0) + this.scrollParent.scrollLeft()
                }
            }
            return {
                top: 0,
                left: 0
            }
        },
        _cacheMargins: function () {
            this.margins = {
                left: parseInt(this.currentItem.css("marginLeft"), 10) || 0,
                top: parseInt(this.currentItem.css("marginTop"), 10) || 0
            }
        },
        _cacheHelperProportions: function () {
            this.helperProportions = {
                width: this.helper.outerWidth(),
                height: this.helper.outerHeight()
            }
        },
        _setContainment: function () {
            var e, i, s, n = this.options;
            "parent" === n.containment && (n.containment = this.helper[0].parentNode), ("document" === n.containment || "window" === n.containment) &&
                (this.containment = [0 - this.offset.relative.left - this.offset.parent.left, 0 - this.offset.relative.top - this.offset.parent.top,
                    t("document" === n.containment ? document : window)
                    .width() - this.helperProportions.width - this.margins.left, (t("document" === n.containment ? document : window)
                        .height() || document.body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top]),
                /^(document|window|parent)$/.test(n.containment) || (e = t(n.containment)[0], i = t(n.containment)
                    .offset(), s = "hidden" !== t(e)
                    .css("overflow"), this.containment = [i.left + (parseInt(t(e)
                            .css("borderLeftWidth"), 10) || 0) + (parseInt(t(e)
                            .css("paddingLeft"), 10) || 0) - this.margins.left, i.top + (parseInt(t(e)
                            .css("borderTopWidth"), 10) || 0) + (parseInt(t(e)
                            .css("paddingTop"), 10) || 0) - this.margins.top, i.left + (s ? Math.max(e.scrollWidth, e.offsetWidth) : e.offsetWidth) -
                        (parseInt(t(e)
                            .css("borderLeftWidth"), 10) || 0) - (parseInt(t(e)
                            .css("paddingRight"), 10) || 0) - this.helperProportions.width - this.margins.left, i.top + (s ? Math.max(e.scrollHeight,
                            e.offsetHeight) : e.offsetHeight) - (parseInt(t(e)
                            .css("borderTopWidth"), 10) || 0) - (parseInt(t(e)
                            .css("paddingBottom"), 10) || 0) - this.helperProportions.height - this.margins.top])
        },
        _convertPositionTo: function (e, i) {
            i || (i = this.position);
            var s = "absolute" === e ? 1 : -1,
                n = "absolute" !== this.cssPosition || this.scrollParent[0] !== document && t.contains(this.scrollParent[0], this.offsetParent[0]) ?
                this.scrollParent : this.offsetParent,
                o = /(html|body)/i.test(n[0].tagName);
            return {
                top: i.top + this.offset.relative.top * s + this.offset.parent.top * s - ("fixed" === this.cssPosition ? -this.scrollParent.scrollTop() :
                    o ? 0 : n.scrollTop()) * s,
                left: i.left + this.offset.relative.left * s + this.offset.parent.left * s - ("fixed" === this.cssPosition ? -this.scrollParent.scrollLeft() :
                    o ? 0 : n.scrollLeft()) * s
            }
        },
        _generatePosition: function (e) {
            var i, s, n = this.options,
                o = e.pageX,
                a = e.pageY,
                r = "absolute" !== this.cssPosition || this.scrollParent[0] !== document && t.contains(this.scrollParent[0], this.offsetParent[0]) ?
                this.scrollParent : this.offsetParent,
                h = /(html|body)/i.test(r[0].tagName);
            return "relative" !== this.cssPosition || this.scrollParent[0] !== document && this.scrollParent[0] !== this.offsetParent[0] || (this.offset
                .relative = this._getRelativeOffset()), this.originalPosition && (this.containment && (e.pageX - this.offset.click.left < this.containment[
                0] && (o = this.containment[0] + this.offset.click.left), e.pageY - this.offset.click.top < this.containment[1] && (a =
                this.containment[1] + this.offset.click.top), e.pageX - this.offset.click.left > this.containment[2] && (o = this.containment[
                2] + this.offset.click.left), e.pageY - this.offset.click.top > this.containment[3] && (a = this.containment[3] + this.offset
                .click.top)), n.grid && (i = this.originalPageY + Math.round((a - this.originalPageY) / n.grid[1]) * n.grid[1], a = this.containment ?
                i - this.offset.click.top >= this.containment[1] && i - this.offset.click.top <= this.containment[3] ? i : i - this.offset.click
                .top >= this.containment[1] ? i - n.grid[1] : i + n.grid[1] : i, s = this.originalPageX + Math.round((o - this.originalPageX) /
                    n.grid[0]) * n.grid[0], o = this.containment ? s - this.offset.click.left >= this.containment[0] && s - this.offset.click
                .left <= this.containment[2] ? s : s - this.offset.click.left >= this.containment[0] ? s - n.grid[0] : s + n.grid[0] : s)), {
                top: a - this.offset.click.top - this.offset.relative.top - this.offset.parent.top + ("fixed" === this.cssPosition ? -this.scrollParent
                    .scrollTop() : h ? 0 : r.scrollTop()),
                left: o - this.offset.click.left - this.offset.relative.left - this.offset.parent.left + ("fixed" === this.cssPosition ? -this.scrollParent
                    .scrollLeft() : h ? 0 : r.scrollLeft())
            }
        },
        _rearrange: function (t, e, i, s) {
            i ? i[0].appendChild(this.placeholder[0]) : e.item[0].parentNode.insertBefore(this.placeholder[0], "down" === this.direction ? e.item[0] :
                e.item[0].nextSibling), this.counter = this.counter ? ++this.counter : 1;
            var n = this.counter;
            this._delay(function () {
                n === this.counter && this.refreshPositions(!s)
            })
        },
        _clear: function (t, e) {
            this.reverting = !1;
            var i, s = [];
            if (!this._noFinalSort && this.currentItem.parent()
                .length && this.placeholder.before(this.currentItem), this._noFinalSort = null, this.helper[0] === this.currentItem[0]) {
                for (i in this._storedCSS)("auto" === this._storedCSS[i] || "static" === this._storedCSS[i]) && (this._storedCSS[i] = "");
                this.currentItem.css(this._storedCSS)
                    .removeClass("ui-sortable-helper")
            } else this.currentItem.show();
            for (this.fromOutside && !e && s.push(function (t) {
                    this._trigger("receive", t, this._uiHash(this.fromOutside))
                }), !this.fromOutside && this.domPosition.prev === this.currentItem.prev()
                .not(".ui-sortable-helper")[0] && this.domPosition.parent === this.currentItem.parent()[0] || e || s.push(function (t) {
                    this._trigger("update", t, this._uiHash())
                }), this !== this.currentContainer && (e || (s.push(function (t) {
                    this._trigger("remove", t, this._uiHash())
                }), s.push(function (t) {
                    return function (e) {
                        t._trigger("receive", e, this._uiHash(this))
                    }
                }.call(this, this.currentContainer)), s.push(function (t) {
                    return function (e) {
                        t._trigger("update", e, this._uiHash(this))
                    }
                }.call(this, this.currentContainer)))), i = this.containers.length - 1; i >= 0; i--) e || s.push(function (t) {
                return function (e) {
                    t._trigger("deactivate", e, this._uiHash(this))
                }
            }.call(this, this.containers[i])), this.containers[i].containerCache.over && (s.push(function (t) {
                return function (e) {
                    t._trigger("out", e, this._uiHash(this))
                }
            }.call(this, this.containers[i])), this.containers[i].containerCache.over = 0);
            if (this.storedCursor && (this.document.find("body")
                    .css("cursor", this.storedCursor), this.storedStylesheet.remove()), this._storedOpacity && this.helper.css("opacity", this._storedOpacity),
                this._storedZIndex && this.helper.css("zIndex", "auto" === this._storedZIndex ? "" : this._storedZIndex), this.dragging = !1, this.cancelHelperRemoval
            ) {
                if (!e) {
                    for (this._trigger("beforeStop", t, this._uiHash()), i = 0; s.length > i; i++) s[i].call(this, t);
                    this._trigger("stop", t, this._uiHash())
                }
                return this.fromOutside = !1, !1
            }
            if (e || this._trigger("beforeStop", t, this._uiHash()), this.placeholder[0].parentNode.removeChild(this.placeholder[0]), this.helper[0] !==
                this.currentItem[0] && this.helper.remove(), this.helper = null, !e) {
                for (i = 0; s.length > i; i++) s[i].call(this, t);
                this._trigger("stop", t, this._uiHash())
            }
            return this.fromOutside = !1, !0
        },
        _trigger: function () {
            t.Widget.prototype._trigger.apply(this, arguments) === !1 && this.cancel()
        },
        _uiHash: function (e) {
            var i = e || this;
            return {
                helper: i.helper,
                placeholder: i.placeholder || t([]),
                position: i.position,
                originalPosition: i.originalPosition,
                offset: i.positionAbs,
                item: i.currentItem,
                sender: e ? e.element : null
            }
        }
    })
}(jQuery),
function (t, e) {
    var i = "ui-effects-";
    t.effects = {
            effect: {}
        },
        function (t, e) {
            function i(t, e, i) {
                var s = u[e.type] || {};
                return null == t ? i || !e.def ? null : e.def : (t = s.floor ? ~~t : parseFloat(t), isNaN(t) ? e.def : s.mod ? (t + s.mod) % s.mod : 0 > t ?
                    0 : t > s.max ? s.max : t)
            }

            function s(i) {
                var s = l(),
                    n = s._rgba = [];
                return i = i.toLowerCase(), f(h, function (t, o) {
                    var a, r = o.re.exec(i),
                        h = r && o.parse(r),
                        l = o.space || "rgba";
                    return h ? (a = s[l](h), s[c[l].cache] = a[c[l].cache], n = s._rgba = a._rgba, !1) : e
                }), n.length ? ("0,0,0,0" === n.join() && t.extend(n, o.transparent), s) : o[i]
            }

            function n(t, e, i) {
                return i = (i + 1) % 1, 1 > 6 * i ? t + 6 * (e - t) * i : 1 > 2 * i ? e : 2 > 3 * i ? t + 6 * (e - t) * (2 / 3 - i) : t
            }
            var o, a =
                "backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",
                r = /^([\-+])=\s*(\d+\.?\d*)/,
                h = [{
                    re: /rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,
                    parse: function (t) {
                        return [t[1], t[2], t[3], t[4]]
                    }
                }, {
                    re: /rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,
                    parse: function (t) {
                        return [2.55 * t[1], 2.55 * t[2], 2.55 * t[3], t[4]]
                    }
                }, {
                    re: /#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,
                    parse: function (t) {
                        return [parseInt(t[1], 16), parseInt(t[2], 16), parseInt(t[3], 16)]
                    }
                }, {
                    re: /#([a-f0-9])([a-f0-9])([a-f0-9])/,
                    parse: function (t) {
                        return [parseInt(t[1] + t[1], 16), parseInt(t[2] + t[2], 16), parseInt(t[3] + t[3], 16)]
                    }
                }, {
                    re: /hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,
                    space: "hsla",
                    parse: function (t) {
                        return [t[1], t[2] / 100, t[3] / 100, t[4]]
                    }
                }],
                l = t.Color = function (e, i, s, n) {
                    return new t.Color.fn.parse(e, i, s, n)
                },
                c = {
                    rgba: {
                        props: {
                            red: {
                                idx: 0,
                                type: "byte"
                            },
                            green: {
                                idx: 1,
                                type: "byte"
                            },
                            blue: {
                                idx: 2,
                                type: "byte"
                            }
                        }
                    },
                    hsla: {
                        props: {
                            hue: {
                                idx: 0,
                                type: "degrees"
                            },
                            saturation: {
                                idx: 1,
                                type: "percent"
                            },
                            lightness: {
                                idx: 2,
                                type: "percent"
                            }
                        }
                    }
                },
                u = {
                    "byte": {
                        floor: !0,
                        max: 255
                    },
                    percent: {
                        max: 1
                    },
                    degrees: {
                        mod: 360,
                        floor: !0
                    }
                },
                d = l.support = {},
                p = t("<p>")[0],
                f = t.each;
            p.style.cssText = "background-color:rgba(1,1,1,.5)", d.rgba = p.style.backgroundColor.indexOf("rgba") > -1, f(c, function (t, e) {
                e.cache = "_" + t, e.props.alpha = {
                    idx: 3,
                    type: "percent",
                    def: 1
                }
            }), l.fn = t.extend(l.prototype, {
                parse: function (n, a, r, h) {
                    if (n === e) return this._rgba = [null, null, null, null], this;
                    (n.jquery || n.nodeType) && (n = t(n)
                        .css(a), a = e);
                    var u = this,
                        d = t.type(n),
                        p = this._rgba = [];
                    return a !== e && (n = [n, a, r, h], d = "array"), "string" === d ? this.parse(s(n) || o._default) : "array" === d ? (f(c.rgba.props,
                        function (t, e) {
                            p[e.idx] = i(n[e.idx], e)
                        }), this) : "object" === d ? (n instanceof l ? f(c, function (t, e) {
                        n[e.cache] && (u[e.cache] = n[e.cache].slice())
                    }) : f(c, function (e, s) {
                        var o = s.cache;
                        f(s.props, function (t, e) {
                            if (!u[o] && s.to) {
                                if ("alpha" === t || null == n[t]) return;
                                u[o] = s.to(u._rgba)
                            }
                            u[o][e.idx] = i(n[t], e, !0)
                        }), u[o] && 0 > t.inArray(null, u[o].slice(0, 3)) && (u[o][3] = 1, s.from && (u._rgba = s.from(u[o])))
                    }), this) : e
                },
                is: function (t) {
                    var i = l(t),
                        s = !0,
                        n = this;
                    return f(c, function (t, o) {
                        var a, r = i[o.cache];
                        return r && (a = n[o.cache] || o.to && o.to(n._rgba) || [], f(o.props, function (t, i) {
                            return null != r[i.idx] ? s = r[i.idx] === a[i.idx] : e
                        })), s
                    }), s
                },
                _space: function () {
                    var t = [],
                        e = this;
                    return f(c, function (i, s) {
                        e[s.cache] && t.push(i)
                    }), t.pop()
                },
                transition: function (t, e) {
                    var s = l(t),
                        n = s._space(),
                        o = c[n],
                        a = 0 === this.alpha() ? l("transparent") : this,
                        r = a[o.cache] || o.to(a._rgba),
                        h = r.slice();
                    return s = s[o.cache], f(o.props, function (t, n) {
                        var o = n.idx,
                            a = r[o],
                            l = s[o],
                            c = u[n.type] || {};
                        null !== l && (null === a ? h[o] = l : (c.mod && (l - a > c.mod / 2 ? a += c.mod : a - l > c.mod / 2 && (a -= c.mod)),
                            h[o] = i((l - a) * e + a, n)))
                    }), this[n](h)
                },
                blend: function (e) {
                    if (1 === this._rgba[3]) return this;
                    var i = this._rgba.slice(),
                        s = i.pop(),
                        n = l(e)
                        ._rgba;
                    return l(t.map(i, function (t, e) {
                        return (1 - s) * n[e] + s * t
                    }))
                },
                toRgbaString: function () {
                    var e = "rgba(",
                        i = t.map(this._rgba, function (t, e) {
                            return null == t ? e > 2 ? 1 : 0 : t
                        });
                    return 1 === i[3] && (i.pop(), e = "rgb("), e + i.join() + ")"
                },
                toHslaString: function () {
                    var e = "hsla(",
                        i = t.map(this.hsla(), function (t, e) {
                            return null == t && (t = e > 2 ? 1 : 0), e && 3 > e && (t = Math.round(100 * t) + "%"), t
                        });
                    return 1 === i[3] && (i.pop(), e = "hsl("), e + i.join() + ")"
                },
                toHexString: function (e) {
                    var i = this._rgba.slice(),
                        s = i.pop();
                    return e && i.push(~~(255 * s)), "#" + t.map(i, function (t) {
                            return t = (t || 0)
                                .toString(16), 1 === t.length ? "0" + t : t
                        })
                        .join("")
                },
                toString: function () {
                    return 0 === this._rgba[3] ? "transparent" : this.toRgbaString()
                }
            }), l.fn.parse.prototype = l.fn, c.hsla.to = function (t) {
                if (null == t[0] || null == t[1] || null == t[2]) return [null, null, null, t[3]];
                var e, i, s = t[0] / 255,
                    n = t[1] / 255,
                    o = t[2] / 255,
                    a = t[3],
                    r = Math.max(s, n, o),
                    h = Math.min(s, n, o),
                    l = r - h,
                    c = r + h,
                    u = .5 * c;
                return e = h === r ? 0 : s === r ? 60 * (n - o) / l + 360 : n === r ? 60 * (o - s) / l + 120 : 60 * (s - n) / l + 240, i = 0 === l ? 0 : .5 >=
                    u ? l / c : l / (2 - c), [Math.round(e) % 360, i, u, null == a ? 1 : a]
            }, c.hsla.from = function (t) {
                if (null == t[0] || null == t[1] || null == t[2]) return [null, null, null, t[3]];
                var e = t[0] / 360,
                    i = t[1],
                    s = t[2],
                    o = t[3],
                    a = .5 >= s ? s * (1 + i) : s + i - s * i,
                    r = 2 * s - a;
                return [Math.round(255 * n(r, a, e + 1 / 3)), Math.round(255 * n(r, a, e)), Math.round(255 * n(r, a, e - 1 / 3)), o]
            }, f(c, function (s, n) {
                var o = n.props,
                    a = n.cache,
                    h = n.to,
                    c = n.from;
                l.fn[s] = function (s) {
                    if (h && !this[a] && (this[a] = h(this._rgba)), s === e) return this[a].slice();
                    var n, r = t.type(s),
                        u = "array" === r || "object" === r ? s : arguments,
                        d = this[a].slice();
                    return f(o, function (t, e) {
                        var s = u["object" === r ? t : e.idx];
                        null == s && (s = d[e.idx]), d[e.idx] = i(s, e)
                    }), c ? (n = l(c(d)), n[a] = d, n) : l(d)
                }, f(o, function (e, i) {
                    l.fn[e] || (l.fn[e] = function (n) {
                        var o, a = t.type(n),
                            h = "alpha" === e ? this._hsla ? "hsla" : "rgba" : s,
                            l = this[h](),
                            c = l[i.idx];
                        return "undefined" === a ? c : ("function" === a && (n = n.call(this, c), a = t.type(n)), null == n && i.empty ?
                            this : ("string" === a && (o = r.exec(n), o && (n = c + parseFloat(o[2]) * ("+" === o[1] ? 1 : -1))), l[
                                i.idx] = n, this[h](l)))
                    })
                })
            }), l.hook = function (e) {
                var i = e.split(" ");
                f(i, function (e, i) {
                    t.cssHooks[i] = {
                        set: function (e, n) {
                            var o, a, r = "";
                            if ("transparent" !== n && ("string" !== t.type(n) || (o = s(n)))) {
                                if (n = l(o || n), !d.rgba && 1 !== n._rgba[3]) {
                                    for (a = "backgroundColor" === i ? e.parentNode : e;
                                        ("" === r || "transparent" === r) && a && a.style;) try {
                                        r = t.css(a, "backgroundColor"), a = a.parentNode
                                    } catch (h) {}
                                    n = n.blend(r && "transparent" !== r ? r : "_default")
                                }
                                n = n.toRgbaString()
                            }
                            try {
                                e.style[i] = n
                            } catch (h) {}
                        }
                    }, t.fx.step[i] = function (e) {
                        e.colorInit || (e.start = l(e.elem, i), e.end = l(e.end), e.colorInit = !0), t.cssHooks[i].set(e.elem, e.start.transition(
                            e.end, e.pos))
                    }
                })
            }, l.hook(a), t.cssHooks.borderColor = {
                expand: function (t) {
                    var e = {};
                    return f(["Top", "Right", "Bottom", "Left"], function (i, s) {
                        e["border" + s + "Color"] = t
                    }), e
                }
            }, o = t.Color.names = {
                aqua: "#00ffff",
                black: "#000000",
                blue: "#0000ff",
                fuchsia: "#ff00ff",
                gray: "#808080",
                green: "#008000",
                lime: "#00ff00",
                maroon: "#800000",
                navy: "#000080",
                olive: "#808000",
                purple: "#800080",
                red: "#ff0000",
                silver: "#c0c0c0",
                teal: "#008080",
                white: "#ffffff",
                yellow: "#ffff00",
                transparent: [null, null, null, 0],
                _default: "#ffffff"
            }
        }(jQuery),
        function () {
            function i(e) {
                var i, s, n = e.ownerDocument.defaultView ? e.ownerDocument.defaultView.getComputedStyle(e, null) : e.currentStyle,
                    o = {};
                if (n && n.length && n[0] && n[n[0]])
                    for (s = n.length; s--;) i = n[s], "string" == typeof n[i] && (o[t.camelCase(i)] = n[i]);
                else
                    for (i in n) "string" == typeof n[i] && (o[i] = n[i]);
                return o
            }

            function s(e, i) {
                var s, n, a = {};
                for (s in i) n = i[s], e[s] !== n && (o[s] || (t.fx.step[s] || !isNaN(parseFloat(n))) && (a[s] = n));
                return a
            }
            var n = ["add", "remove", "toggle"],
                o = {
                    border: 1,
                    borderBottom: 1,
                    borderColor: 1,
                    borderLeft: 1,
                    borderRight: 1,
                    borderTop: 1,
                    borderWidth: 1,
                    margin: 1,
                    padding: 1
                };
            t.each(["borderLeftStyle", "borderRightStyle", "borderBottomStyle", "borderTopStyle"], function (e, i) {
                t.fx.step[i] = function (t) {
                    ("none" !== t.end && !t.setAttr || 1 === t.pos && !t.setAttr) && (jQuery.style(t.elem, i, t.end), t.setAttr = !0)
                }
            }), t.fn.addBack || (t.fn.addBack = function (t) {
                return this.add(null == t ? this.prevObject : this.prevObject.filter(t))
            }), t.effects.animateClass = function (e, o, a, r) {
                var h = t.speed(o, a, r);
                return this.queue(function () {
                    var o, a = t(this),
                        r = a.attr("class") || "",
                        l = h.children ? a.find("*")
                        .addBack() : a;
                    l = l.map(function () {
                            var e = t(this);
                            return {
                                el: e,
                                start: i(this)
                            }
                        }), o = function () {
                            t.each(n, function (t, i) {
                                e[i] && a[i + "Class"](e[i])
                            })
                        }, o(), l = l.map(function () {
                            return this.end = i(this.el[0]), this.diff = s(this.start, this.end), this
                        }), a.attr("class", r), l = l.map(function () {
                            var e = this,
                                i = t.Deferred(),
                                s = t.extend({}, h, {
                                    queue: !1,
                                    complete: function () {
                                        i.resolve(e)
                                    }
                                });
                            return this.el.animate(this.diff, s), i.promise()
                        }), t.when.apply(t, l.get())
                        .done(function () {
                            o(), t.each(arguments, function () {
                                var e = this.el;
                                t.each(this.diff, function (t) {
                                    e.css(t, "")
                                })
                            }), h.complete.call(a[0])
                        })
                })
            }, t.fn.extend({
                addClass: function (e) {
                    return function (i, s, n, o) {
                        return s ? t.effects.animateClass.call(this, {
                            add: i
                        }, s, n, o) : e.apply(this, arguments)
                    }
                }(t.fn.addClass),
                removeClass: function (e) {
                    return function (i, s, n, o) {
                        return arguments.length > 1 ? t.effects.animateClass.call(this, {
                            remove: i
                        }, s, n, o) : e.apply(this, arguments)
                    }
                }(t.fn.removeClass),
                toggleClass: function (i) {
                    return function (s, n, o, a, r) {
                        return "boolean" == typeof n || n === e ? o ? t.effects.animateClass.call(this, n ? {
                            add: s
                        } : {
                            remove: s
                        }, o, a, r) : i.apply(this, arguments) : t.effects.animateClass.call(this, {
                            toggle: s
                        }, n, o, a)
                    }
                }(t.fn.toggleClass),
                switchClass: function (e, i, s, n, o) {
                    return t.effects.animateClass.call(this, {
                        add: i,
                        remove: e
                    }, s, n, o)
                }
            })
        }(),
        function () {
            function s(e, i, s, n) {
                return t.isPlainObject(e) && (i = e, e = e.effect), e = {
                        effect: e
                    }, null == i && (i = {}), t.isFunction(i) && (n = i, s = null, i = {}), ("number" == typeof i || t.fx.speeds[i]) && (n = s, s = i, i = {}),
                    t.isFunction(s) && (n = s, s = null), i && t.extend(e, i), s = s || i.duration, e.duration = t.fx.off ? 0 : "number" == typeof s ? s :
                    s in t.fx.speeds ? t.fx.speeds[s] : t.fx.speeds._default, e.complete = n || i.complete, e
            }

            function n(e) {
                return !e || "number" == typeof e || t.fx.speeds[e] ? !0 : "string" != typeof e || t.effects.effect[e] ? t.isFunction(e) ? !0 : "object" !=
                    typeof e || e.effect ? !1 : !0 : !0
            }
            t.extend(t.effects, {
                version: "1.10.3",
                save: function (t, e) {
                    for (var s = 0; e.length > s; s++) null !== e[s] && t.data(i + e[s], t[0].style[e[s]])
                },
                restore: function (t, s) {
                    var n, o;
                    for (o = 0; s.length > o; o++) null !== s[o] && (n = t.data(i + s[o]), n === e && (n = ""), t.css(s[o], n))
                },
                setMode: function (t, e) {
                    return "toggle" === e && (e = t.is(":hidden") ? "show" : "hide"), e
                },
                getBaseline: function (t, e) {
                    var i, s;
                    switch (t[0]) {
                    case "top":
                        i = 0;
                        break;
                    case "middle":
                        i = .5;
                        break;
                    case "bottom":
                        i = 1;
                        break;
                    default:
                        i = t[0] / e.height
                    }
                    switch (t[1]) {
                    case "left":
                        s = 0;
                        break;
                    case "center":
                        s = .5;
                        break;
                    case "right":
                        s = 1;
                        break;
                    default:
                        s = t[1] / e.width
                    }
                    return {
                        x: s,
                        y: i
                    }
                },
                createWrapper: function (e) {
                    if (e.parent()
                        .is(".ui-effects-wrapper")) return e.parent();
                    var i = {
                            width: e.outerWidth(!0),
                            height: e.outerHeight(!0),
                            "float": e.css("float")
                        },
                        s = t("<div></div>")
                        .addClass("ui-effects-wrapper")
                        .css({
                            fontSize: "100%",
                            background: "transparent",
                            border: "none",
                            margin: 0,
                            padding: 0
                        }),
                        n = {
                            width: e.width(),
                            height: e.height()
                        },
                        o = document.activeElement;
                    try {
                        o.id
                    } catch (a) {
                        o = document.body
                    }
                    return e.wrap(s), (e[0] === o || t.contains(e[0], o)) && t(o)
                        .focus(), s = e.parent(), "static" === e.css("position") ? (s.css({
                            position: "relative"
                        }), e.css({
                            position: "relative"
                        })) : (t.extend(i, {
                            position: e.css("position"),
                            zIndex: e.css("z-index")
                        }), t.each(["top", "left", "bottom", "right"], function (t, s) {
                            i[s] = e.css(s), isNaN(parseInt(i[s], 10)) && (i[s] = "auto")
                        }), e.css({
                            position: "relative",
                            top: 0,
                            left: 0,
                            right: "auto",
                            bottom: "auto"
                        })), e.css(n), s.css(i)
                        .show()
                },
                removeWrapper: function (e) {
                    var i = document.activeElement;
                    return e.parent()
                        .is(".ui-effects-wrapper") && (e.parent()
                            .replaceWith(e), (e[0] === i || t.contains(e[0], i)) && t(i)
                            .focus()), e
                },
                setTransition: function (e, i, s, n) {
                    return n = n || {}, t.each(i, function (t, i) {
                        var o = e.cssUnit(i);
                        o[0] > 0 && (n[i] = o[0] * s + o[1])
                    }), n
                }
            }), t.fn.extend({
                effect: function () {
                    function e(e) {
                        function s() {
                            t.isFunction(o) && o.call(n[0]), t.isFunction(e) && e()
                        }
                        var n = t(this),
                            o = i.complete,
                            r = i.mode;
                        (n.is(":hidden") ? "hide" === r : "show" === r) ? (n[r](), s()) : a.call(n[0], i, s)
                    }
                    var i = s.apply(this, arguments),
                        n = i.mode,
                        o = i.queue,
                        a = t.effects.effect[i.effect];
                    return t.fx.off || !a ? n ? this[n](i.duration, i.complete) : this.each(function () {
                        i.complete && i.complete.call(this)
                    }) : o === !1 ? this.each(e) : this.queue(o || "fx", e)
                },
                show: function (t) {
                    return function (e) {
                        if (n(e)) return t.apply(this, arguments);
                        var i = s.apply(this, arguments);
                        return i.mode = "show", this.effect.call(this, i)
                    }
                }(t.fn.show),
                hide: function (t) {
                    return function (e) {
                        if (n(e)) return t.apply(this, arguments);
                        var i = s.apply(this, arguments);
                        return i.mode = "hide", this.effect.call(this, i)
                    }
                }(t.fn.hide),
                toggle: function (t) {
                    return function (e) {
                        if (n(e) || "boolean" == typeof e) return t.apply(this, arguments);
                        var i = s.apply(this, arguments);
                        return i.mode = "toggle", this.effect.call(this, i)
                    }
                }(t.fn.toggle),
                cssUnit: function (e) {
                    var i = this.css(e),
                        s = [];
                    return t.each(["em", "px", "%", "pt"], function (t, e) {
                        i.indexOf(e) > 0 && (s = [parseFloat(i), e])
                    }), s
                }
            })
        }(),
        function () {
            var e = {};
            t.each(["Quad", "Cubic", "Quart", "Quint", "Expo"], function (t, i) {
                e[i] = function (e) {
                    return Math.pow(e, t + 2)
                }
            }), t.extend(e, {
                Sine: function (t) {
                    return 1 - Math.cos(t * Math.PI / 2)
                },
                Circ: function (t) {
                    return 1 - Math.sqrt(1 - t * t)
                },
                Elastic: function (t) {
                    return 0 === t || 1 === t ? t : -Math.pow(2, 8 * (t - 1)) * Math.sin((80 * (t - 1) - 7.5) * Math.PI / 15)
                },
                Back: function (t) {
                    return t * t * (3 * t - 2)
                },
                Bounce: function (t) {
                    for (var e, i = 4;
                        ((e = Math.pow(2, --i)) - 1) / 11 > t;);
                    return 1 / Math.pow(4, 3 - i) - 7.5625 * Math.pow((3 * e - 2) / 22 - t, 2)
                }
            }), t.each(e, function (e, i) {
                t.easing["easeIn" + e] = i, t.easing["easeOut" + e] = function (t) {
                    return 1 - i(1 - t)
                }, t.easing["easeInOut" + e] = function (t) {
                    return .5 > t ? i(2 * t) / 2 : 1 - i(-2 * t + 2) / 2
                }
            })
        }()
}(jQuery),
function (t) {
    var e = 0,
        i = {},
        s = {};
    i.height = i.paddingTop = i.paddingBottom = i.borderTopWidth = i.borderBottomWidth = "hide", s.height = s.paddingTop = s.paddingBottom = s.borderTopWidth =
        s.borderBottomWidth = "show", t.widget("ui.accordion", {
            version: "1.10.3",
            options: {
                active: 0,
                animate: {},
                collapsible: !1,
                event: "click",
                header: "> li > :first-child,> :not(li):even",
                heightStyle: "auto",
                icons: {
                    activeHeader: "ui-icon-triangle-1-s",
                    header: "ui-icon-triangle-1-e"
                },
                activate: null,
                beforeActivate: null
            },
            _create: function () {
                var e = this.options;
                this.prevShow = this.prevHide = t(), this.element.addClass("ui-accordion ui-widget ui-helper-reset")
                    .attr("role", "tablist"), e.collapsible || e.active !== !1 && null != e.active || (e.active = 0), this._processPanels(), 0 > e.active &&
                    (e.active += this.headers.length), this._refresh()
            },
            _getCreateEventData: function () {
                return {
                    header: this.active,
                    panel: this.active.length ? this.active.next() : t(),
                    content: this.active.length ? this.active.next() : t()
                }
            },
            _createIcons: function () {
                var e = this.options.icons;
                e && (t("<span>")
                    .addClass("ui-accordion-header-icon ui-icon " + e.header)
                    .prependTo(this.headers), this.active.children(".ui-accordion-header-icon")
                    .removeClass(e.header)
                    .addClass(e.activeHeader), this.headers.addClass("ui-accordion-icons"))
            },
            _destroyIcons: function () {
                this.headers.removeClass("ui-accordion-icons")
                    .children(".ui-accordion-header-icon")
                    .remove()
            },
            _destroy: function () {
                var t;
                this.element.removeClass("ui-accordion ui-widget ui-helper-reset")
                    .removeAttr("role"), this.headers.removeClass(
                        "ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top"
                    )
                    .removeAttr("role")
                    .removeAttr("aria-selected")
                    .removeAttr("aria-controls")
                    .removeAttr("tabIndex")
                    .each(function () {
                        /^ui-accordion/.test(this.id) && this.removeAttribute("id")
                    }), this._destroyIcons(), t = this.headers.next()
                    .css("display", "")
                    .removeAttr("role")
                    .removeAttr("aria-expanded")
                    .removeAttr("aria-hidden")
                    .removeAttr("aria-labelledby")
                    .removeClass(
                        "ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled")
                    .each(function () {
                        /^ui-accordion/.test(this.id) && this.removeAttribute("id")
                    }), "content" !== this.options.heightStyle && t.css("height", "")
            },
            _setOption: function (t, e) {
                return "active" === t ? (this._activate(e), undefined) : ("event" === t && (this.options.event && this._off(this.headers, this.options.event),
                        this._setupEvents(e)), this._super(t, e), "collapsible" !== t || e || this.options.active !== !1 || this._activate(0),
                    "icons" === t && (this._destroyIcons(), e && this._createIcons()), "disabled" === t && this.headers.add(this.headers.next())
                    .toggleClass("ui-state-disabled", !!e), undefined)
            },
            _keydown: function (e) {
                if (!e.altKey && !e.ctrlKey) {
                    var i = t.ui.keyCode,
                        s = this.headers.length,
                        n = this.headers.index(e.target),
                        o = !1;
                    switch (e.keyCode) {
                    case i.RIGHT:
                    case i.DOWN:
                        o = this.headers[(n + 1) % s];
                        break;
                    case i.LEFT:
                    case i.UP:
                        o = this.headers[(n - 1 + s) % s];
                        break;
                    case i.SPACE:
                    case i.ENTER:
                        this._eventHandler(e);
                        break;
                    case i.HOME:
                        o = this.headers[0];
                        break;
                    case i.END:
                        o = this.headers[s - 1]
                    }
                    o && (t(e.target)
                        .attr("tabIndex", -1), t(o)
                        .attr("tabIndex", 0), o.focus(), e.preventDefault())
                }
            },
            _panelKeyDown: function (e) {
                e.keyCode === t.ui.keyCode.UP && e.ctrlKey && t(e.currentTarget)
                    .prev()
                    .focus()
            },
            refresh: function () {
                var e = this.options;
                this._processPanels(), e.active === !1 && e.collapsible === !0 || !this.headers.length ? (e.active = !1, this.active = t()) : e.active ===
                    !1 ? this._activate(0) : this.active.length && !t.contains(this.element[0], this.active[0]) ? this.headers.length === this.headers.find(
                        ".ui-state-disabled")
                    .length ? (e.active = !1, this.active = t()) : this._activate(Math.max(0, e.active - 1)) : e.active = this.headers.index(this.active),
                    this._destroyIcons(), this._refresh()
            },
            _processPanels: function () {
                this.headers = this.element.find(this.options.header)
                    .addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all"), this.headers.next()
                    .addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom")
                    .filter(":not(.ui-accordion-content-active)")
                    .hide()
            },
            _refresh: function () {
                var i, s = this.options,
                    n = s.heightStyle,
                    o = this.element.parent(),
                    a = this.accordionId = "ui-accordion-" + (this.element.attr("id") || ++e);
                this.active = this._findActive(s.active)
                    .addClass("ui-accordion-header-active ui-state-active ui-corner-top")
                    .removeClass("ui-corner-all"), this.active.next()
                    .addClass("ui-accordion-content-active")
                    .show(), this.headers.attr("role", "tab")
                    .each(function (e) {
                        var i = t(this),
                            s = i.attr("id"),
                            n = i.next(),
                            o = n.attr("id");
                        s || (s = a + "-header-" + e, i.attr("id", s)), o || (o = a + "-panel-" + e, n.attr("id", o)), i.attr("aria-controls", o),
                            n.attr("aria-labelledby", s)
                    })
                    .next()
                    .attr("role", "tabpanel"), this.headers.not(this.active)
                    .attr({
                        "aria-selected": "false",
                        tabIndex: -1
                    })
                    .next()
                    .attr({
                        "aria-expanded": "false",
                        "aria-hidden": "true"
                    })
                    .hide(), this.active.length ? this.active.attr({
                        "aria-selected": "true",
                        tabIndex: 0
                    })
                    .next()
                    .attr({
                        "aria-expanded": "true",
                        "aria-hidden": "false"
                    }) : this.headers.eq(0)
                    .attr("tabIndex", 0), this._createIcons(), this._setupEvents(s.event), "fill" === n ? (i = o.height(), this.element.siblings(
                            ":visible")
                        .each(function () {
                            var e = t(this),
                                s = e.css("position");
                            "absolute" !== s && "fixed" !== s && (i -= e.outerHeight(!0))
                        }), this.headers.each(function () {
                            i -= t(this)
                                .outerHeight(!0)
                        }), this.headers.next()
                        .each(function () {
                            t(this)
                                .height(Math.max(0, i - t(this)
                                    .innerHeight() + t(this)
                                    .height()))
                        })
                        .css("overflow", "auto")) : "auto" === n && (i = 0, this.headers.next()
                        .each(function () {
                            i = Math.max(i, t(this)
                                .css("height", "")
                                .height())
                        })
                        .height(i))
            },
            _activate: function (e) {
                var i = this._findActive(e)[0];
                i !== this.active[0] && (i = i || this.active[0], this._eventHandler({
                    target: i,
                    currentTarget: i,
                    preventDefault: t.noop
                }))
            },
            _findActive: function (e) {
                return "number" == typeof e ? this.headers.eq(e) : t()
            },
            _setupEvents: function (e) {
                var i = {
                    keydown: "_keydown"
                };
                e && t.each(e.split(" "), function (t, e) {
                    i[e] = "_eventHandler"
                }), this._off(this.headers.add(this.headers.next())), this._on(this.headers, i), this._on(this.headers.next(), {
                    keydown: "_panelKeyDown"
                }), this._hoverable(this.headers), this._focusable(this.headers)
            },
            _eventHandler: function (e) {
                var i = this.options,
                    s = this.active,
                    n = t(e.currentTarget),
                    o = n[0] === s[0],
                    a = o && i.collapsible,
                    r = a ? t() : n.next(),
                    h = s.next(),
                    l = {
                        oldHeader: s,
                        oldPanel: h,
                        newHeader: a ? t() : n,
                        newPanel: r
                    };
                e.preventDefault(), o && !i.collapsible || this._trigger("beforeActivate", e, l) === !1 || (i.active = a ? !1 : this.headers.index(n),
                    this.active = o ? t() : n, this._toggle(l), s.removeClass("ui-accordion-header-active ui-state-active"), i.icons && s.children(
                        ".ui-accordion-header-icon")
                    .removeClass(i.icons.activeHeader)
                    .addClass(i.icons.header), o || (n.removeClass("ui-corner-all")
                        .addClass("ui-accordion-header-active ui-state-active ui-corner-top"), i.icons && n.children(".ui-accordion-header-icon")
                        .removeClass(i.icons.header)
                        .addClass(i.icons.activeHeader), n.next()
                        .addClass("ui-accordion-content-active")))
            },
            _toggle: function (e) {
                var i = e.newPanel,
                    s = this.prevShow.length ? this.prevShow : e.oldPanel;
                this.prevShow.add(this.prevHide)
                    .stop(!0, !0), this.prevShow = i, this.prevHide = s, this.options.animate ? this._animate(i, s, e) : (s.hide(), i.show(), this._toggleComplete(
                        e)), s.attr({
                        "aria-expanded": "false",
                        "aria-hidden": "true"
                    }), s.prev()
                    .attr("aria-selected", "false"), i.length && s.length ? s.prev()
                    .attr("tabIndex", -1) : i.length && this.headers.filter(function () {
                        return 0 === t(this)
                            .attr("tabIndex")
                    })
                    .attr("tabIndex", -1), i.attr({
                        "aria-expanded": "true",
                        "aria-hidden": "false"
                    })
                    .prev()
                    .attr({
                        "aria-selected": "true",
                        tabIndex: 0
                    })
            },
            _animate: function (t, e, n) {
                var o, a, r, h = this,
                    l = 0,
                    c = t.length && (!e.length || t.index() < e.index()),
                    u = this.options.animate || {},
                    d = c && u.down || u,
                    p = function () {
                        h._toggleComplete(n)
                    };
                return "number" == typeof d && (r = d), "string" == typeof d && (a = d), a = a || d.easing || u.easing, r = r || d.duration || u.duration,
                    e.length ? t.length ? (o = t.show()
                        .outerHeight(), e.animate(i, {
                            duration: r,
                            easing: a,
                            step: function (t, e) {
                                e.now = Math.round(t)
                            }
                        }), t.hide()
                        .animate(s, {
                            duration: r,
                            easing: a,
                            complete: p,
                            step: function (t, i) {
                                i.now = Math.round(t), "height" !== i.prop ? l += i.now : "content" !== h.options.heightStyle && (i.now = Math.round(
                                    o - e.outerHeight() - l), l = 0)
                            }
                        }), undefined) : e.animate(i, r, a, p) : t.animate(s, r, a, p)
            },
            _toggleComplete: function (t) {
                var e = t.oldPanel;
                e.removeClass("ui-accordion-content-active")
                    .prev()
                    .removeClass("ui-corner-top")
                    .addClass("ui-corner-all"), e.length && (e.parent()[0].className = e.parent()[0].className), this._trigger("activate", null, t)
            }
        })
}(jQuery),
function (t) {
    var e = 0;
    t.widget("ui.autocomplete", {
        version: "1.10.3",
        defaultElement: "<input>",
        options: {
            appendTo: null,
            autoFocus: !1,
            delay: 300,
            minLength: 1,
            position: {
                my: "left top",
                at: "left bottom",
                collision: "none"
            },
            source: null,
            change: null,
            close: null,
            focus: null,
            open: null,
            response: null,
            search: null,
            select: null
        },
        pending: 0,
        _create: function () {
            var e, i, s, n = this.element[0].nodeName.toLowerCase(),
                o = "textarea" === n,
                a = "input" === n;
            this.isMultiLine = o ? !0 : a ? !1 : this.element.prop("isContentEditable"), this.valueMethod = this.element[o || a ? "val" : "text"],
                this.isNewMenu = !0, this.element.addClass("ui-autocomplete-input")
                .attr("autocomplete", "off"), this._on(this.element, {
                    keydown: function (n) {
                        if (this.element.prop("readOnly")) return e = !0, s = !0, i = !0, undefined;
                        e = !1, s = !1, i = !1;
                        var o = t.ui.keyCode;
                        switch (n.keyCode) {
                        case o.PAGE_UP:
                            e = !0, this._move("previousPage", n);
                            break;
                        case o.PAGE_DOWN:
                            e = !0, this._move("nextPage", n);
                            break;
                        case o.UP:
                            e = !0, this._keyEvent("previous", n);
                            break;
                        case o.DOWN:
                            e = !0, this._keyEvent("next", n);
                            break;
                        case o.ENTER:
                        case o.NUMPAD_ENTER:
                            this.menu.active && (e = !0, n.preventDefault(), this.menu.select(n));
                            break;
                        case o.TAB:
                            this.menu.active && this.menu.select(n);
                            break;
                        case o.ESCAPE:
                            this.menu.element.is(":visible") && (this._value(this.term), this.close(n), n.preventDefault());
                            break;
                        default:
                            i = !0, this._searchTimeout(n)
                        }
                    },
                    keypress: function (s) {
                        if (e) return e = !1, (!this.isMultiLine || this.menu.element.is(":visible")) && s.preventDefault(), undefined;
                        if (!i) {
                            var n = t.ui.keyCode;
                            switch (s.keyCode) {
                            case n.PAGE_UP:
                                this._move("previousPage", s);
                                break;
                            case n.PAGE_DOWN:
                                this._move("nextPage", s);
                                break;
                            case n.UP:
                                this._keyEvent("previous", s);
                                break;
                            case n.DOWN:
                                this._keyEvent("next", s)
                            }
                        }
                    },
                    input: function (t) {
                        return s ? (s = !1, t.preventDefault(), undefined) : (this._searchTimeout(t), undefined)
                    },
                    focus: function () {
                        this.selectedItem = null, this.previous = this._value()
                    },
                    blur: function (t) {
                        return this.cancelBlur ? (delete this.cancelBlur, undefined) : (clearTimeout(this.searching), this.close(t), this._change(
                            t), undefined)
                    }
                }), this._initSource(), this.menu = t("<ul>")
                .addClass("ui-autocomplete ui-front")
                .appendTo(this._appendTo())
                .menu({
                    role: null
                })
                .hide()
                .data("ui-menu"), this._on(this.menu.element, {
                    mousedown: function (e) {
                        e.preventDefault(), this.cancelBlur = !0, this._delay(function () {
                            delete this.cancelBlur
                        });
                        var i = this.menu.element[0];
                        t(e.target)
                            .closest(".ui-menu-item")
                            .length || this._delay(function () {
                                var e = this;
                                this.document.one("mousedown", function (s) {
                                    s.target === e.element[0] || s.target === i || t.contains(i, s.target) || e.close()
                                })
                            })
                    },
                    menufocus: function (e, i) {
                        if (this.isNewMenu && (this.isNewMenu = !1, e.originalEvent && /^mouse/.test(e.originalEvent.type))) return this.menu
                            .blur(), this.document.one("mousemove", function () {
                                t(e.target)
                                    .trigger(e.originalEvent)
                            }), undefined;
                        var s = i.item.data("ui-autocomplete-item");
                        !1 !== this._trigger("focus", e, {
                            item: s
                        }) ? e.originalEvent && /^key/.test(e.originalEvent.type) && this._value(s.value) : this.liveRegion.text(s.value)
                    },
                    menuselect: function (t, e) {
                        var i = e.item.data("ui-autocomplete-item"),
                            s = this.previous;
                        this.element[0] !== this.document[0].activeElement && (this.element.focus(), this.previous = s, this._delay(
                            function () {
                                this.previous = s, this.selectedItem = i
                            })), !1 !== this._trigger("select", t, {
                            item: i
                        }) && this._value(i.value), this.term = this._value(), this.close(t), this.selectedItem = i
                    }
                }), this.liveRegion = t("<span>", {
                    role: "status",
                    "aria-live": "polite"
                })
                .addClass("ui-helper-hidden-accessible")
                .insertBefore(this.element), this._on(this.window, {
                    beforeunload: function () {
                        this.element.removeAttr("autocomplete")
                    }
                })
        },
        _destroy: function () {
            clearTimeout(this.searching), this.element.removeClass("ui-autocomplete-input")
                .removeAttr("autocomplete"), this.menu.element.remove(), this.liveRegion.remove()
        },
        _setOption: function (t, e) {
            this._super(t, e), "source" === t && this._initSource(), "appendTo" === t && this.menu.element.appendTo(this._appendTo()), "disabled" ===
                t && e && this.xhr && this.xhr.abort()
        },
        _appendTo: function () {
            var e = this.options.appendTo;
            return e && (e = e.jquery || e.nodeType ? t(e) : this.document.find(e)
                .eq(0)), e || (e = this.element.closest(".ui-front")), e.length || (e = this.document[0].body), e
        },
        _initSource: function () {
            var e, i, s = this;
            t.isArray(this.options.source) ? (e = this.options.source, this.source = function (i, s) {
                s(t.ui.autocomplete.filter(e, i.term))
            }) : "string" == typeof this.options.source ? (i = this.options.source, this.source = function (e, n) {
                s.xhr && s.xhr.abort(), s.xhr = t.ajax({
                    url: i,
                    data: e,
                    dataType: "json",
                    success: function (t) {
                        n(t)
                    },
                    error: function () {
                        n([])
                    }
                })
            }) : this.source = this.options.source
        },
        _searchTimeout: function (t) {
            clearTimeout(this.searching), this.searching = this._delay(function () {
                this.term !== this._value() && (this.selectedItem = null, this.search(null, t))
            }, this.options.delay)
        },
        search: function (t, e) {
            return t = null != t ? t : this._value(), this.term = this._value(), t.length < this.options.minLength ? this.close(e) : this._trigger(
                "search", e) !== !1 ? this._search(t) : undefined
        },
        _search: function (t) {
            this.pending++, this.element.addClass("ui-autocomplete-loading"), this.cancelSearch = !1, this.source({
                term: t
            }, this._response())
        },
        _response: function () {
            var t = this,
                i = ++e;
            return function (s) {
                i === e && t.__response(s), t.pending--, t.pending || t.element.removeClass("ui-autocomplete-loading")
            }
        },
        __response: function (t) {
            t && (t = this._normalize(t)), this._trigger("response", null, {
                content: t
            }), !this.options.disabled && t && t.length && !this.cancelSearch ? (this._suggest(t), this._trigger("open")) : this._close()
        },
        close: function (t) {
            this.cancelSearch = !0, this._close(t)
        },
        _close: function (t) {
            this.menu.element.is(":visible") && (this.menu.element.hide(), this.menu.blur(), this.isNewMenu = !0, this._trigger("close", t))
        },
        _change: function (t) {
            this.previous !== this._value() && this._trigger("change", t, {
                item: this.selectedItem
            })
        },
        _normalize: function (e) {
            return e.length && e[0].label && e[0].value ? e : t.map(e, function (e) {
                return "string" == typeof e ? {
                    label: e,
                    value: e
                } : t.extend({
                    label: e.label || e.value,
                    value: e.value || e.label
                }, e)
            })
        },
        _suggest: function (e) {
            var i = this.menu.element.empty();
            this._renderMenu(i, e), this.isNewMenu = !0, this.menu.refresh(), i.show(), this._resizeMenu(), i.position(t.extend({
                of: this.element
            }, this.options.position)), this.options.autoFocus && this.menu.next()
        },
        _resizeMenu: function () {
            var t = this.menu.element;
            t.outerWidth(Math.max(t.width("")
                .outerWidth() + 1, this.element.outerWidth()))
        },
        _renderMenu: function (e, i) {
            var s = this;
            t.each(i, function (t, i) {
                s._renderItemData(e, i)
            })
        },
        _renderItemData: function (t, e) {
            return this._renderItem(t, e)
                .data("ui-autocomplete-item", e)
        },
        _renderItem: function (e, i) {
            return t("<li>")
                .append(t("<a>")
                    .text(i.label))
                .appendTo(e)
        },
        _move: function (t, e) {
            return this.menu.element.is(":visible") ? this.menu.isFirstItem() && /^previous/.test(t) || this.menu.isLastItem() && /^next/.test(t) ?
                (this._value(this.term), this.menu.blur(), undefined) : (this.menu[t](e), undefined) : (this.search(null, e), undefined)
        },
        widget: function () {
            return this.menu.element
        },
        _value: function () {
            return this.valueMethod.apply(this.element, arguments)
        },
        _keyEvent: function (t, e) {
            (!this.isMultiLine || this.menu.element.is(":visible")) && (this._move(t, e), e.preventDefault())
        }
    }), t.extend(t.ui.autocomplete, {
        escapeRegex: function (t) {
            return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g, "\\$&")
        },
        filter: function (e, i) {
            var s = RegExp(t.ui.autocomplete.escapeRegex(i), "i");
            return t.grep(e, function (t) {
                return s.test(t.label || t.value || t)
            })
        }
    }), t.widget("ui.autocomplete", t.ui.autocomplete, {
        options: {
            messages: {
                noResults: "No search results.",
                results: function (t) {
                    return t + (t > 1 ? " results are" : " result is") + " available, use up and down arrow keys to navigate."
                }
            }
        },
        __response: function (t) {
            var e;
            this._superApply(arguments), this.options.disabled || this.cancelSearch || (e = t && t.length ? this.options.messages.results(t.length) :
                this.options.messages.noResults, this.liveRegion.text(e))
        }
    })
}(jQuery),
function (t) {
    var e, i, s, n, o = "ui-button ui-widget ui-state-default ui-corner-all",
        a = "ui-state-hover ui-state-active ",
        r = "ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",
        h = function () {
            var e = t(this);
            setTimeout(function () {
                e.find(":ui-button")
                    .button("refresh")
            }, 1)
        },
        l = function (e) {
            var i = e.name,
                s = e.form,
                n = t([]);
            return i && (i = i.replace(/'/g, "\\'"), n = s ? t(s)
                .find("[name='" + i + "']") : t("[name='" + i + "']", e.ownerDocument)
                .filter(function () {
                    return !this.form
                })), n
        };
    t.widget("ui.button", {
        version: "1.10.3",
        defaultElement: "<button>",
        options: {
            disabled: null,
            text: !0,
            label: null,
            icons: {
                primary: null,
                secondary: null
            }
        },
        _create: function () {
            this.element.closest("form")
                .unbind("reset" + this.eventNamespace)
                .bind("reset" + this.eventNamespace, h), "boolean" != typeof this.options.disabled ? this.options.disabled = !!this.element.prop(
                    "disabled") : this.element.prop("disabled", this.options.disabled), this._determineButtonType(), this.hasTitle = !!this.buttonElement
                .attr("title");
            var a = this,
                r = this.options,
                c = "checkbox" === this.type || "radio" === this.type,
                u = c ? "" : "ui-state-active",
                d = "ui-state-focus";
            null === r.label && (r.label = "input" === this.type ? this.buttonElement.val() : this.buttonElement.html()), this._hoverable(this.buttonElement),
                this.buttonElement.addClass(o)
                .attr("role", "button")
                .bind("mouseenter" + this.eventNamespace, function () {
                    r.disabled || this === e && t(this)
                        .addClass("ui-state-active")
                })
                .bind("mouseleave" + this.eventNamespace, function () {
                    r.disabled || t(this)
                        .removeClass(u)
                })
                .bind("click" + this.eventNamespace, function (t) {
                    r.disabled && (t.preventDefault(), t.stopImmediatePropagation())
                }), this.element.bind("focus" + this.eventNamespace, function () {
                    a.buttonElement.addClass(d)
                })
                .bind("blur" + this.eventNamespace, function () {
                    a.buttonElement.removeClass(d)
                }), c && (this.element.bind("change" + this.eventNamespace, function () {
                        n || a.refresh()
                    }), this.buttonElement.bind("mousedown" + this.eventNamespace, function (t) {
                        r.disabled || (n = !1, i = t.pageX, s = t.pageY)
                    })
                    .bind("mouseup" + this.eventNamespace, function (t) {
                        r.disabled || (i !== t.pageX || s !== t.pageY) && (n = !0)
                    })), "checkbox" === this.type ? this.buttonElement.bind("click" + this.eventNamespace, function () {
                    return r.disabled || n ? !1 : undefined
                }) : "radio" === this.type ? this.buttonElement.bind("click" + this.eventNamespace, function () {
                    if (r.disabled || n) return !1;
                    t(this)
                        .addClass("ui-state-active"), a.buttonElement.attr("aria-pressed", "true");
                    var e = a.element[0];
                    l(e)
                        .not(e)
                        .map(function () {
                            return t(this)
                                .button("widget")[0]
                        })
                        .removeClass("ui-state-active")
                        .attr("aria-pressed", "false")
                }) : (this.buttonElement.bind("mousedown" + this.eventNamespace, function () {
                        return r.disabled ? !1 : (t(this)
                            .addClass("ui-state-active"), e = this, a.document.one("mouseup", function () {
                                e = null
                            }), undefined)
                    })
                    .bind("mouseup" + this.eventNamespace, function () {
                        return r.disabled ? !1 : (t(this)
                            .removeClass("ui-state-active"), undefined)
                    })
                    .bind("keydown" + this.eventNamespace, function (e) {
                        return r.disabled ? !1 : ((e.keyCode === t.ui.keyCode.SPACE || e.keyCode === t.ui.keyCode.ENTER) && t(this)
                            .addClass("ui-state-active"), undefined)
                    })
                    .bind("keyup" + this.eventNamespace + " blur" + this.eventNamespace, function () {
                        t(this)
                            .removeClass("ui-state-active")
                    }), this.buttonElement.is("a") && this.buttonElement.keyup(function (e) {
                        e.keyCode === t.ui.keyCode.SPACE && t(this)
                            .click()
                    })), this._setOption("disabled", r.disabled), this._resetButton()
        },
        _determineButtonType: function () {
            var t, e, i;
            this.type = this.element.is("[type=checkbox]") ? "checkbox" : this.element.is("[type=radio]") ? "radio" : this.element.is("input") ?
                "input" : "button", "checkbox" === this.type || "radio" === this.type ? (t = this.element.parents()
                    .last(), e = "label[for='" + this.element.attr("id") + "']", this.buttonElement = t.find(e), this.buttonElement.length || (t =
                        t.length ? t.siblings() : this.element.siblings(), this.buttonElement = t.filter(e), this.buttonElement.length || (this.buttonElement =
                            t.find(e))), this.element.addClass("ui-helper-hidden-accessible"), i = this.element.is(":checked"), i && this.buttonElement
                    .addClass("ui-state-active"), this.buttonElement.prop("aria-pressed", i)) : this.buttonElement = this.element
        },
        widget: function () {
            return this.buttonElement
        },
        _destroy: function () {
            this.element.removeClass("ui-helper-hidden-accessible"), this.buttonElement.removeClass(o + " " + a + " " + r)
                .removeAttr("role")
                .removeAttr("aria-pressed")
                .html(this.buttonElement.find(".ui-button-text")
                    .html()), this.hasTitle || this.buttonElement.removeAttr("title")
        },
        _setOption: function (t, e) {
            return this._super(t, e), "disabled" === t ? (e ? this.element.prop("disabled", !0) : this.element.prop("disabled", !1), undefined) : (
                this._resetButton(), undefined)
        },
        refresh: function () {
            var e = this.element.is("input, button") ? this.element.is(":disabled") : this.element.hasClass("ui-button-disabled");
            e !== this.options.disabled && this._setOption("disabled", e), "radio" === this.type ? l(this.element[0])
                .each(function () {
                    t(this)
                        .is(":checked") ? t(this)
                        .button("widget")
                        .addClass("ui-state-active")
                        .attr("aria-pressed", "true") : t(this)
                        .button("widget")
                        .removeClass("ui-state-active")
                        .attr("aria-pressed", "false")
                }) : "checkbox" === this.type && (this.element.is(":checked") ? this.buttonElement.addClass("ui-state-active")
                    .attr("aria-pressed", "true") : this.buttonElement.removeClass("ui-state-active")
                    .attr("aria-pressed", "false"))
        },
        _resetButton: function () {
            if ("input" === this.type) return this.options.label && this.element.val(this.options.label), undefined;
            var e = this.buttonElement.removeClass(r),
                i = t("<span></span>", this.document[0])
                .addClass("ui-button-text")
                .html(this.options.label)
                .appendTo(e.empty())
                .text(),
                s = this.options.icons,
                n = s.primary && s.secondary,
                o = [];
            s.primary || s.secondary ? (this.options.text && o.push("ui-button-text-icon" + (n ? "s" : s.primary ? "-primary" : "-secondary")), s.primary &&
                e.prepend("<span class='ui-button-icon-primary ui-icon " + s.primary + "'></span>"), s.secondary && e.append(
                    "<span class='ui-button-icon-secondary ui-icon " + s.secondary + "'></span>"), this.options.text || (o.push(n ?
                    "ui-button-icons-only" : "ui-button-icon-only"), this.hasTitle || e.attr("title", t.trim(i)))) : o.push(
                "ui-button-text-only"), e.addClass(o.join(" "))
        }
    }), t.widget("ui.buttonset", {
        version: "1.10.3",
        options: {
            items: "button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"
        },
        _create: function () {
            this.element.addClass("ui-buttonset")
        },
        _init: function () {
            this.refresh()
        },
        _setOption: function (t, e) {
            "disabled" === t && this.buttons.button("option", t, e), this._super(t, e)
        },
        refresh: function () {
            var e = "rtl" === this.element.css("direction");
            this.buttons = this.element.find(this.options.items)
                .filter(":ui-button")
                .button("refresh")
                .end()
                .not(":ui-button")
                .button()
                .end()
                .map(function () {
                    return t(this)
                        .button("widget")[0]
                })
                .removeClass("ui-corner-all ui-corner-left ui-corner-right")
                .filter(":first")
                .addClass(e ? "ui-corner-right" : "ui-corner-left")
                .end()
                .filter(":last")
                .addClass(e ? "ui-corner-left" : "ui-corner-right")
                .end()
                .end()
        },
        _destroy: function () {
            this.element.removeClass("ui-buttonset"), this.buttons.map(function () {
                    return t(this)
                        .button("widget")[0]
                })
                .removeClass("ui-corner-left ui-corner-right")
                .end()
                .button("destroy")
        }
    })
}(jQuery),
function (t, e) {
    function i() {
        this._curInst = null, this._keyEvent = !1, this._disabledInputs = [], this._datepickerShowing = !1, this._inDialog = !1, this._mainDivId =
            "ui-datepicker-div", this._inlineClass = "ui-datepicker-inline", this._appendClass = "ui-datepicker-append", this._triggerClass =
            "ui-datepicker-trigger", this._dialogClass = "ui-datepicker-dialog", this._disableClass = "ui-datepicker-disabled", this._unselectableClass =
            "ui-datepicker-unselectable", this._currentClass = "ui-datepicker-current-day", this._dayOverClass = "ui-datepicker-days-cell-over", this.regional = [],
            this.regional[""] = {
                closeText: "Done",
                prevText: "Prev",
                nextText: "Next",
                currentText: "Today",
                monthNames: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
                monthNamesShort: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
                dayNames: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
                dayNamesShort: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
                dayNamesMin: ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"],
                weekHeader: "Wk",
                dateFormat: "mm/dd/yy",
                firstDay: 0,
                isRTL: !1,
                showMonthAfterYear: !1,
                yearSuffix: ""
            }, this._defaults = {
                showOn: "focus",
                showAnim: "fadeIn",
                showOptions: {},
                defaultDate: null,
                appendText: "",
                buttonText: "...",
                buttonImage: "",
                buttonImageOnly: !1,
                hideIfNoPrevNext: !1,
                navigationAsDateFormat: !1,
                gotoCurrent: !1,
                changeMonth: !1,
                changeYear: !1,
                yearRange: "c-10:c+10",
                showOtherMonths: !1,
                selectOtherMonths: !1,
                showWeek: !1,
                calculateWeek: this.iso8601Week,
                shortYearCutoff: "+10",
                minDate: null,
                maxDate: null,
                duration: "fast",
                beforeShowDay: null,
                beforeShow: null,
                onSelect: null,
                onChangeMonthYear: null,
                onClose: null,
                numberOfMonths: 1,
                showCurrentAtPos: 0,
                stepMonths: 1,
                stepBigMonths: 12,
                altField: "",
                altFormat: "",
                constrainInput: !0,
                showButtonPanel: !1,
                autoSize: !1,
                disabled: !1
            }, t.extend(this._defaults, this.regional[""]), this.dpDiv = s(t("<div id='" + this._mainDivId +
                "' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))
    }

    function s(e) {
        var i = "button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";
        return e.delegate(i, "mouseout", function () {
                t(this)
                    .removeClass("ui-state-hover"), -1 !== this.className.indexOf("ui-datepicker-prev") && t(this)
                    .removeClass("ui-datepicker-prev-hover"), -1 !== this.className.indexOf("ui-datepicker-next") && t(this)
                    .removeClass("ui-datepicker-next-hover")
            })
            .delegate(i, "mouseover", function () {
                t.datepicker._isDisabledDatepicker(o.inline ? e.parent()[0] : o.input[0]) || (t(this)
                    .parents(".ui-datepicker-calendar")
                    .find("a")
                    .removeClass("ui-state-hover"), t(this)
                    .addClass("ui-state-hover"), -1 !== this.className.indexOf("ui-datepicker-prev") && t(this)
                    .addClass("ui-datepicker-prev-hover"), -1 !== this.className.indexOf("ui-datepicker-next") && t(this)
                    .addClass("ui-datepicker-next-hover"))
            })
    }

    function n(e, i) {
        t.extend(e, i);
        for (var s in i) null == i[s] && (e[s] = i[s]);
        return e
    }
    t.extend(t.ui, {
        datepicker: {
            version: "1.10.3"
        }
    });
    var o, a = "datepicker";
    t.extend(i.prototype, {
            markerClassName: "hasDatepicker",
            maxRows: 4,
            _widgetDatepicker: function () {
                return this.dpDiv
            },
            setDefaults: function (t) {
                return n(this._defaults, t || {}), this
            },
            _attachDatepicker: function (e, i) {
                var s, n, o;
                s = e.nodeName.toLowerCase(), n = "div" === s || "span" === s, e.id || (this.uuid += 1, e.id = "dp" + this.uuid), o = this._newInst(t(e),
                    n), o.settings = t.extend({}, i || {}), "input" === s ? this._connectDatepicker(e, o) : n && this._inlineDatepicker(e, o)
            },
            _newInst: function (e, i) {
                var n = e[0].id.replace(/([^A-Za-z0-9_\-])/g, "\\\\$1");
                return {
                    id: n,
                    input: e,
                    selectedDay: 0,
                    selectedMonth: 0,
                    selectedYear: 0,
                    drawMonth: 0,
                    drawYear: 0,
                    inline: i,
                    dpDiv: i ? s(t("<div class='" + this._inlineClass +
                        " ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")) : this.dpDiv
                }
            },
            _connectDatepicker: function (e, i) {
                var s = t(e);
                i.append = t([]), i.trigger = t([]), s.hasClass(this.markerClassName) || (this._attachments(s, i), s.addClass(this.markerClassName)
                    .keydown(this._doKeyDown)
                    .keypress(this._doKeyPress)
                    .keyup(this._doKeyUp), this._autoSize(i), t.data(e, a, i), i.settings.disabled && this._disableDatepicker(e))
            },
            _attachments: function (e, i) {
                var s, n, o, a = this._get(i, "appendText"),
                    r = this._get(i, "isRTL");
                i.append && i.append.remove(), a && (i.append = t("<span class='" + this._appendClass + "'>" + a + "</span>"), e[r ? "before" : "after"]
                    (i.append)), e.unbind("focus", this._showDatepicker), i.trigger && i.trigger.remove(), s = this._get(i, "showOn"), ("focus" ===
                    s || "both" === s) && e.focus(this._showDatepicker), ("button" === s || "both" === s) && (n = this._get(i, "buttonText"), o =
                    this._get(i, "buttonImage"), i.trigger = t(this._get(i, "buttonImageOnly") ? t("<img/>")
                        .addClass(this._triggerClass)
                        .attr({
                            src: o,
                            alt: n,
                            title: n
                        }) : t("<button type='button'></button>")
                        .addClass(this._triggerClass)
                        .html(o ? t("<img/>")
                            .attr({
                                src: o,
                                alt: n,
                                title: n
                            }) : n)), e[r ? "before" : "after"](i.trigger), i.trigger.click(function () {
                        return t.datepicker._datepickerShowing && t.datepicker._lastInput === e[0] ? t.datepicker._hideDatepicker() : t.datepicker
                            ._datepickerShowing && t.datepicker._lastInput !== e[0] ? (t.datepicker._hideDatepicker(), t.datepicker._showDatepicker(
                                e[0])) : t.datepicker._showDatepicker(e[0]), !1
                    }))
            },
            _autoSize: function (t) {
                if (this._get(t, "autoSize") && !t.inline) {
                    var e, i, s, n, o = new Date(2009, 11, 20),
                        a = this._get(t, "dateFormat");
                    a.match(/[DM]/) && (e = function (t) {
                        for (i = 0, s = 0, n = 0; t.length > n; n++) t[n].length > i && (i = t[n].length, s = n);
                        return s
                    }, o.setMonth(e(this._get(t, a.match(/MM/) ? "monthNames" : "monthNamesShort"))), o.setDate(e(this._get(t, a.match(/DD/) ?
                        "dayNames" : "dayNamesShort")) + 20 - o.getDay())), t.input.attr("size", this._formatDate(t, o)
                        .length)
                }
            },
            _inlineDatepicker: function (e, i) {
                var s = t(e);
                s.hasClass(this.markerClassName) || (s.addClass(this.markerClassName)
                    .append(i.dpDiv), t.data(e, a, i), this._setDate(i, this._getDefaultDate(i), !0), this._updateDatepicker(i), this._updateAlternate(
                        i), i.settings.disabled && this._disableDatepicker(e), i.dpDiv.css("display", "block"))
            },
            _dialogDatepicker: function (e, i, s, o, r) {
                var h, l, c, u, d, p = this._dialogInst;
                return p || (this.uuid += 1, h = "dp" + this.uuid, this._dialogInput = t("<input type='text' id='" + h +
                            "' style='position: absolute; top: -100px; width: 0px;'/>"), this._dialogInput.keydown(this._doKeyDown), t("body")
                        .append(this._dialogInput), p = this._dialogInst = this._newInst(this._dialogInput, !1), p.settings = {}, t.data(this._dialogInput[
                            0], a, p)), n(p.settings, o || {}), i = i && i.constructor === Date ? this._formatDate(p, i) : i, this._dialogInput.val(i),
                    this._pos = r ? r.length ? r : [r.pageX, r.pageY] : null, this._pos || (l = document.documentElement.clientWidth, c = document.documentElement
                        .clientHeight, u = document.documentElement.scrollLeft || document.body.scrollLeft, d = document.documentElement.scrollTop ||
                        document.body.scrollTop, this._pos = [l / 2 - 100 + u, c / 2 - 150 + d]), this._dialogInput.css("left", this._pos[0] + 20 +
                        "px")
                    .css("top", this._pos[1] + "px"), p.settings.onSelect = s, this._inDialog = !0, this.dpDiv.addClass(this._dialogClass), this._showDatepicker(
                        this._dialogInput[0]), t.blockUI && t.blockUI(this.dpDiv), t.data(this._dialogInput[0], a, p), this
            },
            _destroyDatepicker: function (e) {
                var i, s = t(e),
                    n = t.data(e, a);
                s.hasClass(this.markerClassName) && (i = e.nodeName.toLowerCase(), t.removeData(e, a), "input" === i ? (n.append.remove(), n.trigger.remove(),
                        s.removeClass(this.markerClassName)
                        .unbind("focus", this._showDatepicker)
                        .unbind("keydown", this._doKeyDown)
                        .unbind("keypress", this._doKeyPress)
                        .unbind("keyup", this._doKeyUp)) : ("div" === i || "span" === i) && s.removeClass(this.markerClassName)
                    .empty())
            },
            _enableDatepicker: function (e) {
                var i, s, n = t(e),
                    o = t.data(e, a);
                n.hasClass(this.markerClassName) && (i = e.nodeName.toLowerCase(), "input" === i ? (e.disabled = !1, o.trigger.filter("button")
                    .each(function () {
                        this.disabled = !1
                    })
                    .end()
                    .filter("img")
                    .css({
                        opacity: "1.0",
                        cursor: ""
                    })) : ("div" === i || "span" === i) && (s = n.children("." + this._inlineClass), s.children()
                    .removeClass("ui-state-disabled"), s.find("select.ui-datepicker-month, select.ui-datepicker-year")
                    .prop("disabled", !1)), this._disabledInputs = t.map(this._disabledInputs, function (t) {
                    return t === e ? null : t
                }))
            },
            _disableDatepicker: function (e) {
                var i, s, n = t(e),
                    o = t.data(e, a);
                n.hasClass(this.markerClassName) && (i = e.nodeName.toLowerCase(), "input" === i ? (e.disabled = !0, o.trigger.filter("button")
                    .each(function () {
                        this.disabled = !0
                    })
                    .end()
                    .filter("img")
                    .css({
                        opacity: "0.5",
                        cursor: "default"
                    })) : ("div" === i || "span" === i) && (s = n.children("." + this._inlineClass), s.children()
                    .addClass("ui-state-disabled"), s.find("select.ui-datepicker-month, select.ui-datepicker-year")
                    .prop("disabled", !0)), this._disabledInputs = t.map(this._disabledInputs, function (t) {
                    return t === e ? null : t
                }), this._disabledInputs[this._disabledInputs.length] = e)
            },
            _isDisabledDatepicker: function (t) {
                if (!t) return !1;
                for (var e = 0; this._disabledInputs.length > e; e++)
                    if (this._disabledInputs[e] === t) return !0;
                return !1
            },
            _getInst: function (e) {
                try {
                    return t.data(e, a)
                } catch (i) {
                    throw "Missing instance data for this datepicker"
                }
            },
            _optionDatepicker: function (i, s, o) {
                var a, r, h, l, c = this._getInst(i);
                return 2 === arguments.length && "string" == typeof s ? "defaults" === s ? t.extend({}, t.datepicker._defaults) : c ? "all" === s ? t.extend({},
                    c.settings) : this._get(c, s) : null : (a = s || {}, "string" == typeof s && (a = {}, a[s] = o), c && (this._curInst === c &&
                    this._hideDatepicker(), r = this._getDateDatepicker(i, !0), h = this._getMinMaxDate(c, "min"), l = this._getMinMaxDate(c,
                        "max"), n(c.settings, a), null !== h && a.dateFormat !== e && a.minDate === e && (c.settings.minDate = this._formatDate(
                        c, h)), null !== l && a.dateFormat !== e && a.maxDate === e && (c.settings.maxDate = this._formatDate(c, l)),
                    "disabled" in a && (a.disabled ? this._disableDatepicker(i) : this._enableDatepicker(i)), this._attachments(t(i), c), this._autoSize(
                        c), this._setDate(c, r), this._updateAlternate(c), this._updateDatepicker(c)), e)
            },
            _changeDatepicker: function (t, e, i) {
                this._optionDatepicker(t, e, i)
            },
            _refreshDatepicker: function (t) {
                var e = this._getInst(t);
                e && this._updateDatepicker(e)
            },
            _setDateDatepicker: function (t, e) {
                var i = this._getInst(t);
                i && (this._setDate(i, e), this._updateDatepicker(i), this._updateAlternate(i))
            },
            _getDateDatepicker: function (t, e) {
                var i = this._getInst(t);
                return i && !i.inline && this._setDateFromField(i, e), i ? this._getDate(i) : null
            },
            _doKeyDown: function (e) {
                var i, s, n, o = t.datepicker._getInst(e.target),
                    a = !0,
                    r = o.dpDiv.is(".ui-datepicker-rtl");
                if (o._keyEvent = !0, t.datepicker._datepickerShowing) switch (e.keyCode) {
                case 9:
                    t.datepicker._hideDatepicker(), a = !1;
                    break;
                case 13:
                    return n = t("td." + t.datepicker._dayOverClass + ":not(." + t.datepicker._currentClass + ")", o.dpDiv), n[0] && t.datepicker._selectDay(
                        e.target, o.selectedMonth, o.selectedYear, n[0]), i = t.datepicker._get(o, "onSelect"), i ? (s = t.datepicker._formatDate(
                        o), i.apply(o.input ? o.input[0] : null, [s, o])) : t.datepicker._hideDatepicker(), !1;
                case 27:
                    t.datepicker._hideDatepicker();
                    break;
                case 33:
                    t.datepicker._adjustDate(e.target, e.ctrlKey ? -t.datepicker._get(o, "stepBigMonths") : -t.datepicker._get(o, "stepMonths"),
                        "M");
                    break;
                case 34:
                    t.datepicker._adjustDate(e.target, e.ctrlKey ? +t.datepicker._get(o, "stepBigMonths") : +t.datepicker._get(o, "stepMonths"),
                        "M");
                    break;
                case 35:
                    (e.ctrlKey || e.metaKey) && t.datepicker._clearDate(e.target), a = e.ctrlKey || e.metaKey;
                    break;
                case 36:
                    (e.ctrlKey || e.metaKey) && t.datepicker._gotoToday(e.target), a = e.ctrlKey || e.metaKey;
                    break;
                case 37:
                    (e.ctrlKey || e.metaKey) && t.datepicker._adjustDate(e.target, r ? 1 : -1, "D"), a = e.ctrlKey || e.metaKey, e.originalEvent.altKey &&
                        t.datepicker._adjustDate(e.target, e.ctrlKey ? -t.datepicker._get(o, "stepBigMonths") : -t.datepicker._get(o, "stepMonths"),
                            "M");
                    break;
                case 38:
                    (e.ctrlKey || e.metaKey) && t.datepicker._adjustDate(e.target, -7, "D"), a = e.ctrlKey || e.metaKey;
                    break;
                case 39:
                    (e.ctrlKey || e.metaKey) && t.datepicker._adjustDate(e.target, r ? -1 : 1, "D"), a = e.ctrlKey || e.metaKey, e.originalEvent.altKey &&
                        t.datepicker._adjustDate(e.target, e.ctrlKey ? +t.datepicker._get(o, "stepBigMonths") : +t.datepicker._get(o, "stepMonths"),
                            "M");
                    break;
                case 40:
                    (e.ctrlKey || e.metaKey) && t.datepicker._adjustDate(e.target, 7, "D"), a = e.ctrlKey || e.metaKey;
                    break;
                default:
                    a = !1
                } else 36 === e.keyCode && e.ctrlKey ? t.datepicker._showDatepicker(this) : a = !1;
                a && (e.preventDefault(), e.stopPropagation())
            },
            _doKeyPress: function (i) {
                var s, n, o = t.datepicker._getInst(i.target);
                return t.datepicker._get(o, "constrainInput") ? (s = t.datepicker._possibleChars(t.datepicker._get(o, "dateFormat")), n = String.fromCharCode(
                    null == i.charCode ? i.keyCode : i.charCode), i.ctrlKey || i.metaKey || " " > n || !s || s.indexOf(n) > -1) : e
            },
            _doKeyUp: function (e) {
                var i, s = t.datepicker._getInst(e.target);
                if (s.input.val() !== s.lastVal) try {
                    i = t.datepicker.parseDate(t.datepicker._get(s, "dateFormat"), s.input ? s.input.val() : null, t.datepicker._getFormatConfig(s)),
                        i && (t.datepicker._setDateFromField(s), t.datepicker._updateAlternate(s), t.datepicker._updateDatepicker(s))
                } catch (n) {}
                return !0
            },
            _showDatepicker: function (e) {
                if (e = e.target || e, "input" !== e.nodeName.toLowerCase() && (e = t("input", e.parentNode)[0]), !t.datepicker._isDisabledDatepicker(e) &&
                    t.datepicker._lastInput !== e) {
                    var i, s, o, a, r, h, l;
                    i = t.datepicker._getInst(e), t.datepicker._curInst && t.datepicker._curInst !== i && (t.datepicker._curInst.dpDiv.stop(!0, !0), i &&
                        t.datepicker._datepickerShowing && t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])), s = t.datepicker._get(i,
                        "beforeShow"), o = s ? s.apply(e, [e, i]) : {}, o !== !1 && (n(i.settings, o), i.lastVal = null, t.datepicker._lastInput =
                        e, t.datepicker._setDateFromField(i), t.datepicker._inDialog && (e.value = ""), t.datepicker._pos || (t.datepicker._pos = t
                            .datepicker._findPos(e), t.datepicker._pos[1] += e.offsetHeight), a = !1, t(e)
                        .parents()
                        .each(function () {
                            return a |= "fixed" === t(this)
                                .css("position"), !a
                        }), r = {
                            left: t.datepicker._pos[0],
                            top: t.datepicker._pos[1]
                        }, t.datepicker._pos = null, i.dpDiv.empty(), i.dpDiv.css({
                            position: "absolute",
                            display: "block",
                            top: "-1000px"
                        }), t.datepicker._updateDatepicker(i), r = t.datepicker._checkOffset(i, r, a), i.dpDiv.css({
                            position: t.datepicker._inDialog && t.blockUI ? "static" : a ? "fixed" : "absolute",
                            display: "none",
                            left: r.left + "px",
                            top: r.top + "px"
                        }), i.inline || (h = t.datepicker._get(i, "showAnim"), l = t.datepicker._get(i, "duration"), i.dpDiv.zIndex(t(e)
                                .zIndex() + 1), t.datepicker._datepickerShowing = !0, t.effects && t.effects.effect[h] ? i.dpDiv.show(h, t.datepicker
                                ._get(i, "showOptions"), l) : i.dpDiv[h || "show"](h ? l : null), t.datepicker._shouldFocusInput(i) && i.input.focus(),
                            t.datepicker._curInst = i))
                }
            },
            _updateDatepicker: function (e) {
                this.maxRows = 4, o = e, e.dpDiv.empty()
                    .append(this._generateHTML(e)), this._attachHandlers(e), e.dpDiv.find("." + this._dayOverClass + " a")
                    .mouseover();
                var i, s = this._getNumberOfMonths(e),
                    n = s[1],
                    a = 17;
                e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4")
                    .width(""), n > 1 && e.dpDiv.addClass("ui-datepicker-multi-" + n)
                    .css("width", a * n + "em"), e.dpDiv[(1 !== s[0] || 1 !== s[1] ? "add" : "remove") + "Class"]("ui-datepicker-multi"), e.dpDiv[(this
                        ._get(e, "isRTL") ? "add" : "remove") + "Class"]("ui-datepicker-rtl"), e === t.datepicker._curInst && t.datepicker._datepickerShowing &&
                    t.datepicker._shouldFocusInput(e) && e.input.focus(), e.yearshtml && (i = e.yearshtml, setTimeout(function () {
                        i === e.yearshtml && e.yearshtml && e.dpDiv.find("select.ui-datepicker-year:first")
                            .replaceWith(e.yearshtml), i = e.yearshtml = null
                    }, 0))
            },
            _shouldFocusInput: function (t) {
                return t.input && t.input.is(":visible") && !t.input.is(":disabled") && !t.input.is(":focus")
            },
            _checkOffset: function (e, i, s) {
                var n = e.dpDiv.outerWidth(),
                    o = e.dpDiv.outerHeight(),
                    a = e.input ? e.input.outerWidth() : 0,
                    r = e.input ? e.input.outerHeight() : 0,
                    h = document.documentElement.clientWidth + (s ? 0 : t(document)
                        .scrollLeft()),
                    l = document.documentElement.clientHeight + (s ? 0 : t(document)
                        .scrollTop());
                return i.left -= this._get(e, "isRTL") ? n - a : 0, i.left -= s && i.left === e.input.offset()
                    .left ? t(document)
                    .scrollLeft() : 0, i.top -= s && i.top === e.input.offset()
                    .top + r ? t(document)
                    .scrollTop() : 0, i.left -= Math.min(i.left, i.left + n > h && h > n ? Math.abs(i.left + n - h) : 0), i.top -= Math.min(i.top, i.top +
                        o > l && l > o ? Math.abs(o + r) : 0), i
            },
            _findPos: function (e) {
                for (var i, s = this._getInst(e), n = this._get(s, "isRTL"); e && ("hidden" === e.type || 1 !== e.nodeType || t.expr.filters.hidden(e));)
                    e = e[n ? "previousSibling" : "nextSibling"];
                return i = t(e)
                    .offset(), [i.left, i.top]
            },
            _hideDatepicker: function (e) {
                var i, s, n, o, r = this._curInst;
                !r || e && r !== t.data(e, a) || this._datepickerShowing && (i = this._get(r, "showAnim"), s = this._get(r, "duration"), n = function () {
                        t.datepicker._tidyDialog(r)
                    }, t.effects && (t.effects.effect[i] || t.effects[i]) ? r.dpDiv.hide(i, t.datepicker._get(r, "showOptions"), s, n) : r.dpDiv[
                        "slideDown" === i ? "slideUp" : "fadeIn" === i ? "fadeOut" : "hide"](i ? s : null, n), i || n(), this._datepickerShowing = !
                    1, o = this._get(r, "onClose"), o && o.apply(r.input ? r.input[0] : null, [r.input ? r.input.val() : "", r]), this._lastInput =
                    null, this._inDialog && (this._dialogInput.css({
                        position: "absolute",
                        left: "0",
                        top: "-100px"
                    }), t.blockUI && (t.unblockUI(), t("body")
                        .append(this.dpDiv))), this._inDialog = !1)
            },
            _tidyDialog: function (t) {
                t.dpDiv.removeClass(this._dialogClass)
                    .unbind(".ui-datepicker-calendar")
            },
            _checkExternalClick: function (e) {
                if (t.datepicker._curInst) {
                    var i = t(e.target),
                        s = t.datepicker._getInst(i[0]);
                    (i[0].id !== t.datepicker._mainDivId && 0 === i.parents("#" + t.datepicker._mainDivId)
                        .length && !i.hasClass(t.datepicker.markerClassName) && !i.closest("." + t.datepicker._triggerClass)
                        .length && t.datepicker._datepickerShowing && (!t.datepicker._inDialog || !t.blockUI) || i.hasClass(t.datepicker.markerClassName) &&
                        t.datepicker._curInst !== s) && t.datepicker._hideDatepicker()
                }
            },
            _adjustDate: function (e, i, s) {
                var n = t(e),
                    o = this._getInst(n[0]);
                this._isDisabledDatepicker(n[0]) || (this._adjustInstDate(o, i + ("M" === s ? this._get(o, "showCurrentAtPos") : 0), s), this._updateDatepicker(
                    o))
            },
            _gotoToday: function (e) {
                var i, s = t(e),
                    n = this._getInst(s[0]);
                this._get(n, "gotoCurrent") && n.currentDay ? (n.selectedDay = n.currentDay, n.drawMonth = n.selectedMonth = n.currentMonth, n.drawYear =
                    n.selectedYear = n.currentYear) : (i = new Date, n.selectedDay = i.getDate(), n.drawMonth = n.selectedMonth = i.getMonth(), n.drawYear =
                    n.selectedYear = i.getFullYear()), this._notifyChange(n), this._adjustDate(s)
            },
            _selectMonthYear: function (e, i, s) {
                var n = t(e),
                    o = this._getInst(n[0]);
                o["selected" + ("M" === s ? "Month" : "Year")] = o["draw" + ("M" === s ? "Month" : "Year")] = parseInt(i.options[i.selectedIndex].value,
                    10), this._notifyChange(o), this._adjustDate(n)
            },
            _selectDay: function (e, i, s, n) {
                var o, a = t(e);
                t(n)
                    .hasClass(this._unselectableClass) || this._isDisabledDatepicker(a[0]) || (o = this._getInst(a[0]), o.selectedDay = o.currentDay =
                        t("a", n)
                        .html(), o.selectedMonth = o.currentMonth = i, o.selectedYear = o.currentYear = s, this._selectDate(e, this._formatDate(o, o.currentDay,
                            o.currentMonth, o.currentYear)))
            },
            _clearDate: function (e) {
                var i = t(e);
                this._selectDate(i, "")
            },
            _selectDate: function (e, i) {
                var s, n = t(e),
                    o = this._getInst(n[0]);
                i = null != i ? i : this._formatDate(o), o.input && o.input.val(i), this._updateAlternate(o), s = this._get(o, "onSelect"), s ? s.apply(
                    o.input ? o.input[0] : null, [i, o]) : o.input && o.input.trigger("change"), o.inline ? this._updateDatepicker(o) : (this._hideDatepicker(),
                    this._lastInput = o.input[0], "object" != typeof o.input[0] && o.input.focus(), this._lastInput = null)
            },
            _updateAlternate: function (e) {
                var i, s, n, o = this._get(e, "altField");
                o && (i = this._get(e, "altFormat") || this._get(e, "dateFormat"), s = this._getDate(e), n = this.formatDate(i, s, this._getFormatConfig(
                        e)), t(o)
                    .each(function () {
                        t(this)
                            .val(n)
                    }))
            },
            noWeekends: function (t) {
                var e = t.getDay();
                return [e > 0 && 6 > e, ""]
            },
            iso8601Week: function (t) {
                var e, i = new Date(t.getTime());
                return i.setDate(i.getDate() + 4 - (i.getDay() || 7)), e = i.getTime(), i.setMonth(0), i.setDate(1), Math.floor(Math.round((e - i) /
                    864e5) / 7) + 1
            },
            parseDate: function (i, s, n) {
                if (null == i || null == s) throw "Invalid arguments";
                if (s = "object" == typeof s ? "" + s : s + "", "" === s) return null;
                var o, a, r, h, l = 0,
                    c = (n ? n.shortYearCutoff : null) || this._defaults.shortYearCutoff,
                    u = "string" != typeof c ? c : (new Date)
                    .getFullYear() % 100 + parseInt(c, 10),
                    d = (n ? n.dayNamesShort : null) || this._defaults.dayNamesShort,
                    p = (n ? n.dayNames : null) || this._defaults.dayNames,
                    f = (n ? n.monthNamesShort : null) || this._defaults.monthNamesShort,
                    g = (n ? n.monthNames : null) || this._defaults.monthNames,
                    m = -1,
                    v = -1,
                    _ = -1,
                    b = -1,
                    y = !1,
                    w = function (t) {
                        var e = i.length > o + 1 && i.charAt(o + 1) === t;
                        return e && o++, e
                    },
                    k = function (t) {
                        var e = w(t),
                            i = "@" === t ? 14 : "!" === t ? 20 : "y" === t && e ? 4 : "o" === t ? 3 : 2,
                            n = RegExp("^\\d{1," + i + "}"),
                            o = s.substring(l)
                            .match(n);
                        if (!o) throw "Missing number at position " + l;
                        return l += o[0].length, parseInt(o[0], 10)
                    },
                    x = function (i, n, o) {
                        var a = -1,
                            r = t.map(w(i) ? o : n, function (t, e) {
                                return [[e, t]]
                            })
                            .sort(function (t, e) {
                                return -(t[1].length - e[1].length)
                            });
                        if (t.each(r, function (t, i) {
                                var n = i[1];
                                return s.substr(l, n.length)
                                    .toLowerCase() === n.toLowerCase() ? (a = i[0], l += n.length, !1) : e
                            }), -1 !== a) return a + 1;
                        throw "Unknown name at position " + l
                    },
                    D = function () {
                        if (s.charAt(l) !== i.charAt(o)) throw "Unexpected literal at position " + l;
                        l++
                    };
                for (o = 0; i.length > o; o++)
                    if (y) "'" !== i.charAt(o) || w("'") ? D() : y = !1;
                    else switch (i.charAt(o)) {
                    case "d":
                        _ = k("d");
                        break;
                    case "D":
                        x("D", d, p);
                        break;
                    case "o":
                        b = k("o");
                        break;
                    case "m":
                        v = k("m");
                        break;
                    case "M":
                        v = x("M", f, g);
                        break;
                    case "y":
                        m = k("y");
                        break;
                    case "@":
                        h = new Date(k("@")), m = h.getFullYear(), v = h.getMonth() + 1, _ = h.getDate();
                        break;
                    case "!":
                        h = new Date((k("!") - this._ticksTo1970) / 1e4), m = h.getFullYear(), v = h.getMonth() + 1, _ = h.getDate();
                        break;
                    case "'":
                        w("'") ? D() : y = !0;
                        break;
                    default:
                        D()
                    }
                    if (s.length > l && (r = s.substr(l), !/^\s+/.test(r))) throw "Extra/unparsed characters found in date: " + r;
                if (-1 === m ? m = (new Date)
                    .getFullYear() : 100 > m && (m += (new Date)
                        .getFullYear() - (new Date)
                        .getFullYear() % 100 + (u >= m ? 0 : -100)), b > -1)
                    for (v = 1, _ = b;;) {
                        if (a = this._getDaysInMonth(m, v - 1), a >= _) break;
                        v++, _ -= a
                    }
                if (h = this._daylightSavingAdjust(new Date(m, v - 1, _)), h.getFullYear() !== m || h.getMonth() + 1 !== v || h.getDate() !== _) throw "Invalid date";
                return h
            },
            ATOM: "yy-mm-dd",
            COOKIE: "D, dd M yy",
            ISO_8601: "yy-mm-dd",
            RFC_822: "D, d M y",
            RFC_850: "DD, dd-M-y",
            RFC_1036: "D, d M y",
            RFC_1123: "D, d M yy",
            RFC_2822: "D, d M yy",
            RSS: "D, d M y",
            TICKS: "!",
            TIMESTAMP: "@",
            W3C: "yy-mm-dd",
            _ticksTo1970: 1e7 * 60 * 60 * 24 * (718685 + Math.floor(492.5) - Math.floor(19.7) + Math.floor(4.925)),
            formatDate: function (t, e, i) {
                if (!e) return "";
                var s, n = (i ? i.dayNamesShort : null) || this._defaults.dayNamesShort,
                    o = (i ? i.dayNames : null) || this._defaults.dayNames,
                    a = (i ? i.monthNamesShort : null) || this._defaults.monthNamesShort,
                    r = (i ? i.monthNames : null) || this._defaults.monthNames,
                    h = function (e) {
                        var i = t.length > s + 1 && t.charAt(s + 1) === e;
                        return i && s++, i
                    },
                    l = function (t, e, i) {
                        var s = "" + e;
                        if (h(t))
                            for (; i > s.length;) s = "0" + s;
                        return s
                    },
                    c = function (t, e, i, s) {
                        return h(t) ? s[e] : i[e]
                    },
                    u = "",
                    d = !1;
                if (e)
                    for (s = 0; t.length > s; s++)
                        if (d) "'" !== t.charAt(s) || h("'") ? u += t.charAt(s) : d = !1;
                        else switch (t.charAt(s)) {
                        case "d":
                            u += l("d", e.getDate(), 2);
                            break;
                        case "D":
                            u += c("D", e.getDay(), n, o);
                            break;
                        case "o":
                            u += l("o", Math.round((new Date(e.getFullYear(), e.getMonth(), e.getDate())
                                .getTime() - new Date(e.getFullYear(), 0, 0)
                                .getTime()) / 864e5), 3);
                            break;
                        case "m":
                            u += l("m", e.getMonth() + 1, 2);
                            break;
                        case "M":
                            u += c("M", e.getMonth(), a, r);
                            break;
                        case "y":
                            u += h("y") ? e.getFullYear() : (10 > e.getYear() % 100 ? "0" : "") + e.getYear() % 100;
                            break;
                        case "@":
                            u += e.getTime();
                            break;
                        case "!":
                            u += 1e4 * e.getTime() + this._ticksTo1970;
                            break;
                        case "'":
                            h("'") ? u += "'" : d = !0;
                            break;
                        default:
                            u += t.charAt(s)
                        }
                        return u
            },
            _possibleChars: function (t) {
                var e, i = "",
                    s = !1,
                    n = function (i) {
                        var s = t.length > e + 1 && t.charAt(e + 1) === i;
                        return s && e++, s
                    };
                for (e = 0; t.length > e; e++)
                    if (s) "'" !== t.charAt(e) || n("'") ? i += t.charAt(e) : s = !1;
                    else switch (t.charAt(e)) {
                    case "d":
                    case "m":
                    case "y":
                    case "@":
                        i += "0123456789";
                        break;
                    case "D":
                    case "M":
                        return null;
                    case "'":
                        n("'") ? i += "'" : s = !0;
                        break;
                    default:
                        i += t.charAt(e)
                    }
                    return i
            },
            _get: function (t, i) {
                return t.settings[i] !== e ? t.settings[i] : this._defaults[i]
            },
            _setDateFromField: function (t, e) {
                if (t.input.val() !== t.lastVal) {
                    var i = this._get(t, "dateFormat"),
                        s = t.lastVal = t.input ? t.input.val() : null,
                        n = this._getDefaultDate(t),
                        o = n,
                        a = this._getFormatConfig(t);
                    try {
                        o = this.parseDate(i, s, a) || n
                    } catch (r) {
                        s = e ? "" : s
                    }
                    t.selectedDay = o.getDate(), t.drawMonth = t.selectedMonth = o.getMonth(), t.drawYear = t.selectedYear = o.getFullYear(), t.currentDay =
                        s ? o.getDate() : 0, t.currentMonth = s ? o.getMonth() : 0, t.currentYear = s ? o.getFullYear() : 0, this._adjustInstDate(t)
                }
            },
            _getDefaultDate: function (t) {
                return this._restrictMinMax(t, this._determineDate(t, this._get(t, "defaultDate"), new Date))
            },
            _determineDate: function (e, i, s) {
                var n = function (t) {
                        var e = new Date;
                        return e.setDate(e.getDate() + t), e
                    },
                    o = function (i) {
                        try {
                            return t.datepicker.parseDate(t.datepicker._get(e, "dateFormat"), i, t.datepicker._getFormatConfig(e))
                        } catch (s) {}
                        for (var n = (i.toLowerCase()
                                    .match(/^c/) ? t.datepicker._getDate(e) : null) || new Date, o = n.getFullYear(), a = n.getMonth(), r = n.getDate(),
                                h = /([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g, l = h.exec(i); l;) {
                            switch (l[2] || "d") {
                            case "d":
                            case "D":
                                r += parseInt(l[1], 10);
                                break;
                            case "w":
                            case "W":
                                r += 7 * parseInt(l[1], 10);
                                break;
                            case "m":
                            case "M":
                                a += parseInt(l[1], 10), r = Math.min(r, t.datepicker._getDaysInMonth(o, a));
                                break;
                            case "y":
                            case "Y":
                                o += parseInt(l[1], 10), r = Math.min(r, t.datepicker._getDaysInMonth(o, a))
                            }
                            l = h.exec(i)
                        }
                        return new Date(o, a, r)
                    },
                    a = null == i || "" === i ? s : "string" == typeof i ? o(i) : "number" == typeof i ? isNaN(i) ? s : n(i) : new Date(i.getTime());
                return a = a && "Invalid Date" == "" + a ? s : a, a && (a.setHours(0), a.setMinutes(0), a.setSeconds(0), a.setMilliseconds(0)), this._daylightSavingAdjust(
                    a)
            },
            _daylightSavingAdjust: function (t) {
                return t ? (t.setHours(t.getHours() > 12 ? t.getHours() + 2 : 0), t) : null
            },
            _setDate: function (t, e, i) {
                var s = !e,
                    n = t.selectedMonth,
                    o = t.selectedYear,
                    a = this._restrictMinMax(t, this._determineDate(t, e, new Date));
                t.selectedDay = t.currentDay = a.getDate(), t.drawMonth = t.selectedMonth = t.currentMonth = a.getMonth(), t.drawYear = t.selectedYear =
                    t.currentYear = a.getFullYear(), n === t.selectedMonth && o === t.selectedYear || i || this._notifyChange(t), this._adjustInstDate(
                        t), t.input && t.input.val(s ? "" : this._formatDate(t))
            },
            _getDate: function (t) {
                var e = !t.currentYear || t.input && "" === t.input.val() ? null : this._daylightSavingAdjust(new Date(t.currentYear, t.currentMonth, t
                    .currentDay));
                return e
            },
            _attachHandlers: function (e) {
                var i = this._get(e, "stepMonths"),
                    s = "#" + e.id.replace(/\\\\/g, "\\");
                e.dpDiv.find("[data-handler]")
                    .map(function () {
                        var e = {
                            prev: function () {
                                t.datepicker._adjustDate(s, -i, "M")
                            },
                            next: function () {
                                t.datepicker._adjustDate(s, +i, "M")
                            },
                            hide: function () {
                                t.datepicker._hideDatepicker()
                            },
                            today: function () {
                                t.datepicker._gotoToday(s)
                            },
                            selectDay: function () {
                                return t.datepicker._selectDay(s, +this.getAttribute("data-month"), +this.getAttribute("data-year"), this), !
                                    1
                            },
                            selectMonth: function () {
                                return t.datepicker._selectMonthYear(s, this, "M"), !1
                            },
                            selectYear: function () {
                                return t.datepicker._selectMonthYear(s, this, "Y"), !1
                            }
                        };
                        t(this)
                            .bind(this.getAttribute("data-event"), e[this.getAttribute("data-handler")])
                    })
            },
            _generateHTML: function (t) {
                var e, i, s, n, o, a, r, h, l, c, u, d, p, f, g, m, v, _, b, y, w, k, x, D, C, I, P, T, M, S, z, A, H, E, N, W, O, F, R, L = new Date,
                    j = this._daylightSavingAdjust(new Date(L.getFullYear(), L.getMonth(), L.getDate())),
                    Y = this._get(t, "isRTL"),
                    B = this._get(t, "showButtonPanel"),
                    V = this._get(t, "hideIfNoPrevNext"),
                    K = this._get(t, "navigationAsDateFormat"),
                    U = this._getNumberOfMonths(t),
                    q = this._get(t, "showCurrentAtPos"),
                    Q = this._get(t, "stepMonths"),
                    X = 1 !== U[0] || 1 !== U[1],
                    $ = this._daylightSavingAdjust(t.currentDay ? new Date(t.currentYear, t.currentMonth, t.currentDay) : new Date(9999, 9, 9)),
                    G = this._getMinMaxDate(t, "min"),
                    J = this._getMinMaxDate(t, "max"),
                    Z = t.drawMonth - q,
                    te = t.drawYear;
                if (0 > Z && (Z += 12, te--), J)
                    for (e = this._daylightSavingAdjust(new Date(J.getFullYear(), J.getMonth() - U[0] * U[1] + 1, J.getDate())), e = G && G > e ? G : e; this
                        ._daylightSavingAdjust(new Date(te, Z, 1)) > e;) Z--, 0 > Z && (Z = 11, te--);
                for (t.drawMonth = Z, t.drawYear = te, i = this._get(t, "prevText"), i = K ? this.formatDate(i, this._daylightSavingAdjust(new Date(te,
                        Z - Q, 1)), this._getFormatConfig(t)) : i, s = this._canAdjustMonth(t, -1, te, Z) ?
                    "<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='" + i +
                    "'><span class='ui-icon ui-icon-circle-triangle-" + (Y ? "e" : "w") + "'>" + i + "</span></a>" : V ? "" :
                    "<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='" + i + "'><span class='ui-icon ui-icon-circle-triangle-" + (
                        Y ? "e" : "w") + "'>" + i + "</span></a>", n = this._get(t, "nextText"), n = K ? this.formatDate(n, this._daylightSavingAdjust(
                        new Date(te, Z + Q, 1)), this._getFormatConfig(t)) : n, o = this._canAdjustMonth(t, 1, te, Z) ?
                    "<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='" + n +
                    "'><span class='ui-icon ui-icon-circle-triangle-" + (Y ? "w" : "e") + "'>" + n + "</span></a>" : V ? "" :
                    "<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='" + n + "'><span class='ui-icon ui-icon-circle-triangle-" + (
                        Y ? "w" : "e") + "'>" + n + "</span></a>", a = this._get(t, "currentText"), r = this._get(t, "gotoCurrent") && t.currentDay ? $ :
                    j, a = K ? this.formatDate(a, r, this._getFormatConfig(t)) : a, h = t.inline ? "" :
                    "<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>" +
                    this._get(t, "closeText") + "</button>", l = B ? "<div class='ui-datepicker-buttonpane ui-widget-content'>" + (Y ? h : "") + (this._isInRange(
                            t, r) ?
                        "<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>" +
                        a + "</button>" : "") + (Y ? "" : h) + "</div>" : "", c = parseInt(this._get(t, "firstDay"), 10), c = isNaN(c) ? 0 : c, u =
                    this._get(t, "showWeek"), d = this._get(t, "dayNames"), p = this._get(t, "dayNamesMin"), f = this._get(t, "monthNames"), g = this._get(
                        t, "monthNamesShort"), m = this._get(t, "beforeShowDay"), v = this._get(t, "showOtherMonths"), _ = this._get(t,
                        "selectOtherMonths"), b = this._getDefaultDate(t), y = "", k = 0; U[0] > k; k++) {
                    for (x = "", this.maxRows = 4, D = 0; U[1] > D; D++) {
                        if (C = this._daylightSavingAdjust(new Date(te, Z, t.selectedDay)), I = " ui-corner-all", P = "", X) {
                            if (P += "<div class='ui-datepicker-group", U[1] > 1) switch (D) {
                            case 0:
                                P += " ui-datepicker-group-first", I = " ui-corner-" + (Y ? "right" : "left");
                                break;
                            case U[1] - 1:
                                P += " ui-datepicker-group-last", I = " ui-corner-" + (Y ? "left" : "right");
                                break;
                            default:
                                P += " ui-datepicker-group-middle", I = ""
                            }
                            P += "'>"
                        }
                        for (P += "<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix" + I + "'>" + (/all|left/.test(I) && 0 === k ?
                                Y ? o : s : "") + (/all|right/.test(I) && 0 === k ? Y ? s : o : "") + this._generateMonthYearHeader(t, Z, te, G, J, k >
                                0 || D > 0, f, g) + "</div><table class='ui-datepicker-calendar'><thead>" + "<tr>", T = u ?
                            "<th class='ui-datepicker-week-col'>" + this._get(t, "weekHeader") + "</th>" : "", w = 0; 7 > w; w++) M = (w + c) % 7, T +=
                            "<th" + ((w + c + 6) % 7 >= 5 ? " class='ui-datepicker-week-end'" : "") + ">" + "<span title='" + d[M] + "'>" + p[M] +
                            "</span></th>";
                        for (P += T + "</tr></thead><tbody>", S = this._getDaysInMonth(te, Z), te === t.selectedYear && Z === t.selectedMonth && (t.selectedDay =
                                Math.min(t.selectedDay, S)), z = (this._getFirstDayOfMonth(te, Z) - c + 7) % 7, A = Math.ceil((z + S) / 7), H = X ?
                            this.maxRows > A ? this.maxRows : A : A, this.maxRows = H, E = this._daylightSavingAdjust(new Date(te, Z, 1 - z)), N = 0; H >
                            N; N++) {
                            for (P += "<tr>", W = u ? "<td class='ui-datepicker-week-col'>" + this._get(t, "calculateWeek")(E) + "</td>" : "", w = 0; 7 >
                                w; w++) O = m ? m.apply(t.input ? t.input[0] : null, [E]) : [!0, ""], F = E.getMonth() !== Z, R = F && !_ || !O[0] || G &&
                                G > E || J && E > J, W += "<td class='" + ((w + c + 6) % 7 >= 5 ? " ui-datepicker-week-end" : "") + (F ?
                                    " ui-datepicker-other-month" : "") + (E.getTime() === C.getTime() && Z === t.selectedMonth && t._keyEvent || b.getTime() ===
                                    E.getTime() && b.getTime() === C.getTime() ? " " + this._dayOverClass : "") + (R ? " " + this._unselectableClass +
                                    " ui-state-disabled" : "") + (F && !v ? "" : " " + O[1] + (E.getTime() === $.getTime() ? " " + this._currentClass :
                                    "") + (E.getTime() === j.getTime() ? " ui-datepicker-today" : "")) + "'" + (F && !v || !O[2] ? "" : " title='" + O[
                                    2].replace(/'/g, "&#39;") + "'") + (R ? "" : " data-handler='selectDay' data-event='click' data-month='" + E.getMonth() +
                                    "' data-year='" + E.getFullYear() + "'") + ">" + (F && !v ? "&#xa0;" : R ? "<span class='ui-state-default'>" + E.getDate() +
                                    "</span>" : "<a class='ui-state-default" + (E.getTime() === j.getTime() ? " ui-state-highlight" : "") + (E.getTime() ===
                                        $.getTime() ? " ui-state-active" : "") + (F ? " ui-priority-secondary" : "") + "' href='#'>" + E.getDate() +
                                    "</a>") + "</td>", E.setDate(E.getDate() + 1), E = this._daylightSavingAdjust(E);
                            P += W + "</tr>"
                        }
                        Z++, Z > 11 && (Z = 0, te++), P += "</tbody></table>" + (X ? "</div>" + (U[0] > 0 && D === U[1] - 1 ?
                            "<div class='ui-datepicker-row-break'></div>" : "") : ""), x += P
                    }
                    y += x
                }
                return y += l, t._keyEvent = !1, y
            },
            _generateMonthYearHeader: function (t, e, i, s, n, o, a, r) {
                var h, l, c, u, d, p, f, g, m = this._get(t, "changeMonth"),
                    v = this._get(t, "changeYear"),
                    _ = this._get(t, "showMonthAfterYear"),
                    b = "<div class='ui-datepicker-title'>",
                    y = "";
                if (o || !m) y += "<span class='ui-datepicker-month'>" + a[e] + "</span>";
                else {
                    for (h = s && s.getFullYear() === i, l = n && n.getFullYear() === i, y +=
                        "<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>", c = 0; 12 > c; c++)(!h || c >= s.getMonth()) &&
                        (!l || n.getMonth() >= c) && (y += "<option value='" + c + "'" + (c === e ? " selected='selected'" : "") + ">" + r[c] +
                            "</option>");
                    y += "</select>"
                }
                if (_ || (b += y + (!o && m && v ? "" : "&#xa0;")), !t.yearshtml)
                    if (t.yearshtml = "", o || !v) b += "<span class='ui-datepicker-year'>" + i + "</span>";
                    else {
                        for (u = this._get(t, "yearRange")
                            .split(":"), d = (new Date)
                            .getFullYear(), p = function (t) {
                                var e = t.match(/c[+\-].*/) ? i + parseInt(t.substring(1), 10) : t.match(/[+\-].*/) ? d + parseInt(t, 10) : parseInt(t,
                                    10);
                                return isNaN(e) ? d : e
                            }, f = p(u[0]), g = Math.max(f, p(u[1] || "")), f = s ? Math.max(f, s.getFullYear()) : f, g = n ? Math.min(g, n.getFullYear()) :
                            g, t.yearshtml += "<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>"; g >= f; f++) t.yearshtml +=
                            "<option value='" + f + "'" + (f === i ? " selected='selected'" : "") + ">" + f + "</option>";
                        t.yearshtml += "</select>", b += t.yearshtml, t.yearshtml = null
                    }
                return b += this._get(t, "yearSuffix"), _ && (b += (!o && m && v ? "" : "&#xa0;") + y), b += "</div>"
            },
            _adjustInstDate: function (t, e, i) {
                var s = t.drawYear + ("Y" === i ? e : 0),
                    n = t.drawMonth + ("M" === i ? e : 0),
                    o = Math.min(t.selectedDay, this._getDaysInMonth(s, n)) + ("D" === i ? e : 0),
                    a = this._restrictMinMax(t, this._daylightSavingAdjust(new Date(s, n, o)));
                t.selectedDay = a.getDate(), t.drawMonth = t.selectedMonth = a.getMonth(), t.drawYear = t.selectedYear = a.getFullYear(), ("M" === i ||
                    "Y" === i) && this._notifyChange(t)
            },
            _restrictMinMax: function (t, e) {
                var i = this._getMinMaxDate(t, "min"),
                    s = this._getMinMaxDate(t, "max"),
                    n = i && i > e ? i : e;
                return s && n > s ? s : n
            },
            _notifyChange: function (t) {
                var e = this._get(t, "onChangeMonthYear");
                e && e.apply(t.input ? t.input[0] : null, [t.selectedYear, t.selectedMonth + 1, t])
            },
            _getNumberOfMonths: function (t) {
                var e = this._get(t, "numberOfMonths");
                return null == e ? [1, 1] : "number" == typeof e ? [1, e] : e
            },
            _getMinMaxDate: function (t, e) {
                return this._determineDate(t, this._get(t, e + "Date"), null)
            },
            _getDaysInMonth: function (t, e) {
                return 32 - this._daylightSavingAdjust(new Date(t, e, 32))
                    .getDate()
            },
            _getFirstDayOfMonth: function (t, e) {
                return new Date(t, e, 1)
                    .getDay()
            },
            _canAdjustMonth: function (t, e, i, s) {
                var n = this._getNumberOfMonths(t),
                    o = this._daylightSavingAdjust(new Date(i, s + (0 > e ? e : n[0] * n[1]), 1));
                return 0 > e && o.setDate(this._getDaysInMonth(o.getFullYear(), o.getMonth())), this._isInRange(t, o)
            },
            _isInRange: function (t, e) {
                var i, s, n = this._getMinMaxDate(t, "min"),
                    o = this._getMinMaxDate(t, "max"),
                    a = null,
                    r = null,
                    h = this._get(t, "yearRange");
                return h && (i = h.split(":"), s = (new Date)
                    .getFullYear(), a = parseInt(i[0], 10), r = parseInt(i[1], 10), i[0].match(/[+\-].*/) && (a += s), i[1].match(/[+\-].*/) && (r +=
                        s)), (!n || e.getTime() >= n.getTime()) && (!o || e.getTime() <= o.getTime()) && (!a || e.getFullYear() >= a) && (!r || r >=
                    e.getFullYear())
            },
            _getFormatConfig: function (t) {
                var e = this._get(t, "shortYearCutoff");
                return e = "string" != typeof e ? e : (new Date)
                    .getFullYear() % 100 + parseInt(e, 10), {
                        shortYearCutoff: e,
                        dayNamesShort: this._get(t, "dayNamesShort"),
                        dayNames: this._get(t, "dayNames"),
                        monthNamesShort: this._get(t, "monthNamesShort"),
                        monthNames: this._get(t, "monthNames")
                    }
            },
            _formatDate: function (t, e, i, s) {
                e || (t.currentDay = t.selectedDay, t.currentMonth = t.selectedMonth, t.currentYear = t.selectedYear);
                var n = e ? "object" == typeof e ? e : this._daylightSavingAdjust(new Date(s, i, e)) : this._daylightSavingAdjust(new Date(t.currentYear,
                    t.currentMonth, t.currentDay));
                return this.formatDate(this._get(t, "dateFormat"), n, this._getFormatConfig(t))
            }
        }), t.fn.datepicker = function (e) {
            if (!this.length) return this;
            t.datepicker.initialized || (t(document)
                    .mousedown(t.datepicker._checkExternalClick), t.datepicker.initialized = !0), 0 === t("#" + t.datepicker._mainDivId)
                .length && t("body")
                .append(t.datepicker.dpDiv);
            var i = Array.prototype.slice.call(arguments, 1);
            return "string" != typeof e || "isDisabled" !== e && "getDate" !== e && "widget" !== e ? "option" === e && 2 === arguments.length && "string" ==
                typeof arguments[1] ? t.datepicker["_" + e + "Datepicker"].apply(t.datepicker, [this[0]].concat(i)) : this.each(function () {
                    "string" == typeof e ? t.datepicker["_" + e + "Datepicker"].apply(t.datepicker, [this].concat(i)) : t.datepicker._attachDatepicker(this,
                        e)
                }) : t.datepicker["_" + e + "Datepicker"].apply(t.datepicker, [this[0]].concat(i))
        }, t.datepicker = new i, t.datepicker.initialized = !1, t.datepicker.uuid = (new Date)
        .getTime(), t.datepicker.version = "1.10.3"
}(jQuery),
function (t) {
    var e = {
            buttons: !0,
            height: !0,
            maxHeight: !0,
            maxWidth: !0,
            minHeight: !0,
            minWidth: !0,
            width: !0
        },
        i = {
            maxHeight: !0,
            maxWidth: !0,
            minHeight: !0,
            minWidth: !0
        };
    t.widget("ui.dialog", {
        version: "1.10.3",
        options: {
            appendTo: "body",
            autoOpen: !0,
            buttons: [],
            closeOnEscape: !0,
            closeText: "close",
            dialogClass: "",
            draggable: !0,
            hide: null,
            height: "auto",
            maxHeight: null,
            maxWidth: null,
            minHeight: 150,
            minWidth: 150,
            modal: !1,
            position: {
                my: "center",
                at: "center",
                of: window,
                collision: "fit",
                using: function (e) {
                    var i = t(this)
                        .css(e)
                        .offset()
                        .top;
                    0 > i && t(this)
                        .css("top", e.top - i)
                }
            },
            resizable: !0,
            show: null,
            title: null,
            width: 300,
            beforeClose: null,
            close: null,
            drag: null,
            dragStart: null,
            dragStop: null,
            focus: null,
            open: null,
            resize: null,
            resizeStart: null,
            resizeStop: null
        },
        _create: function () {
            this.originalCss = {
                    display: this.element[0].style.display,
                    width: this.element[0].style.width,
                    minHeight: this.element[0].style.minHeight,
                    maxHeight: this.element[0].style.maxHeight,
                    height: this.element[0].style.height
                }, this.originalPosition = {
                    parent: this.element.parent(),
                    index: this.element.parent()
                        .children()
                        .index(this.element)
                }, this.originalTitle = this.element.attr("title"), this.options.title = this.options.title || this.originalTitle, this._createWrapper(),
                this.element.show()
                .removeAttr("title")
                .addClass("ui-dialog-content ui-widget-content")
                .appendTo(this.uiDialog), this._createTitlebar(), this._createButtonPane(), this.options.draggable && t.fn.draggable && this._makeDraggable(),
                this.options.resizable && t.fn.resizable && this._makeResizable(), this._isOpen = !1
        },
        _init: function () {
            this.options.autoOpen && this.open()
        },
        _appendTo: function () {
            var e = this.options.appendTo;
            return e && (e.jquery || e.nodeType) ? t(e) : this.document.find(e || "body")
                .eq(0)
        },
        _destroy: function () {
            var t, e = this.originalPosition;
            this._destroyOverlay(), this.element.removeUniqueId()
                .removeClass("ui-dialog-content ui-widget-content")
                .css(this.originalCss)
                .detach(), this.uiDialog.stop(!0, !0)
                .remove(), this.originalTitle && this.element.attr("title", this.originalTitle), t = e.parent.children()
                .eq(e.index), t.length && t[0] !== this.element[0] ? t.before(this.element) : e.parent.append(this.element)
        },
        widget: function () {
            return this.uiDialog
        },
        disable: t.noop,
        enable: t.noop,
        close: function (e) {
            var i = this;
            this._isOpen && this._trigger("beforeClose", e) !== !1 && (this._isOpen = !1, this._destroyOverlay(), this.opener.filter(":focusable")
                .focus()
                .length || t(this.document[0].activeElement)
                .blur(), this._hide(this.uiDialog, this.options.hide, function () {
                    i._trigger("close", e)
                }))
        },
        isOpen: function () {
            return this._isOpen
        },
        moveToTop: function () {
            this._moveToTop()
        },
        _moveToTop: function (t, e) {
            var i = !!this.uiDialog.nextAll(":visible")
                .insertBefore(this.uiDialog)
                .length;
            return i && !e && this._trigger("focus", t), i
        },
        open: function () {
            var e = this;
            return this._isOpen ? (this._moveToTop() && this._focusTabbable(), undefined) : (this._isOpen = !0, this.opener = t(this.document[0].activeElement),
                this._size(), this._position(), this._createOverlay(), this._moveToTop(null, !0), this._show(this.uiDialog, this.options.show,
                    function () {
                        e._focusTabbable(), e._trigger("focus")
                    }), this._trigger("open"), undefined)
        },
        _focusTabbable: function () {
            var t = this.element.find("[autofocus]");
            t.length || (t = this.element.find(":tabbable")), t.length || (t = this.uiDialogButtonPane.find(":tabbable")), t.length || (t = this.uiDialogTitlebarClose
                    .filter(":tabbable")), t.length || (t = this.uiDialog), t.eq(0)
                .focus()
        },
        _keepFocus: function (e) {
            function i() {
                var e = this.document[0].activeElement,
                    i = this.uiDialog[0] === e || t.contains(this.uiDialog[0], e);
                i || this._focusTabbable()
            }
            e.preventDefault(), i.call(this), this._delay(i)
        },
        _createWrapper: function () {
            this.uiDialog = t("<div>")
                .addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front " + this.options.dialogClass)
                .hide()
                .attr({
                    tabIndex: -1,
                    role: "dialog"
                })
                .appendTo(this._appendTo()), this._on(this.uiDialog, {
                    keydown: function (e) {
                        if (this.options.closeOnEscape && !e.isDefaultPrevented() && e.keyCode && e.keyCode === t.ui.keyCode.ESCAPE) return
                            e.preventDefault(), this.close(e), undefined;
                        if (e.keyCode === t.ui.keyCode.TAB) {
                            var i = this.uiDialog.find(":tabbable"),
                                s = i.filter(":first"),
                                n = i.filter(":last");
                            e.target !== n[0] && e.target !== this.uiDialog[0] || e.shiftKey ? e.target !== s[0] && e.target !== this.uiDialog[
                                0] || !e.shiftKey || (n.focus(1), e.preventDefault()) : (s.focus(1), e.preventDefault())
                        }
                    },
                    mousedown: function (t) {
                        this._moveToTop(t) && this._focusTabbable()
                    }
                }), this.element.find("[aria-describedby]")
                .length || this.uiDialog.attr({
                    "aria-describedby": this.element.uniqueId()
                        .attr("id")
                })
        },
        _createTitlebar: function () {
            var e;
            this.uiDialogTitlebar = t("<div>")
                .addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix")
                .prependTo(this.uiDialog), this._on(this.uiDialogTitlebar, {
                    mousedown: function (e) {
                        t(e.target)
                            .closest(".ui-dialog-titlebar-close") || this.uiDialog.focus()
                    }
                }), this.uiDialogTitlebarClose = t("<button></button>")
                .button({
                    label: this.options.closeText,
                    icons: {
                        primary: "ui-icon-closethick"
                    },
                    text: !1
                })
                .addClass("ui-dialog-titlebar-close")
                .appendTo(this.uiDialogTitlebar), this._on(this.uiDialogTitlebarClose, {
                    click: function (t) {
                        t.preventDefault(), this.close(t)
                    }
                }), e = t("<span>")
                .uniqueId()
                .addClass("ui-dialog-title")
                .prependTo(this.uiDialogTitlebar), this._title(e), this.uiDialog.attr({
                    "aria-labelledby": e.attr("id")
                })
        },
        _title: function (t) {
            this.options.title || t.html("&#160;"), t.text(this.options.title)
        },
        _createButtonPane: function () {
            this.uiDialogButtonPane = t("<div>")
                .addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"), this.uiButtonSet = t("<div>")
                .addClass("ui-dialog-buttonset")
                .appendTo(this.uiDialogButtonPane), this._createButtons()
        },
        _createButtons: function () {
            var e = this,
                i = this.options.buttons;
            return this.uiDialogButtonPane.remove(), this.uiButtonSet.empty(), t.isEmptyObject(i) || t.isArray(i) && !i.length ? (this.uiDialog.removeClass(
                "ui-dialog-buttons"), undefined) : (t.each(i, function (i, s) {
                var n, o;
                s = t.isFunction(s) ? {
                        click: s,
                        text: i
                    } : s, s = t.extend({
                        type: "button"
                    }, s), n = s.click, s.click = function () {
                        n.apply(e.element[0], arguments)
                    }, o = {
                        icons: s.icons,
                        text: s.showText
                    }, delete s.icons, delete s.showText, t("<button></button>", s)
                    .button(o)
                    .appendTo(e.uiButtonSet)
            }), this.uiDialog.addClass("ui-dialog-buttons"), this.uiDialogButtonPane.appendTo(this.uiDialog), undefined)
        },
        _makeDraggable: function () {
            function e(t) {
                return {
                    position: t.position,
                    offset: t.offset
                }
            }
            var i = this,
                s = this.options;
            this.uiDialog.draggable({
                cancel: ".ui-dialog-content, .ui-dialog-titlebar-close",
                handle: ".ui-dialog-titlebar",
                containment: "document",
                start: function (s, n) {
                    t(this)
                        .addClass("ui-dialog-dragging"), i._blockFrames(), i._trigger("dragStart", s, e(n))
                },
                drag: function (t, s) {
                    i._trigger("drag", t, e(s))
                },
                stop: function (n, o) {
                    s.position = [o.position.left - i.document.scrollLeft(), o.position.top - i.document.scrollTop()], t(this)
                        .removeClass("ui-dialog-dragging"), i._unblockFrames(), i._trigger("dragStop", n, e(o))
                }
            })
        },
        _makeResizable: function () {
            function e(t) {
                return {
                    originalPosition: t.originalPosition,
                    originalSize: t.originalSize,
                    position: t.position,
                    size: t.size
                }
            }
            var i = this,
                s = this.options,
                n = s.resizable,
                o = this.uiDialog.css("position"),
                a = "string" == typeof n ? n : "n,e,s,w,se,sw,ne,nw";
            this.uiDialog.resizable({
                    cancel: ".ui-dialog-content",
                    containment: "document",
                    alsoResize: this.element,
                    maxWidth: s.maxWidth,
                    maxHeight: s.maxHeight,
                    minWidth: s.minWidth,
                    minHeight: this._minHeight(),
                    handles: a,
                    start: function (s, n) {
                        t(this)
                            .addClass("ui-dialog-resizing"), i._blockFrames(), i._trigger("resizeStart", s, e(n))
                    },
                    resize: function (t, s) {
                        i._trigger("resize", t, e(s))
                    },
                    stop: function (n, o) {
                        s.height = t(this)
                            .height(), s.width = t(this)
                            .width(), t(this)
                            .removeClass("ui-dialog-resizing"), i._unblockFrames(), i._trigger("resizeStop", n, e(o))
                    }
                })
                .css("position", o)
        },
        _minHeight: function () {
            var t = this.options;
            return "auto" === t.height ? t.minHeight : Math.min(t.minHeight, t.height)
        },
        _position: function () {
            var t = this.uiDialog.is(":visible");
            t || this.uiDialog.show(), this.uiDialog.position(this.options.position), t || this.uiDialog.hide()
        },
        _setOptions: function (s) {
            var n = this,
                o = !1,
                a = {};
            t.each(s, function (t, s) {
                n._setOption(t, s), t in e && (o = !0), t in i && (a[t] = s)
            }), o && (this._size(), this._position()), this.uiDialog.is(":data(ui-resizable)") && this.uiDialog.resizable("option", a)
        },
        _setOption: function (t, e) {
            var i, s, n = this.uiDialog;
            "dialogClass" === t && n.removeClass(this.options.dialogClass)
                .addClass(e), "disabled" !== t && (this._super(t, e), "appendTo" === t && this.uiDialog.appendTo(this._appendTo()), "buttons" === t &&
                    this._createButtons(), "closeText" === t && this.uiDialogTitlebarClose.button({
                        label: "" + e
                    }), "draggable" === t && (i = n.is(":data(ui-draggable)"), i && !e && n.draggable("destroy"), !i && e && this._makeDraggable()),
                    "position" === t && this._position(), "resizable" === t && (s = n.is(":data(ui-resizable)"), s && !e && n.resizable("destroy"),
                        s && "string" == typeof e && n.resizable("option", "handles", e), s || e === !1 || this._makeResizable()), "title" === t &&
                    this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))
        },
        _size: function () {
            var t, e, i, s = this.options;
            this.element.show()
                .css({
                    width: "auto",
                    minHeight: 0,
                    maxHeight: "none",
                    height: 0
                }), s.minWidth > s.width && (s.width = s.minWidth), t = this.uiDialog.css({
                    height: "auto",
                    width: s.width
                })
                .outerHeight(), e = Math.max(0, s.minHeight - t), i = "number" == typeof s.maxHeight ? Math.max(0, s.maxHeight - t) : "none",
                "auto" === s.height ? this.element.css({
                    minHeight: e,
                    maxHeight: i,
                    height: "auto"
                }) : this.element.height(Math.max(0, s.height - t)), this.uiDialog.is(":data(ui-resizable)") && this.uiDialog.resizable("option",
                    "minHeight", this._minHeight())
        },
        _blockFrames: function () {
            this.iframeBlocks = this.document.find("iframe")
                .map(function () {
                    var e = t(this);
                    return t("<div>")
                        .css({
                            position: "absolute",
                            width: e.outerWidth(),
                            height: e.outerHeight()
                        })
                        .appendTo(e.parent())
                        .offset(e.offset())[0]
                })
        },
        _unblockFrames: function () {
            this.iframeBlocks && (this.iframeBlocks.remove(), delete this.iframeBlocks)
        },
        _allowInteraction: function (e) {
            return t(e.target)
                .closest(".ui-dialog")
                .length ? !0 : !!t(e.target)
                .closest(".ui-datepicker")
                .length
        },
        _createOverlay: function () {
            if (this.options.modal) {
                var e = this,
                    i = this.widgetFullName;
                t.ui.dialog.overlayInstances || this._delay(function () {
                        t.ui.dialog.overlayInstances && this.document.bind("focusin.dialog", function (s) {
                            e._allowInteraction(s) || (s.preventDefault(), t(".ui-dialog:visible:last .ui-dialog-content")
                                .data(i)
                                ._focusTabbable())
                        })
                    }), this.overlay = t("<div>")
                    .addClass("ui-widget-overlay ui-front")
                    .appendTo(this._appendTo()), this._on(this.overlay, {
                        mousedown: "_keepFocus"
                    }), t.ui.dialog.overlayInstances++
            }
        },
        _destroyOverlay: function () {
            this.options.modal && this.overlay && (t.ui.dialog.overlayInstances--, t.ui.dialog.overlayInstances || this.document.unbind(
                "focusin.dialog"), this.overlay.remove(), this.overlay = null)
        }
    }), t.ui.dialog.overlayInstances = 0, t.uiBackCompat !== !1 && t.widget("ui.dialog", t.ui.dialog, {
        _position: function () {
            var e, i = this.options.position,
                s = [],
                n = [0, 0];
            i ? (("string" == typeof i || "object" == typeof i && "0" in i) && (s = i.split ? i.split(" ") : [i[0], i[1]], 1 === s.length && (s[1] =
                s[0]), t.each(["left", "top"], function (t, e) {
                +s[t] === s[t] && (n[t] = s[t], s[t] = e)
            }), i = {
                my: s[0] + (0 > n[0] ? n[0] : "+" + n[0]) + " " + s[1] + (0 > n[1] ? n[1] : "+" + n[1]),
                at: s.join(" ")
            }), i = t.extend({}, t.ui.dialog.prototype.options.position, i)) : i = t.ui.dialog.prototype.options.position, e = this.uiDialog.is(
                ":visible"), e || this.uiDialog.show(), this.uiDialog.position(i), e || this.uiDialog.hide()
        }
    })
}(jQuery),
function (t) {
    var e = /up|down|vertical/,
        i = /up|left|vertical|horizontal/;
    t.effects.effect.blind = function (s, n) {
        var o, a, r, h = t(this),
            l = ["position", "top", "bottom", "left", "right", "height", "width"],
            c = t.effects.setMode(h, s.mode || "hide"),
            u = s.direction || "up",
            d = e.test(u),
            p = d ? "height" : "width",
            f = d ? "top" : "left",
            g = i.test(u),
            m = {},
            v = "show" === c;
        h.parent()
            .is(".ui-effects-wrapper") ? t.effects.save(h.parent(), l) : t.effects.save(h, l), h.show(), o = t.effects.createWrapper(h)
            .css({
                overflow: "hidden"
            }), a = o[p](), r = parseFloat(o.css(f)) || 0, m[p] = v ? a : 0, g || (h.css(d ? "bottom" : "right", 0)
                .css(d ? "top" : "left", "auto")
                .css({
                    position: "absolute"
                }), m[f] = v ? r : a + r), v && (o.css(p, 0), g || o.css(f, r + a)), o.animate(m, {
                duration: s.duration,
                easing: s.easing,
                queue: !1,
                complete: function () {
                    "hide" === c && h.hide(), t.effects.restore(h, l), t.effects.removeWrapper(h), n()
                }
            })
    }
}(jQuery),
function (t) {
    t.effects.effect.bounce = function (e, i) {
        var s, n, o, a = t(this),
            r = ["position", "top", "bottom", "left", "right", "height", "width"],
            h = t.effects.setMode(a, e.mode || "effect"),
            l = "hide" === h,
            c = "show" === h,
            u = e.direction || "up",
            d = e.distance,
            p = e.times || 5,
            f = 2 * p + (c || l ? 1 : 0),
            g = e.duration / f,
            m = e.easing,
            v = "up" === u || "down" === u ? "top" : "left",
            _ = "up" === u || "left" === u,
            b = a.queue(),
            y = b.length;
        for ((c || l) && r.push("opacity"), t.effects.save(a, r), a.show(), t.effects.createWrapper(a), d || (d = a["top" === v ? "outerHeight" :
                "outerWidth"]() / 3), c && (o = {
                    opacity: 1
                }, o[v] = 0, a.css("opacity", 0)
                .css(v, _ ? 2 * -d : 2 * d)
                .animate(o, g, m)), l && (d /= Math.pow(2, p - 1)), o = {}, o[v] = 0, s = 0; p > s; s++) n = {}, n[v] = (_ ? "-=" : "+=") + d, a.animate(n,
                g, m)
            .animate(o, g, m), d = l ? 2 * d : d / 2;
        l && (n = {
            opacity: 0
        }, n[v] = (_ ? "-=" : "+=") + d, a.animate(n, g, m)), a.queue(function () {
            l && a.hide(), t.effects.restore(a, r), t.effects.removeWrapper(a), i()
        }), y > 1 && b.splice.apply(b, [1, 0].concat(b.splice(y, f + 1))), a.dequeue()
    }
}(jQuery),
function (t) {
    t.effects.effect.clip = function (e, i) {
        var s, n, o, a = t(this),
            r = ["position", "top", "bottom", "left", "right", "height", "width"],
            h = t.effects.setMode(a, e.mode || "hide"),
            l = "show" === h,
            c = e.direction || "vertical",
            u = "vertical" === c,
            d = u ? "height" : "width",
            p = u ? "top" : "left",
            f = {};
        t.effects.save(a, r), a.show(), s = t.effects.createWrapper(a)
            .css({
                overflow: "hidden"
            }), n = "IMG" === a[0].tagName ? s : a, o = n[d](), l && (n.css(d, 0), n.css(p, o / 2)), f[d] = l ? o : 0, f[p] = l ? 0 : o / 2, n.animate(f, {
                queue: !1,
                duration: e.duration,
                easing: e.easing,
                complete: function () {
                    l || a.hide(), t.effects.restore(a, r), t.effects.removeWrapper(a), i()
                }
            })
    }
}(jQuery),
function (t) {
    t.effects.effect.drop = function (e, i) {
        var s, n = t(this),
            o = ["position", "top", "bottom", "left", "right", "opacity", "height", "width"],
            a = t.effects.setMode(n, e.mode || "hide"),
            r = "show" === a,
            h = e.direction || "left",
            l = "up" === h || "down" === h ? "top" : "left",
            c = "up" === h || "left" === h ? "pos" : "neg",
            u = {
                opacity: r ? 1 : 0
            };
        t.effects.save(n, o), n.show(), t.effects.createWrapper(n), s = e.distance || n["top" === l ? "outerHeight" : "outerWidth"](!0) / 2, r && n.css(
                "opacity", 0)
            .css(l, "pos" === c ? -s : s), u[l] = (r ? "pos" === c ? "+=" : "-=" : "pos" === c ? "-=" : "+=") + s, n.animate(u, {
                queue: !1,
                duration: e.duration,
                easing: e.easing,
                complete: function () {
                    "hide" === a && n.hide(), t.effects.restore(n, o), t.effects.removeWrapper(n), i()
                }
            })
    }
}(jQuery),
function (t) {
    t.effects.effect.explode = function (e, i) {
        function s() {
            b.push(this), b.length === u * d && n()
        }

        function n() {
            p.css({
                    visibility: "visible"
                }), t(b)
                .remove(), g || p.hide(), i()
        }
        var o, a, r, h, l, c, u = e.pieces ? Math.round(Math.sqrt(e.pieces)) : 3,
            d = u,
            p = t(this),
            f = t.effects.setMode(p, e.mode || "hide"),
            g = "show" === f,
            m = p.show()
            .css("visibility", "hidden")
            .offset(),
            v = Math.ceil(p.outerWidth() / d),
            _ = Math.ceil(p.outerHeight() / u),
            b = [];
        for (o = 0; u > o; o++)
            for (h = m.top + o * _, c = o - (u - 1) / 2, a = 0; d > a; a++) r = m.left + a * v, l = a - (d - 1) / 2, p.clone()
                .appendTo("body")
                .wrap("<div></div>")
                .css({
                    position: "absolute",
                    visibility: "visible",
                    left: -a * v,
                    top: -o * _
                })
                .parent()
                .addClass("ui-effects-explode")
                .css({
                    position: "absolute",
                    overflow: "hidden",
                    width: v,
                    height: _,
                    left: r + (g ? l * v : 0),
                    top: h + (g ? c * _ : 0),
                    opacity: g ? 0 : 1
                })
                .animate({
                    left: r + (g ? 0 : l * v),
                    top: h + (g ? 0 : c * _),
                    opacity: g ? 1 : 0
                }, e.duration || 500, e.easing, s)
    }
}(jQuery),
function (t) {
    t.effects.effect.fade = function (e, i) {
        var s = t(this),
            n = t.effects.setMode(s, e.mode || "toggle");
        s.animate({
            opacity: n
        }, {
            queue: !1,
            duration: e.duration,
            easing: e.easing,
            complete: i
        })
    }
}(jQuery),
function (t) {
    t.effects.effect.fold = function (e, i) {
        var s, n, o = t(this),
            a = ["position", "top", "bottom", "left", "right", "height", "width"],
            r = t.effects.setMode(o, e.mode || "hide"),
            h = "show" === r,
            l = "hide" === r,
            c = e.size || 15,
            u = /([0-9]+)%/.exec(c),
            d = !!e.horizFirst,
            p = h !== d,
            f = p ? ["width", "height"] : ["height", "width"],
            g = e.duration / 2,
            m = {},
            v = {};
        t.effects.save(o, a), o.show(), s = t.effects.createWrapper(o)
            .css({
                overflow: "hidden"
            }), n = p ? [s.width(), s.height()] : [s.height(), s.width()], u && (c = parseInt(u[1], 10) / 100 * n[l ? 0 : 1]), h && s.css(d ? {
                height: 0,
                width: c
            } : {
                height: c,
                width: 0
            }), m[f[0]] = h ? n[0] : c, v[f[1]] = h ? n[1] : 0, s.animate(m, g, e.easing)
            .animate(v, g, e.easing, function () {
                l && o.hide(), t.effects.restore(o, a), t.effects.removeWrapper(o), i()
            })
    }
}(jQuery),
function (t) {
    t.effects.effect.highlight = function (e, i) {
        var s = t(this),
            n = ["backgroundImage", "backgroundColor", "opacity"],
            o = t.effects.setMode(s, e.mode || "show"),
            a = {
                backgroundColor: s.css("backgroundColor")
            };
        "hide" === o && (a.opacity = 0), t.effects.save(s, n), s.show()
            .css({
                backgroundImage: "none",
                backgroundColor: e.color || "#ffff99"
            })
            .animate(a, {
                queue: !1,
                duration: e.duration,
                easing: e.easing,
                complete: function () {
                    "hide" === o && s.hide(), t.effects.restore(s, n), i()
                }
            })
    }
}(jQuery),
function (t) {
    t.effects.effect.pulsate = function (e, i) {
        var s, n = t(this),
            o = t.effects.setMode(n, e.mode || "show"),
            a = "show" === o,
            r = "hide" === o,
            h = a || "hide" === o,
            l = 2 * (e.times || 5) + (h ? 1 : 0),
            c = e.duration / l,
            u = 0,
            d = n.queue(),
            p = d.length;
        for ((a || !n.is(":visible")) && (n.css("opacity", 0)
                .show(), u = 1), s = 1; l > s; s++) n.animate({
            opacity: u
        }, c, e.easing), u = 1 - u;
        n.animate({
            opacity: u
        }, c, e.easing), n.queue(function () {
            r && n.hide(), i()
        }), p > 1 && d.splice.apply(d, [1, 0].concat(d.splice(p, l + 1))), n.dequeue()
    }
}(jQuery),
function (t) {
    t.effects.effect.puff = function (e, i) {
        var s = t(this),
            n = t.effects.setMode(s, e.mode || "hide"),
            o = "hide" === n,
            a = parseInt(e.percent, 10) || 150,
            r = a / 100,
            h = {
                height: s.height(),
                width: s.width(),
                outerHeight: s.outerHeight(),
                outerWidth: s.outerWidth()
            };
        t.extend(e, {
            effect: "scale",
            queue: !1,
            fade: !0,
            mode: n,
            complete: i,
            percent: o ? a : 100,
            from: o ? h : {
                height: h.height * r,
                width: h.width * r,
                outerHeight: h.outerHeight * r,
                outerWidth: h.outerWidth * r
            }
        }), s.effect(e)
    }, t.effects.effect.scale = function (e, i) {
        var s = t(this),
            n = t.extend(!0, {}, e),
            o = t.effects.setMode(s, e.mode || "effect"),
            a = parseInt(e.percent, 10) || (0 === parseInt(e.percent, 10) ? 0 : "hide" === o ? 0 : 100),
            r = e.direction || "both",
            h = e.origin,
            l = {
                height: s.height(),
                width: s.width(),
                outerHeight: s.outerHeight(),
                outerWidth: s.outerWidth()
            },
            c = {
                y: "horizontal" !== r ? a / 100 : 1,
                x: "vertical" !== r ? a / 100 : 1
            };
        n.effect = "size", n.queue = !1, n.complete = i, "effect" !== o && (n.origin = h || ["middle", "center"], n.restore = !0), n.from = e.from || (
            "show" === o ? {
                height: 0,
                width: 0,
                outerHeight: 0,
                outerWidth: 0
            } : l), n.to = {
            height: l.height * c.y,
            width: l.width * c.x,
            outerHeight: l.outerHeight * c.y,
            outerWidth: l.outerWidth * c.x
        }, n.fade && ("show" === o && (n.from.opacity = 0, n.to.opacity = 1), "hide" === o && (n.from.opacity = 1, n.to.opacity = 0)), s.effect(n)
    }, t.effects.effect.size = function (e, i) {
        var s, n, o, a = t(this),
            r = ["position", "top", "bottom", "left", "right", "width", "height", "overflow", "opacity"],
            h = ["position", "top", "bottom", "left", "right", "overflow", "opacity"],
            l = ["width", "height", "overflow"],
            c = ["fontSize"],
            u = ["borderTopWidth", "borderBottomWidth", "paddingTop", "paddingBottom"],
            d = ["borderLeftWidth", "borderRightWidth", "paddingLeft", "paddingRight"],
            p = t.effects.setMode(a, e.mode || "effect"),
            f = e.restore || "effect" !== p,
            g = e.scale || "both",
            m = e.origin || ["middle", "center"],
            v = a.css("position"),
            _ = f ? r : h,
            b = {
                height: 0,
                width: 0,
                outerHeight: 0,
                outerWidth: 0
            };
        "show" === p && a.show(), s = {
                height: a.height(),
                width: a.width(),
                outerHeight: a.outerHeight(),
                outerWidth: a.outerWidth()
            }, "toggle" === e.mode && "show" === p ? (a.from = e.to || b, a.to = e.from || s) : (a.from = e.from || ("show" === p ? b : s), a.to = e.to ||
                ("hide" === p ? b : s)), o = {
                from: {
                    y: a.from.height / s.height,
                    x: a.from.width / s.width
                },
                to: {
                    y: a.to.height / s.height,
                    x: a.to.width / s.width
                }
            }, ("box" === g || "both" === g) && (o.from.y !== o.to.y && (_ = _.concat(u), a.from = t.effects.setTransition(a, u, o.from.y, a.from), a.to =
                t.effects.setTransition(a, u, o.to.y, a.to)), o.from.x !== o.to.x && (_ = _.concat(d), a.from = t.effects.setTransition(a, d, o.from.x,
                a.from), a.to = t.effects.setTransition(a, d, o.to.x, a.to))), ("content" === g || "both" === g) && o.from.y !== o.to.y && (_ = _.concat(c)
                .concat(l), a.from = t.effects.setTransition(a, c, o.from.y, a.from), a.to = t.effects.setTransition(a, c, o.to.y, a.to)), t.effects.save(a,
                _), a.show(), t.effects.createWrapper(a), a.css("overflow", "hidden")
            .css(a.from), m && (n = t.effects.getBaseline(m, s), a.from.top = (s.outerHeight - a.outerHeight()) * n.y, a.from.left = (s.outerWidth - a.outerWidth()) *
                n.x, a.to.top = (s.outerHeight - a.to.outerHeight) * n.y, a.to.left = (s.outerWidth - a.to.outerWidth) * n.x), a.css(a.from), ("content" ===
                g || "both" === g) && (u = u.concat(["marginTop", "marginBottom"])
                .concat(c), d = d.concat(["marginLeft", "marginRight"]), l = r.concat(u)
                .concat(d), a.find("*[width]")
                .each(function () {
                    var i = t(this),
                        s = {
                            height: i.height(),
                            width: i.width(),
                            outerHeight: i.outerHeight(),
                            outerWidth: i.outerWidth()
                        };
                    f && t.effects.save(i, l), i.from = {
                        height: s.height * o.from.y,
                        width: s.width * o.from.x,
                        outerHeight: s.outerHeight * o.from.y,
                        outerWidth: s.outerWidth * o.from.x
                    }, i.to = {
                        height: s.height * o.to.y,
                        width: s.width * o.to.x,
                        outerHeight: s.height * o.to.y,
                        outerWidth: s.width * o.to.x
                    }, o.from.y !== o.to.y && (i.from = t.effects.setTransition(i, u, o.from.y, i.from), i.to = t.effects.setTransition(i, u, o.to.y,
                        i.to)), o.from.x !== o.to.x && (i.from = t.effects.setTransition(i, d, o.from.x, i.from), i.to = t.effects.setTransition(i,
                        d, o.to.x, i.to)), i.css(i.from), i.animate(i.to, e.duration, e.easing, function () {
                        f && t.effects.restore(i, l)
                    })
                })), a.animate(a.to, {
                queue: !1,
                duration: e.duration,
                easing: e.easing,
                complete: function () {
                    0 === a.to.opacity && a.css("opacity", a.from.opacity), "hide" === p && a.hide(), t.effects.restore(a, _), f || ("static" === v ?
                        a.css({
                            position: "relative",
                            top: a.to.top,
                            left: a.to.left
                        }) : t.each(["top", "left"], function (t, e) {
                            a.css(e, function (e, i) {
                                var s = parseInt(i, 10),
                                    n = t ? a.to.left : a.to.top;
                                return "auto" === i ? n + "px" : s + n + "px"
                            })
                        })), t.effects.removeWrapper(a), i()
                }
            })
    }
}(jQuery),
function (t) {
    t.effects.effect.shake = function (e, i) {
        var s, n = t(this),
            o = ["position", "top", "bottom", "left", "right", "height", "width"],
            a = t.effects.setMode(n, e.mode || "effect"),
            r = e.direction || "left",
            h = e.distance || 20,
            l = e.times || 3,
            c = 2 * l + 1,
            u = Math.round(e.duration / c),
            d = "up" === r || "down" === r ? "top" : "left",
            p = "up" === r || "left" === r,
            f = {},
            g = {},
            m = {},
            v = n.queue(),
            _ = v.length;
        for (t.effects.save(n, o), n.show(), t.effects.createWrapper(n), f[d] = (p ? "-=" : "+=") + h, g[d] = (p ? "+=" : "-=") + 2 * h, m[d] = (p ? "-=" :
                "+=") + 2 * h, n.animate(f, u, e.easing), s = 1; l > s; s++) n.animate(g, u, e.easing)
            .animate(m, u, e.easing);
        n.animate(g, u, e.easing)
            .animate(f, u / 2, e.easing)
            .queue(function () {
                "hide" === a && n.hide(), t.effects.restore(n, o), t.effects.removeWrapper(n), i()
            }), _ > 1 && v.splice.apply(v, [1, 0].concat(v.splice(_, c + 1))), n.dequeue()
    }
}(jQuery),
function (t) {
    t.effects.effect.slide = function (e, i) {
        var s, n = t(this),
            o = ["position", "top", "bottom", "left", "right", "width", "height"],
            a = t.effects.setMode(n, e.mode || "show"),
            r = "show" === a,
            h = e.direction || "left",
            l = "up" === h || "down" === h ? "top" : "left",
            c = "up" === h || "left" === h,
            u = {};
        t.effects.save(n, o), n.show(), s = e.distance || n["top" === l ? "outerHeight" : "outerWidth"](!0), t.effects.createWrapper(n)
            .css({
                overflow: "hidden"
            }), r && n.css(l, c ? isNaN(s) ? "-" + s : -s : s), u[l] = (r ? c ? "+=" : "-=" : c ? "-=" : "+=") + s, n.animate(u, {
                queue: !1,
                duration: e.duration,
                easing: e.easing,
                complete: function () {
                    "hide" === a && n.hide(), t.effects.restore(n, o), t.effects.removeWrapper(n), i()
                }
            })
    }
}(jQuery),
function (t) {
    t.effects.effect.transfer = function (e, i) {
        var s = t(this),
            n = t(e.to),
            o = "fixed" === n.css("position"),
            a = t("body"),
            r = o ? a.scrollTop() : 0,
            h = o ? a.scrollLeft() : 0,
            l = n.offset(),
            c = {
                top: l.top - r,
                left: l.left - h,
                height: n.innerHeight(),
                width: n.innerWidth()
            },
            u = s.offset(),
            d = t("<div class='ui-effects-transfer'></div>")
            .appendTo(document.body)
            .addClass(e.className)
            .css({
                top: u.top - r,
                left: u.left - h,
                height: s.innerHeight(),
                width: s.innerWidth(),
                position: o ? "fixed" : "absolute"
            })
            .animate(c, e.duration, e.easing, function () {
                d.remove(), i()
            })
    }
}(jQuery),
function (t) {
    t.widget("ui.menu", {
        version: "1.10.3",
        defaultElement: "<ul>",
        delay: 300,
        options: {
            icons: {
                submenu: "ui-icon-carat-1-e"
            },
            menus: "ul",
            position: {
                my: "left top",
                at: "right top"
            },
            role: "menu",
            blur: null,
            focus: null,
            select: null
        },
        _create: function () {
            this.activeMenu = this.element, this.mouseHandled = !1, this.element.uniqueId()
                .addClass("ui-menu ui-widget ui-widget-content ui-corner-all")
                .toggleClass("ui-menu-icons", !!this.element.find(".ui-icon")
                    .length)
                .attr({
                    role: this.options.role,
                    tabIndex: 0
                })
                .bind("click" + this.eventNamespace, t.proxy(function (t) {
                    this.options.disabled && t.preventDefault()
                }, this)), this.options.disabled && this.element.addClass("ui-state-disabled")
                .attr("aria-disabled", "true"), this._on({
                    "mousedown .ui-menu-item > a": function (t) {
                        t.preventDefault()
                    },
                    "click .ui-state-disabled > a": function (t) {
                        t.preventDefault()
                    },
                    "click .ui-menu-item:has(a)": function (e) {
                        var i = t(e.target)
                            .closest(".ui-menu-item");
                        !this.mouseHandled && i.not(".ui-state-disabled")
                            .length && (this.mouseHandled = !0, this.select(e), i.has(".ui-menu")
                                .length ? this.expand(e) : this.element.is(":focus") || (this.element.trigger("focus", [!0]), this.active &&
                                    1 === this.active.parents(".ui-menu")
                                    .length && clearTimeout(this.timer)))
                    },
                    "mouseenter .ui-menu-item": function (e) {
                        var i = t(e.currentTarget);
                        i.siblings()
                            .children(".ui-state-active")
                            .removeClass("ui-state-active"), this.focus(e, i)
                    },
                    mouseleave: "collapseAll",
                    "mouseleave .ui-menu": "collapseAll",
                    focus: function (t, e) {
                        var i = this.active || this.element.children(".ui-menu-item")
                            .eq(0);
                        e || this.focus(t, i)
                    },
                    blur: function (e) {
                        this._delay(function () {
                            t.contains(this.element[0], this.document[0].activeElement) || this.collapseAll(e)
                        })
                    },
                    keydown: "_keydown"
                }), this.refresh(), this._on(this.document, {
                    click: function (e) {
                        t(e.target)
                            .closest(".ui-menu")
                            .length || this.collapseAll(e), this.mouseHandled = !1
                    }
                })
        },
        _destroy: function () {
            this.element.removeAttr("aria-activedescendant")
                .find(".ui-menu")
                .addBack()
                .removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons")
                .removeAttr("role")
                .removeAttr("tabIndex")
                .removeAttr("aria-labelledby")
                .removeAttr("aria-expanded")
                .removeAttr("aria-hidden")
                .removeAttr("aria-disabled")
                .removeUniqueId()
                .show(), this.element.find(".ui-menu-item")
                .removeClass("ui-menu-item")
                .removeAttr("role")
                .removeAttr("aria-disabled")
                .children("a")
                .removeUniqueId()
                .removeClass("ui-corner-all ui-state-hover")
                .removeAttr("tabIndex")
                .removeAttr("role")
                .removeAttr("aria-haspopup")
                .children()
                .each(function () {
                    var e = t(this);
                    e.data("ui-menu-submenu-carat") && e.remove()
                }), this.element.find(".ui-menu-divider")
                .removeClass("ui-menu-divider ui-widget-content")
        },
        _keydown: function (e) {
            function i(t) {
                return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g, "\\$&")
            }
            var s, n, o, a, r, h = !0;
            switch (e.keyCode) {
            case t.ui.keyCode.PAGE_UP:
                this.previousPage(e);
                break;
            case t.ui.keyCode.PAGE_DOWN:
                this.nextPage(e);
                break;
            case t.ui.keyCode.HOME:
                this._move("first", "first", e);
                break;
            case t.ui.keyCode.END:
                this._move("last", "last", e);
                break;
            case t.ui.keyCode.UP:
                this.previous(e);
                break;
            case t.ui.keyCode.DOWN:
                this.next(e);
                break;
            case t.ui.keyCode.LEFT:
                this.collapse(e);
                break;
            case t.ui.keyCode.RIGHT:
                this.active && !this.active.is(".ui-state-disabled") && this.expand(e);
                break;
            case t.ui.keyCode.ENTER:
            case t.ui.keyCode.SPACE:
                this._activate(e);
                break;
            case t.ui.keyCode.ESCAPE:
                this.collapse(e);
                break;
            default:
                h = !1, n = this.previousFilter || "", o = String.fromCharCode(e.keyCode), a = !1, clearTimeout(this.filterTimer), o === n ? a = !0 :
                    o = n + o, r = RegExp("^" + i(o), "i"), s = this.activeMenu.children(".ui-menu-item")
                    .filter(function () {
                        return r.test(t(this)
                            .children("a")
                            .text())
                    }), s = a && -1 !== s.index(this.active.next()) ? this.active.nextAll(".ui-menu-item") : s, s.length || (o = String.fromCharCode(
                            e.keyCode), r = RegExp("^" + i(o), "i"), s = this.activeMenu.children(".ui-menu-item")
                        .filter(function () {
                            return r.test(t(this)
                                .children("a")
                                .text())
                        })), s.length ? (this.focus(e, s), s.length > 1 ? (this.previousFilter = o, this.filterTimer = this._delay(function () {
                        delete this.previousFilter
                    }, 1e3)) : delete this.previousFilter) : delete this.previousFilter
            }
            h && e.preventDefault()
        },
        _activate: function (t) {
            this.active.is(".ui-state-disabled") || (this.active.children("a[aria-haspopup='true']")
                .length ? this.expand(t) : this.select(t))
        },
        refresh: function () {
            var e, i = this.options.icons.submenu,
                s = this.element.find(this.options.menus);
            s.filter(":not(.ui-menu)")
                .addClass("ui-menu ui-widget ui-widget-content ui-corner-all")
                .hide()
                .attr({
                    role: this.options.role,
                    "aria-hidden": "true",
                    "aria-expanded": "false"
                })
                .each(function () {
                    var e = t(this),
                        s = e.prev("a"),
                        n = t("<span>")
                        .addClass("ui-menu-icon ui-icon " + i)
                        .data("ui-menu-submenu-carat", !0);
                    s.attr("aria-haspopup", "true")
                        .prepend(n), e.attr("aria-labelledby", s.attr("id"))
                }), e = s.add(this.element), e.children(":not(.ui-menu-item):has(a)")
                .addClass("ui-menu-item")
                .attr("role", "presentation")
                .children("a")
                .uniqueId()
                .addClass("ui-corner-all")
                .attr({
                    tabIndex: -1,
                    role: this._itemRole()
                }), e.children(":not(.ui-menu-item)")
                .each(function () {
                    var e = t(this);
                    /[^\-\u2014\u2013\s]/.test(e.text()) || e.addClass("ui-widget-content ui-menu-divider")
                }), e.children(".ui-state-disabled")
                .attr("aria-disabled", "true"), this.active && !t.contains(this.element[0], this.active[0]) && this.blur()
        },
        _itemRole: function () {
            return {
                menu: "menuitem",
                listbox: "option"
            }[this.options.role]
        },
        _setOption: function (t, e) {
            "icons" === t && this.element.find(".ui-menu-icon")
                .removeClass(this.options.icons.submenu)
                .addClass(e.submenu), this._super(t, e)
        },
        focus: function (t, e) {
            var i, s;
            this.blur(t, t && "focus" === t.type), this._scrollIntoView(e), this.active = e.first(), s = this.active.children("a")
                .addClass("ui-state-focus"), this.options.role && this.element.attr("aria-activedescendant", s.attr("id")), this.active.parent()
                .closest(".ui-menu-item")
                .children("a:first")
                .addClass("ui-state-active"), t && "keydown" === t.type ? this._close() : this.timer = this._delay(function () {
                    this._close()
                }, this.delay), i = e.children(".ui-menu"), i.length && /^mouse/.test(t.type) && this._startOpening(i), this.activeMenu = e.parent(),
                this._trigger("focus", t, {
                    item: e
                })
        },
        _scrollIntoView: function (e) {
            var i, s, n, o, a, r;
            this._hasScroll() && (i = parseFloat(t.css(this.activeMenu[0], "borderTopWidth")) || 0, s = parseFloat(t.css(this.activeMenu[0],
                    "paddingTop")) || 0, n = e.offset()
                .top - this.activeMenu.offset()
                .top - i - s, o = this.activeMenu.scrollTop(), a = this.activeMenu.height(), r = e.height(), 0 > n ? this.activeMenu.scrollTop(
                    o + n) : n + r > a && this.activeMenu.scrollTop(o + n - a + r))
        },
        blur: function (t, e) {
            e || clearTimeout(this.timer), this.active && (this.active.children("a")
                .removeClass("ui-state-focus"), this.active = null, this._trigger("blur", t, {
                    item: this.active
                }))
        },
        _startOpening: function (t) {
            clearTimeout(this.timer), "true" === t.attr("aria-hidden") && (this.timer = this._delay(function () {
                this._close(), this._open(t)
            }, this.delay))
        },
        _open: function (e) {
            var i = t.extend({
                of: this.active
            }, this.options.position);
            clearTimeout(this.timer), this.element.find(".ui-menu")
                .not(e.parents(".ui-menu"))
                .hide()
                .attr("aria-hidden", "true"), e.show()
                .removeAttr("aria-hidden")
                .attr("aria-expanded", "true")
                .position(i)
        },
        collapseAll: function (e, i) {
            clearTimeout(this.timer), this.timer = this._delay(function () {
                var s = i ? this.element : t(e && e.target)
                    .closest(this.element.find(".ui-menu"));
                s.length || (s = this.element), this._close(s), this.blur(e), this.activeMenu = s
            }, this.delay)
        },
        _close: function (t) {
            t || (t = this.active ? this.active.parent() : this.element), t.find(".ui-menu")
                .hide()
                .attr("aria-hidden", "true")
                .attr("aria-expanded", "false")
                .end()
                .find("a.ui-state-active")
                .removeClass("ui-state-active")
        },
        collapse: function (t) {
            var e = this.active && this.active.parent()
                .closest(".ui-menu-item", this.element);
            e && e.length && (this._close(), this.focus(t, e))
        },
        expand: function (t) {
            var e = this.active && this.active.children(".ui-menu ")
                .children(".ui-menu-item")
                .first();
            e && e.length && (this._open(e.parent()), this._delay(function () {
                this.focus(t, e)
            }))
        },
        next: function (t) {
            this._move("next", "first", t)
        },
        previous: function (t) {
            this._move("prev", "last", t)
        },
        isFirstItem: function () {
            return this.active && !this.active.prevAll(".ui-menu-item")
                .length
        },
        isLastItem: function () {
            return this.active && !this.active.nextAll(".ui-menu-item")
                .length
        },
        _move: function (t, e, i) {
            var s;
            this.active && (s = "first" === t || "last" === t ? this.active["first" === t ? "prevAll" : "nextAll"](".ui-menu-item")
                .eq(-1) : this.active[t + "All"](".ui-menu-item")
                .eq(0)), s && s.length && this.active || (s = this.activeMenu.children(".ui-menu-item")[e]()), this.focus(i, s)
        },
        nextPage: function (e) {
            var i, s, n;
            return this.active ? (this.isLastItem() || (this._hasScroll() ? (s = this.active.offset()
                    .top, n = this.element.height(), this.active.nextAll(".ui-menu-item")
                    .each(function () {
                        return i = t(this), 0 > i.offset()
                            .top - s - n
                    }), this.focus(e, i)) : this.focus(e, this.activeMenu.children(".ui-menu-item")[this.active ? "last" : "first"]())),
                undefined) : (this.next(e), undefined)
        },
        previousPage: function (e) {
            var i, s, n;
            return this.active ? (this.isFirstItem() || (this._hasScroll() ? (s = this.active.offset()
                .top, n = this.element.height(), this.active.prevAll(".ui-menu-item")
                .each(function () {
                    return i = t(this), i.offset()
                        .top - s + n > 0
                }), this.focus(e, i)) : this.focus(e, this.activeMenu.children(".ui-menu-item")
                .first())), undefined) : (this.next(e), undefined)
        },
        _hasScroll: function () {
            return this.element.outerHeight() < this.element.prop("scrollHeight")
        },
        select: function (e) {
            this.active = this.active || t(e.target)
                .closest(".ui-menu-item");
            var i = {
                item: this.active
            };
            this.active.has(".ui-menu")
                .length || this.collapseAll(e, !0), this._trigger("select", e, i)
        }
    })
}(jQuery),
function (t, e) {
    function i(t, e, i) {
        return [parseFloat(t[0]) * (p.test(t[0]) ? e / 100 : 1), parseFloat(t[1]) * (p.test(t[1]) ? i / 100 : 1)]
    }

    function s(e, i) {
        return parseInt(t.css(e, i), 10) || 0
    }

    function n(e) {
        var i = e[0];
        return 9 === i.nodeType ? {
            width: e.width(),
            height: e.height(),
            offset: {
                top: 0,
                left: 0
            }
        } : t.isWindow(i) ? {
            width: e.width(),
            height: e.height(),
            offset: {
                top: e.scrollTop(),
                left: e.scrollLeft()
            }
        } : i.preventDefault ? {
            width: 0,
            height: 0,
            offset: {
                top: i.pageY,
                left: i.pageX
            }
        } : {
            width: e.outerWidth(),
            height: e.outerHeight(),
            offset: e.offset()
        }
    }
    t.ui = t.ui || {};
    var o, a = Math.max,
        r = Math.abs,
        h = Math.round,
        l = /left|center|right/,
        c = /top|center|bottom/,
        u = /[\+\-]\d+(\.[\d]+)?%?/,
        d = /^\w+/,
        p = /%$/,
        f = t.fn.position;
    t.position = {
            scrollbarWidth: function () {
                if (o !== e) return o;
                var i, s, n = t("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),
                    a = n.children()[0];
                return t("body")
                    .append(n), i = a.offsetWidth, n.css("overflow", "scroll"), s = a.offsetWidth, i === s && (s = n[0].clientWidth), n.remove(), o = i - s
            },
            getScrollInfo: function (e) {
                var i = e.isWindow ? "" : e.element.css("overflow-x"),
                    s = e.isWindow ? "" : e.element.css("overflow-y"),
                    n = "scroll" === i || "auto" === i && e.width < e.element[0].scrollWidth,
                    o = "scroll" === s || "auto" === s && e.height < e.element[0].scrollHeight;
                return {
                    width: o ? t.position.scrollbarWidth() : 0,
                    height: n ? t.position.scrollbarWidth() : 0
                }
            },
            getWithinInfo: function (e) {
                var i = t(e || window),
                    s = t.isWindow(i[0]);
                return {
                    element: i,
                    isWindow: s,
                    offset: i.offset() || {
                        left: 0,
                        top: 0
                    },
                    scrollLeft: i.scrollLeft(),
                    scrollTop: i.scrollTop(),
                    width: s ? i.width() : i.outerWidth(),
                    height: s ? i.height() : i.outerHeight()
                }
            }
        }, t.fn.position = function (e) {
            if (!e || !e.of) return f.apply(this, arguments);
            e = t.extend({}, e);
            var o, p, g, m, v, _, b = t(e.of),
                y = t.position.getWithinInfo(e.within),
                w = t.position.getScrollInfo(y),
                k = (e.collision || "flip")
                .split(" "),
                x = {};
            return _ = n(b), b[0].preventDefault && (e.at = "left top"), p = _.width, g = _.height, m = _.offset, v = t.extend({}, m), t.each(["my", "at"],
                    function () {
                        var t, i, s = (e[this] || "")
                            .split(" ");
                        1 === s.length && (s = l.test(s[0]) ? s.concat(["center"]) : c.test(s[0]) ? ["center"].concat(s) : ["center", "center"]), s[0] = l.test(
                            s[0]) ? s[0] : "center", s[1] = c.test(s[1]) ? s[1] : "center", t = u.exec(s[0]), i = u.exec(s[1]), x[this] = [t ? t[0] : 0, i ?
                            i[0] : 0], e[this] = [d.exec(s[0])[0], d.exec(s[1])[0]]
                    }), 1 === k.length && (k[1] = k[0]), "right" === e.at[0] ? v.left += p : "center" === e.at[0] && (v.left += p / 2), "bottom" === e.at[1] ?
                v.top += g : "center" === e.at[1] && (v.top += g / 2), o = i(x.at, p, g), v.left += o[0], v.top += o[1], this.each(function () {
                    var n, l, c = t(this),
                        u = c.outerWidth(),
                        d = c.outerHeight(),
                        f = s(this, "marginLeft"),
                        _ = s(this, "marginTop"),
                        D = u + f + s(this, "marginRight") + w.width,
                        C = d + _ + s(this, "marginBottom") + w.height,
                        I = t.extend({}, v),
                        P = i(x.my, c.outerWidth(), c.outerHeight());
                    "right" === e.my[0] ? I.left -= u : "center" === e.my[0] && (I.left -= u / 2), "bottom" === e.my[1] ? I.top -= d : "center" === e.my[1] &&
                        (I.top -= d / 2), I.left += P[0], I.top += P[1], t.support.offsetFractions || (I.left = h(I.left), I.top = h(I.top)), n = {
                            marginLeft: f,
                            marginTop: _
                        }, t.each(["left", "top"], function (i, s) {
                            t.ui.position[k[i]] && t.ui.position[k[i]][s](I, {
                                targetWidth: p,
                                targetHeight: g,
                                elemWidth: u,
                                elemHeight: d,
                                collisionPosition: n,
                                collisionWidth: D,
                                collisionHeight: C,
                                offset: [o[0] + P[0], o[1] + P[1]],
                                my: e.my,
                                at: e.at,
                                within: y,
                                elem: c
                            })
                        }), e.using && (l = function (t) {
                            var i = m.left - I.left,
                                s = i + p - u,
                                n = m.top - I.top,
                                o = n + g - d,
                                h = {
                                    target: {
                                        element: b,
                                        left: m.left,
                                        top: m.top,
                                        width: p,
                                        height: g
                                    },
                                    element: {
                                        element: c,
                                        left: I.left,
                                        top: I.top,
                                        width: u,
                                        height: d
                                    },
                                    horizontal: 0 > s ? "left" : i > 0 ? "right" : "center",
                                    vertical: 0 > o ? "top" : n > 0 ? "bottom" : "middle"
                                };
                            u > p && p > r(i + s) && (h.horizontal = "center"), d > g && g > r(n + o) && (h.vertical = "middle"), h.important = a(r(i),
                                r(s)) > a(r(n), r(o)) ? "horizontal" : "vertical", e.using.call(this, t, h)
                        }), c.offset(t.extend(I, {
                            using: l
                        }))
                })
        }, t.ui.position = {
            fit: {
                left: function (t, e) {
                    var i, s = e.within,
                        n = s.isWindow ? s.scrollLeft : s.offset.left,
                        o = s.width,
                        r = t.left - e.collisionPosition.marginLeft,
                        h = n - r,
                        l = r + e.collisionWidth - o - n;
                    e.collisionWidth > o ? h > 0 && 0 >= l ? (i = t.left + h + e.collisionWidth - o - n, t.left += h - i) : t.left = l > 0 && 0 >= h ? n :
                        h > l ? n + o - e.collisionWidth : n : h > 0 ? t.left += h : l > 0 ? t.left -= l : t.left = a(t.left - r, t.left)
                },
                top: function (t, e) {
                    var i, s = e.within,
                        n = s.isWindow ? s.scrollTop : s.offset.top,
                        o = e.within.height,
                        r = t.top - e.collisionPosition.marginTop,
                        h = n - r,
                        l = r + e.collisionHeight - o - n;
                    e.collisionHeight > o ? h > 0 && 0 >= l ? (i = t.top + h + e.collisionHeight - o - n, t.top += h - i) : t.top = l > 0 && 0 >= h ? n : h >
                        l ? n + o - e.collisionHeight : n : h > 0 ? t.top += h : l > 0 ? t.top -= l : t.top = a(t.top - r, t.top)
                }
            },
            flip: {
                left: function (t, e) {
                    var i, s, n = e.within,
                        o = n.offset.left + n.scrollLeft,
                        a = n.width,
                        h = n.isWindow ? n.scrollLeft : n.offset.left,
                        l = t.left - e.collisionPosition.marginLeft,
                        c = l - h,
                        u = l + e.collisionWidth - a - h,
                        d = "left" === e.my[0] ? -e.elemWidth : "right" === e.my[0] ? e.elemWidth : 0,
                        p = "left" === e.at[0] ? e.targetWidth : "right" === e.at[0] ? -e.targetWidth : 0,
                        f = -2 * e.offset[0];
                    0 > c ? (i = t.left + d + p + f + e.collisionWidth - a - o, (0 > i || r(c) > i) && (t.left += d + p + f)) : u > 0 && (s = t.left - e.collisionPosition
                        .marginLeft + d + p + f - h, (s > 0 || u > r(s)) && (t.left += d + p + f))
                },
                top: function (t, e) {
                    var i, s, n = e.within,
                        o = n.offset.top + n.scrollTop,
                        a = n.height,
                        h = n.isWindow ? n.scrollTop : n.offset.top,
                        l = t.top - e.collisionPosition.marginTop,
                        c = l - h,
                        u = l + e.collisionHeight - a - h,
                        d = "top" === e.my[1],
                        p = d ? -e.elemHeight : "bottom" === e.my[1] ? e.elemHeight : 0,
                        f = "top" === e.at[1] ? e.targetHeight : "bottom" === e.at[1] ? -e.targetHeight : 0,
                        g = -2 * e.offset[1];
                    0 > c ? (s = t.top + p + f + g + e.collisionHeight - a - o, t.top + p + f + g > c && (0 > s || r(c) > s) && (t.top += p + f + g)) : u >
                        0 && (i = t.top - e.collisionPosition.marginTop + p + f + g - h, t.top + p + f + g > u && (i > 0 || u > r(i)) && (t.top += p + f +
                            g))
                }
            },
            flipfit: {
                left: function () {
                    t.ui.position.flip.left.apply(this, arguments), t.ui.position.fit.left.apply(this, arguments)
                },
                top: function () {
                    t.ui.position.flip.top.apply(this, arguments), t.ui.position.fit.top.apply(this, arguments)
                }
            }
        },
        function () {
            var e, i, s, n, o, a = document.getElementsByTagName("body")[0],
                r = document.createElement("div");
            e = document.createElement(a ? "div" : "body"), s = {
                visibility: "hidden",
                width: 0,
                height: 0,
                border: 0,
                margin: 0,
                background: "none"
            }, a && t.extend(s, {
                position: "absolute",
                left: "-1000px",
                top: "-1000px"
            });
            for (o in s) e.style[o] = s[o];
            e.appendChild(r), i = a || document.documentElement, i.insertBefore(e, i.firstChild), r.style.cssText = "position: absolute; left: 10.7432222px;",
                n = t(r)
                .offset()
                .left, t.support.offsetFractions = n > 10 && 11 > n, e.innerHTML = "", i.removeChild(e)
        }()
}(jQuery),
function (t, e) {
    t.widget("ui.progressbar", {
        version: "1.10.3",
        options: {
            max: 100,
            value: 0,
            change: null,
            complete: null
        },
        min: 0,
        _create: function () {
            this.oldValue = this.options.value = this._constrainedValue(), this.element.addClass(
                    "ui-progressbar ui-widget ui-widget-content ui-corner-all")
                .attr({
                    role: "progressbar",
                    "aria-valuemin": this.min
                }), this.valueDiv = t("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>")
                .appendTo(this.element), this._refreshValue()
        },
        _destroy: function () {
            this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all")
                .removeAttr("role")
                .removeAttr("aria-valuemin")
                .removeAttr("aria-valuemax")
                .removeAttr("aria-valuenow"), this.valueDiv.remove()
        },
        value: function (t) {
            return t === e ? this.options.value : (this.options.value = this._constrainedValue(t), this._refreshValue(), e)
        },
        _constrainedValue: function (t) {
            return t === e && (t = this.options.value), this.indeterminate = t === !1, "number" != typeof t && (t = 0), this.indeterminate ? !1 :
                Math.min(this.options.max, Math.max(this.min, t))
        },
        _setOptions: function (t) {
            var e = t.value;
            delete t.value, this._super(t), this.options.value = this._constrainedValue(e), this._refreshValue()
        },
        _setOption: function (t, e) {
            "max" === t && (e = Math.max(this.min, e)), this._super(t, e)
        },
        _percentage: function () {
            return this.indeterminate ? 100 : 100 * (this.options.value - this.min) / (this.options.max - this.min)
        },
        _refreshValue: function () {
            var e = this.options.value,
                i = this._percentage();
            this.valueDiv.toggle(this.indeterminate || e > this.min)
                .toggleClass("ui-corner-right", e === this.options.max)
                .width(i.toFixed(0) + "%"), this.element.toggleClass("ui-progressbar-indeterminate", this.indeterminate), this.indeterminate ? (
                    this.element.removeAttr("aria-valuenow"), this.overlayDiv || (this.overlayDiv = t("<div class='ui-progressbar-overlay'></div>")
                        .appendTo(this.valueDiv))) : (this.element.attr({
                    "aria-valuemax": this.options.max,
                    "aria-valuenow": e
                }), this.overlayDiv && (this.overlayDiv.remove(), this.overlayDiv = null)), this.oldValue !== e && (this.oldValue = e, this._trigger(
                    "change")), e === this.options.max && this._trigger("complete")
        }
    })
}(jQuery),
function (t) {
    var e = 5;
    t.widget("ui.slider", t.ui.mouse, {
        version: "1.10.3",
        widgetEventPrefix: "slide",
        options: {
            animate: !1,
            distance: 0,
            max: 100,
            min: 0,
            orientation: "horizontal",
            range: !1,
            step: 1,
            value: 0,
            values: null,
            change: null,
            slide: null,
            start: null,
            stop: null
        },
        _create: function () {
            this._keySliding = !1, this._mouseSliding = !1, this._animateOff = !0, this._handleIndex = null, this._detectOrientation(), this._mouseInit(),
                this.element.addClass("ui-slider ui-slider-" + this.orientation + " ui-widget" + " ui-widget-content" + " ui-corner-all"), this._refresh(),
                this._setOption("disabled", this.options.disabled), this._animateOff = !1
        },
        _refresh: function () {
            this._createRange(), this._createHandles(), this._setupEvents(), this._refreshValue()
        },
        _createHandles: function () {
            var e, i, s = this.options,
                n = this.element.find(".ui-slider-handle")
                .addClass("ui-state-default ui-corner-all"),
                o = "<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",
                a = [];
            for (i = s.values && s.values.length || 1, n.length > i && (n.slice(i)
                    .remove(), n = n.slice(0, i)), e = n.length; i > e; e++) a.push(o);
            this.handles = n.add(t(a.join(""))
                .appendTo(this.element)), this.handle = this.handles.eq(0), this.handles.each(function (e) {
                t(this)
                    .data("ui-slider-handle-index", e)
            })
        },
        _createRange: function () {
            var e = this.options,
                i = "";
            e.range ? (e.range === !0 && (e.values ? e.values.length && 2 !== e.values.length ? e.values = [e.values[0], e.values[0]] : t.isArray(e
                    .values) && (e.values = e.values.slice(0)) : e.values = [this._valueMin(), this._valueMin()]), this.range && this.range.length ?
                this.range.removeClass("ui-slider-range-min ui-slider-range-max")
                .css({
                    left: "",
                    bottom: ""
                }) : (this.range = t("<div></div>")
                    .appendTo(this.element), i = "ui-slider-range ui-widget-header ui-corner-all"), this.range.addClass(i + ("min" === e.range ||
                    "max" === e.range ? " ui-slider-range-" + e.range : ""))) : this.range = t([])
        },
        _setupEvents: function () {
            var t = this.handles.add(this.range)
                .filter("a");
            this._off(t), this._on(t, this._handleEvents), this._hoverable(t), this._focusable(t)
        },
        _destroy: function () {
            this.handles.remove(), this.range.remove(), this.element.removeClass(
                "ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"), this._mouseDestroy()
        },
        _mouseCapture: function (e) {
            var i, s, n, o, a, r, h, l, c = this,
                u = this.options;
            return u.disabled ? !1 : (this.elementSize = {
                width: this.element.outerWidth(),
                height: this.element.outerHeight()
            }, this.elementOffset = this.element.offset(), i = {
                x: e.pageX,
                y: e.pageY
            }, s = this._normValueFromMouse(i), n = this._valueMax() - this._valueMin() + 1, this.handles.each(function (e) {
                var i = Math.abs(s - c.values(e));
                (n > i || n === i && (e === c._lastChangedValue || c.values(e) === u.min)) && (n = i, o = t(this), a = e)
            }), r = this._start(e, a), r === !1 ? !1 : (this._mouseSliding = !0, this._handleIndex = a, o.addClass("ui-state-active")
                .focus(), h = o.offset(), l = !t(e.target)
                .parents()
                .addBack()
                .is(".ui-slider-handle"), this._clickOffset = l ? {
                    left: 0,
                    top: 0
                } : {
                    left: e.pageX - h.left - o.width() / 2,
                    top: e.pageY - h.top - o.height() / 2 - (parseInt(o.css("borderTopWidth"), 10) || 0) - (parseInt(o.css(
                        "borderBottomWidth"), 10) || 0) + (parseInt(o.css("marginTop"), 10) || 0)
                }, this.handles.hasClass("ui-state-hover") || this._slide(e, a, s), this._animateOff = !0, !0))
        },
        _mouseStart: function () {
            return !0
        },
        _mouseDrag: function (t) {
            var e = {
                    x: t.pageX,
                    y: t.pageY
                },
                i = this._normValueFromMouse(e);
            return this._slide(t, this._handleIndex, i), !1
        },
        _mouseStop: function (t) {
            return this.handles.removeClass("ui-state-active"), this._mouseSliding = !1, this._stop(t, this._handleIndex), this._change(t, this._handleIndex),
                this._handleIndex = null, this._clickOffset = null, this._animateOff = !1, !1
        },
        _detectOrientation: function () {
            this.orientation = "vertical" === this.options.orientation ? "vertical" : "horizontal"
        },
        _normValueFromMouse: function (t) {
            var e, i, s, n, o;
            return "horizontal" === this.orientation ? (e = this.elementSize.width, i = t.x - this.elementOffset.left - (this._clickOffset ? this._clickOffset
                    .left : 0)) : (e = this.elementSize.height, i = t.y - this.elementOffset.top - (this._clickOffset ? this._clickOffset.top : 0)),
                s = i / e, s > 1 && (s = 1), 0 > s && (s = 0), "vertical" === this.orientation && (s = 1 - s), n = this._valueMax() - this._valueMin(),
                o = this._valueMin() + s * n, this._trimAlignValue(o)
        },
        _start: function (t, e) {
            var i = {
                handle: this.handles[e],
                value: this.value()
            };
            return this.options.values && this.options.values.length && (i.value = this.values(e), i.values = this.values()), this._trigger("start",
                t, i)
        },
        _slide: function (t, e, i) {
            var s, n, o;
            this.options.values && this.options.values.length ? (s = this.values(e ? 0 : 1), 2 === this.options.values.length && this.options.range ===
                !0 && (0 === e && i > s || 1 === e && s > i) && (i = s), i !== this.values(e) && (n = this.values(), n[e] = i, o = this._trigger(
                    "slide", t, {
                        handle: this.handles[e],
                        value: i,
                        values: n
                    }), s = this.values(e ? 0 : 1), o !== !1 && this.values(e, i, !0))) : i !== this.value() && (o = this._trigger("slide", t, {
                handle: this.handles[e],
                value: i
            }), o !== !1 && this.value(i))
        },
        _stop: function (t, e) {
            var i = {
                handle: this.handles[e],
                value: this.value()
            };
            this.options.values && this.options.values.length && (i.value = this.values(e), i.values = this.values()), this._trigger("stop", t, i)
        },
        _change: function (t, e) {
            if (!this._keySliding && !this._mouseSliding) {
                var i = {
                    handle: this.handles[e],
                    value: this.value()
                };
                this.options.values && this.options.values.length && (i.value = this.values(e), i.values = this.values()), this._lastChangedValue =
                    e, this._trigger("change", t, i)
            }
        },
        value: function (t) {
            return arguments.length ? (this.options.value = this._trimAlignValue(t), this._refreshValue(), this._change(null, 0), undefined) : this
                ._value()
        },
        values: function (e, i) {
            var s, n, o;
            if (arguments.length > 1) return this.options.values[e] = this._trimAlignValue(i), this._refreshValue(), this._change(null, e),
                undefined;
            if (!arguments.length) return this._values();
            if (!t.isArray(arguments[0])) return this.options.values && this.options.values.length ? this._values(e) : this.value();
            for (s = this.options.values, n = arguments[0], o = 0; s.length > o; o += 1) s[o] = this._trimAlignValue(n[o]), this._change(null, o);
            this._refreshValue()
        },
        _setOption: function (e, i) {
            var s, n = 0;
            switch ("range" === e && this.options.range === !0 && ("min" === i ? (this.options.value = this._values(0), this.options.values = null) :
                "max" === i && (this.options.value = this._values(this.options.values.length - 1), this.options.values = null)), t.isArray(this
                .options.values) && (n = this.options.values.length), t.Widget.prototype._setOption.apply(this, arguments), e) {
            case "orientation":
                this._detectOrientation(), this.element.removeClass("ui-slider-horizontal ui-slider-vertical")
                    .addClass("ui-slider-" + this.orientation), this._refreshValue();
                break;
            case "value":
                this._animateOff = !0, this._refreshValue(), this._change(null, 0), this._animateOff = !1;
                break;
            case "values":
                for (this._animateOff = !0, this._refreshValue(), s = 0; n > s; s += 1) this._change(null, s);
                this._animateOff = !1;
                break;
            case "min":
            case "max":
                this._animateOff = !0, this._refreshValue(), this._animateOff = !1;
                break;
            case "range":
                this._animateOff = !0, this._refresh(), this._animateOff = !1
            }
        },
        _value: function () {
            var t = this.options.value;
            return t = this._trimAlignValue(t)
        },
        _values: function (t) {
            var e, i, s;
            if (arguments.length) return e = this.options.values[t], e = this._trimAlignValue(e);
            if (this.options.values && this.options.values.length) {
                for (i = this.options.values.slice(), s = 0; i.length > s; s += 1) i[s] = this._trimAlignValue(i[s]);
                return i
            }
            return []
        },
        _trimAlignValue: function (t) {
            if (this._valueMin() >= t) return this._valueMin();
            if (t >= this._valueMax()) return this._valueMax();
            var e = this.options.step > 0 ? this.options.step : 1,
                i = (t - this._valueMin()) % e,
                s = t - i;
            return 2 * Math.abs(i) >= e && (s += i > 0 ? e : -e), parseFloat(s.toFixed(5))
        },
        _valueMin: function () {
            return this.options.min
        },
        _valueMax: function () {
            return this.options.max
        },
        _refreshValue: function () {
            var e, i, s, n, o, a = this.options.range,
                r = this.options,
                h = this,
                l = this._animateOff ? !1 : r.animate,
                c = {};
            this.options.values && this.options.values.length ? this.handles.each(function (s) {
                i = 100 * ((h.values(s) - h._valueMin()) / (h._valueMax() - h._valueMin())), c["horizontal" === h.orientation ? "left" :
                        "bottom"] = i + "%", t(this)
                    .stop(1, 1)[l ? "animate" : "css"](c, r.animate), h.options.range === !0 && ("horizontal" === h.orientation ? (0 === s &&
                        h.range.stop(1, 1)[l ? "animate" : "css"]({
                            left: i + "%"
                        }, r.animate), 1 === s && h.range[l ? "animate" : "css"]({
                            width: i - e + "%"
                        }, {
                            queue: !1,
                            duration: r.animate
                        })) : (0 === s && h.range.stop(1, 1)[l ? "animate" : "css"]({
                        bottom: i + "%"
                    }, r.animate), 1 === s && h.range[l ? "animate" : "css"]({
                        height: i - e + "%"
                    }, {
                        queue: !1,
                        duration: r.animate
                    }))), e = i
            }) : (s = this.value(), n = this._valueMin(), o = this._valueMax(), i = o !== n ? 100 * ((s - n) / (o - n)) : 0, c["horizontal" ===
                    this.orientation ? "left" : "bottom"] = i + "%", this.handle.stop(1, 1)[l ? "animate" : "css"](c, r.animate), "min" === a &&
                "horizontal" === this.orientation && this.range.stop(1, 1)[l ? "animate" : "css"]({
                    width: i + "%"
                }, r.animate), "max" === a && "horizontal" === this.orientation && this.range[l ? "animate" : "css"]({
                    width: 100 - i + "%"
                }, {
                    queue: !1,
                    duration: r.animate
                }), "min" === a && "vertical" === this.orientation && this.range.stop(1, 1)[l ? "animate" : "css"]({
                    height: i + "%"
                }, r.animate), "max" === a && "vertical" === this.orientation && this.range[l ? "animate" : "css"]({
                    height: 100 - i + "%"
                }, {
                    queue: !1,
                    duration: r.animate
                }))
        },
        _handleEvents: {
            keydown: function (i) {
                var s, n, o, a, r = t(i.target)
                    .data("ui-slider-handle-index");
                switch (i.keyCode) {
                case t.ui.keyCode.HOME:
                case t.ui.keyCode.END:
                case t.ui.keyCode.PAGE_UP:
                case t.ui.keyCode.PAGE_DOWN:
                case t.ui.keyCode.UP:
                case t.ui.keyCode.RIGHT:
                case t.ui.keyCode.DOWN:
                case t.ui.keyCode.LEFT:
                    if (i.preventDefault(), !this._keySliding && (this._keySliding = !0, t(i.target)
                            .addClass("ui-state-active"), s = this._start(i, r), s === !1)) return
                }
                switch (a = this.options.step, n = o = this.options.values && this.options.values.length ? this.values(r) : this.value(), i.keyCode) {
                case t.ui.keyCode.HOME:
                    o = this._valueMin();
                    break;
                case t.ui.keyCode.END:
                    o = this._valueMax();
                    break;
                case t.ui.keyCode.PAGE_UP:
                    o = this._trimAlignValue(n + (this._valueMax() - this._valueMin()) / e);
                    break;
                case t.ui.keyCode.PAGE_DOWN:
                    o = this._trimAlignValue(n - (this._valueMax() - this._valueMin()) / e);
                    break;
                case t.ui.keyCode.UP:
                case t.ui.keyCode.RIGHT:
                    if (n === this._valueMax()) return;
                    o = this._trimAlignValue(n + a);
                    break;
                case t.ui.keyCode.DOWN:
                case t.ui.keyCode.LEFT:
                    if (n === this._valueMin()) return;
                    o = this._trimAlignValue(n - a)
                }
                this._slide(i, r, o)
            },
            click: function (t) {
                t.preventDefault()
            },
            keyup: function (e) {
                var i = t(e.target)
                    .data("ui-slider-handle-index");
                this._keySliding && (this._keySliding = !1, this._stop(e, i), this._change(e, i), t(e.target)
                    .removeClass("ui-state-active"))
            }
        }
    })
}(jQuery),
function (t) {
    function e(t) {
        return function () {
            var e = this.element.val();
            t.apply(this, arguments), this._refresh(), e !== this.element.val() && this._trigger("change")
        }
    }
    t.widget("ui.spinner", {
        version: "1.10.3",
        defaultElement: "<input>",
        widgetEventPrefix: "spin",
        options: {
            culture: null,
            icons: {
                down: "ui-icon-triangle-1-s",
                up: "ui-icon-triangle-1-n"
            },
            incremental: !0,
            max: null,
            min: null,
            numberFormat: null,
            page: 10,
            step: 1,
            change: null,
            spin: null,
            start: null,
            stop: null
        },
        _create: function () {
            this._setOption("max", this.options.max), this._setOption("min", this.options.min), this._setOption("step", this.options.step), this._value(
                this.element.val(), !0), this._draw(), this._on(this._events), this._refresh(), this._on(this.window, {
                beforeunload: function () {
                    this.element.removeAttr("autocomplete")
                }
            })
        },
        _getCreateOptions: function () {
            var e = {},
                i = this.element;
            return t.each(["min", "max", "step"], function (t, s) {
                var n = i.attr(s);
                void 0 !== n && n.length && (e[s] = n)
            }), e
        },
        _events: {
            keydown: function (t) {
                this._start(t) && this._keydown(t) && t.preventDefault()
            },
            keyup: "_stop",
            focus: function () {
                this.previous = this.element.val()
            },
            blur: function (t) {
                return this.cancelBlur ? (delete this.cancelBlur, void 0) : (this._stop(), this._refresh(), this.previous !== this.element.val() &&
                    this._trigger("change", t), void 0)
            },
            mousewheel: function (t, e) {
                if (e) {
                    if (!this.spinning && !this._start(t)) return !1;
                    this._spin((e > 0 ? 1 : -1) * this.options.step, t), clearTimeout(this.mousewheelTimer), this.mousewheelTimer = this._delay(
                        function () {
                            this.spinning && this._stop(t)
                        }, 100), t.preventDefault()
                }
            },
            "mousedown .ui-spinner-button": function (e) {
                function i() {
                    var t = this.element[0] === this.document[0].activeElement;
                    t || (this.element.focus(), this.previous = s, this._delay(function () {
                        this.previous = s
                    }))
                }
                var s;
                s = this.element[0] === this.document[0].activeElement ? this.previous : this.element.val(), e.preventDefault(), i.call(this), this
                    .cancelBlur = !0, this._delay(function () {
                        delete this.cancelBlur, i.call(this)
                    }), this._start(e) !== !1 && this._repeat(null, t(e.currentTarget)
                        .hasClass("ui-spinner-up") ? 1 : -1, e)
            },
            "mouseup .ui-spinner-button": "_stop",
            "mouseenter .ui-spinner-button": function (e) {
                return t(e.currentTarget)
                    .hasClass("ui-state-active") ? this._start(e) === !1 ? !1 : (this._repeat(null, t(e.currentTarget)
                        .hasClass("ui-spinner-up") ? 1 : -1, e), void 0) : void 0
            },
            "mouseleave .ui-spinner-button": "_stop"
        },
        _draw: function () {
            var t = this.uiSpinner = this.element.addClass("ui-spinner-input")
                .attr("autocomplete", "off")
                .wrap(this._uiSpinnerHtml())
                .parent()
                .append(this._buttonHtml());
            this.element.attr("role", "spinbutton"), this.buttons = t.find(".ui-spinner-button")
                .attr("tabIndex", -1)
                .button()
                .removeClass("ui-corner-all"), this.buttons.height() > Math.ceil(.5 * t.height()) && t.height() > 0 && t.height(t.height()), this.options
                .disabled && this.disable()
        },
        _keydown: function (e) {
            var i = this.options,
                s = t.ui.keyCode;
            switch (e.keyCode) {
            case s.UP:
                return this._repeat(null, 1, e), !0;
            case s.DOWN:
                return this._repeat(null, -1, e), !0;
            case s.PAGE_UP:
                return this._repeat(null, i.page, e), !0;
            case s.PAGE_DOWN:
                return this._repeat(null, -i.page, e), !0
            }
            return !1
        },
        _uiSpinnerHtml: function () {
            return "<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"
        },
        _buttonHtml: function () {
            return "<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon " + this.options.icons.up + "'>&#9650;</span>" +
                "</a>" + "<a class='ui-spinner-button ui-spinner-down ui-corner-br'>" + "<span class='ui-icon " + this.options.icons.down +
                "'>&#9660;</span>" + "</a>"
        },
        _start: function (t) {
            return this.spinning || this._trigger("start", t) !== !1 ? (this.counter || (this.counter = 1), this.spinning = !0, !0) : !1
        },
        _repeat: function (t, e, i) {
            t = t || 500, clearTimeout(this.timer), this.timer = this._delay(function () {
                this._repeat(40, e, i)
            }, t), this._spin(e * this.options.step, i)
        },
        _spin: function (t, e) {
            var i = this.value() || 0;
            this.counter || (this.counter = 1), i = this._adjustValue(i + t * this._increment(this.counter)), this.spinning && this._trigger("spin",
                e, {
                    value: i
                }) === !1 || (this._value(i), this.counter++)
        },
        _increment: function (e) {
            var i = this.options.incremental;
            return i ? t.isFunction(i) ? i(e) : Math.floor(e * e * e / 5e4 - e * e / 500 + 17 * e / 200 + 1) : 1
        },
        _precision: function () {
            var t = this._precisionOf(this.options.step);
            return null !== this.options.min && (t = Math.max(t, this._precisionOf(this.options.min))), t
        },
        _precisionOf: function (t) {
            var e = "" + t,
                i = e.indexOf(".");
            return -1 === i ? 0 : e.length - i - 1
        },
        _adjustValue: function (t) {
            var e, i, s = this.options;
            return e = null !== s.min ? s.min : 0, i = t - e, i = Math.round(i / s.step) * s.step, t = e + i, t = parseFloat(t.toFixed(this._precision())),
                null !== s.max && t > s.max ? s.max : null !== s.min && s.min > t ? s.min : t
        },
        _stop: function (t) {
            this.spinning && (clearTimeout(this.timer), clearTimeout(this.mousewheelTimer), this.counter = 0, this.spinning = !1, this._trigger(
                "stop", t))
        },
        _setOption: function (t, e) {
            if ("culture" === t || "numberFormat" === t) {
                var i = this._parse(this.element.val());
                return this.options[t] = e, this.element.val(this._format(i)), void 0
            }("max" === t || "min" === t || "step" === t) && "string" == typeof e && (e = this._parse(e)), "icons" === t && (this.buttons.first()
                .find(".ui-icon")
                .removeClass(this.options.icons.up)
                .addClass(e.up), this.buttons.last()
                .find(".ui-icon")
                .removeClass(this.options.icons.down)
                .addClass(e.down)), this._super(t, e), "disabled" === t && (e ? (this.element.prop("disabled", !0), this.buttons.button(
                "disable")) : (this.element.prop("disabled", !1), this.buttons.button("enable")))
        },
        _setOptions: e(function (t) {
            this._super(t), this._value(this.element.val())
        }),
        _parse: function (t) {
            return "string" == typeof t && "" !== t && (t = window.Globalize && this.options.numberFormat ? Globalize.parseFloat(t, 10, this.options
                .culture) : +t), "" === t || isNaN(t) ? null : t
        },
        _format: function (t) {
            return "" === t ? "" : window.Globalize && this.options.numberFormat ? Globalize.format(t, this.options.numberFormat, this.options.culture) :
                t
        },
        _refresh: function () {
            this.element.attr({
                "aria-valuemin": this.options.min,
                "aria-valuemax": this.options.max,
                "aria-valuenow": this._parse(this.element.val())
            })
        },
        _value: function (t, e) {
            var i;
            "" !== t && (i = this._parse(t), null !== i && (e || (i = this._adjustValue(i)), t = this._format(i))), this.element.val(t), this._refresh()
        },
        _destroy: function () {
            this.element.removeClass("ui-spinner-input")
                .prop("disabled", !1)
                .removeAttr("autocomplete")
                .removeAttr("role")
                .removeAttr("aria-valuemin")
                .removeAttr("aria-valuemax")
                .removeAttr("aria-valuenow"), this.uiSpinner.replaceWith(this.element)
        },
        stepUp: e(function (t) {
            this._stepUp(t)
        }),
        _stepUp: function (t) {
            this._start() && (this._spin((t || 1) * this.options.step), this._stop())
        },
        stepDown: e(function (t) {
            this._stepDown(t)
        }),
        _stepDown: function (t) {
            this._start() && (this._spin((t || 1) * -this.options.step), this._stop())
        },
        pageUp: e(function (t) {
            this._stepUp((t || 1) * this.options.page)
        }),
        pageDown: e(function (t) {
            this._stepDown((t || 1) * this.options.page)
        }),
        value: function (t) {
            return arguments.length ? (e(this._value)
                .call(this, t), void 0) : this._parse(this.element.val())
        },
        widget: function () {
            return this.uiSpinner
        }
    })
}(jQuery),
function (t, e) {
    function i() {
        return ++n
    }

    function s(t) {
        return t.hash.length > 1 && decodeURIComponent(t.href.replace(o, "")) === decodeURIComponent(location.href.replace(o, ""))
    }
    var n = 0,
        o = /#.*$/;
    t.widget("ui.tabs", {
        version: "1.10.3",
        delay: 300,
        options: {
            active: null,
            collapsible: !1,
            event: "click",
            heightStyle: "content",
            hide: null,
            show: null,
            activate: null,
            beforeActivate: null,
            beforeLoad: null,
            load: null
        },
        _create: function () {
            var e = this,
                i = this.options;
            this.running = !1, this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all")
                .toggleClass("ui-tabs-collapsible", i.collapsible)
                .delegate(".ui-tabs-nav > li", "mousedown" + this.eventNamespace, function (e) {
                    t(this)
                        .is(".ui-state-disabled") && e.preventDefault()
                })
                .delegate(".ui-tabs-anchor", "focus" + this.eventNamespace, function () {
                    t(this)
                        .closest("li")
                        .is(".ui-state-disabled") && this.blur()
                }), this._processTabs(), i.active = this._initialActive(), t.isArray(i.disabled) && (i.disabled = t.unique(i.disabled.concat(t.map(
                        this.tabs.filter(".ui-state-disabled"),
                        function (t) {
                            return e.tabs.index(t)
                        })))
                    .sort()), this.active = this.options.active !== !1 && this.anchors.length ? this._findActive(i.active) : t(), this._refresh(),
                this.active.length && this.load(i.active)
        },
        _initialActive: function () {
            var i = this.options.active,
                s = this.options.collapsible,
                n = location.hash.substring(1);
            return null === i && (n && this.tabs.each(function (s, o) {
                    return t(o)
                        .attr("aria-controls") === n ? (i = s, !1) : e
                }), null === i && (i = this.tabs.index(this.tabs.filter(".ui-tabs-active"))), (null === i || -1 === i) && (i = this.tabs.length ?
                    0 : !1)), i !== !1 && (i = this.tabs.index(this.tabs.eq(i)), -1 === i && (i = s ? !1 : 0)), !s && i === !1 && this.anchors.length &&
                (i = 0), i
        },
        _getCreateEventData: function () {
            return {
                tab: this.active,
                panel: this.active.length ? this._getPanelForTab(this.active) : t()
            }
        },
        _tabKeydown: function (i) {
            var s = t(this.document[0].activeElement)
                .closest("li"),
                n = this.tabs.index(s),
                o = !0;
            if (!this._handlePageNav(i)) {
                switch (i.keyCode) {
                case t.ui.keyCode.RIGHT:
                case t.ui.keyCode.DOWN:
                    n++;
                    break;
                case t.ui.keyCode.UP:
                case t.ui.keyCode.LEFT:
                    o = !1, n--;
                    break;
                case t.ui.keyCode.END:
                    n = this.anchors.length - 1;
                    break;
                case t.ui.keyCode.HOME:
                    n = 0;
                    break;
                case t.ui.keyCode.SPACE:
                    return i.preventDefault(), clearTimeout(this.activating), this._activate(n), e;
                case t.ui.keyCode.ENTER:
                    return i.preventDefault(), clearTimeout(this.activating), this._activate(n === this.options.active ? !1 : n), e;
                default:
                    return
                }
                i.preventDefault(), clearTimeout(this.activating), n = this._focusNextTab(n, o), i.ctrlKey || (s.attr("aria-selected", "false"),
                    this.tabs.eq(n)
                    .attr("aria-selected", "true"), this.activating = this._delay(function () {
                        this.option("active", n)
                    }, this.delay))
            }
        },
        _panelKeydown: function (e) {
            this._handlePageNav(e) || e.ctrlKey && e.keyCode === t.ui.keyCode.UP && (e.preventDefault(), this.active.focus())
        },
        _handlePageNav: function (i) {
            return i.altKey && i.keyCode === t.ui.keyCode.PAGE_UP ? (this._activate(this._focusNextTab(this.options.active - 1, !1)), !0) : i.altKey &&
                i.keyCode === t.ui.keyCode.PAGE_DOWN ? (this._activate(this._focusNextTab(this.options.active + 1, !0)), !0) : e
        },
        _findNextTab: function (e, i) {
            function s() {
                return e > n && (e = 0), 0 > e && (e = n), e
            }
            for (var n = this.tabs.length - 1; - 1 !== t.inArray(s(), this.options.disabled);) e = i ? e + 1 : e - 1;
            return e
        },
        _focusNextTab: function (t, e) {
            return t = this._findNextTab(t, e), this.tabs.eq(t)
                .focus(), t
        },
        _setOption: function (t, i) {
            return "active" === t ? (this._activate(i), e) : "disabled" === t ? (this._setupDisabled(i), e) : (this._super(t, i), "collapsible" ===
                t && (this.element.toggleClass("ui-tabs-collapsible", i), i || this.options.active !== !1 || this._activate(0)), "event" === t &&
                this._setupEvents(i), "heightStyle" === t && this._setupHeightStyle(i), e)
        },
        _tabId: function (t) {
            return t.attr("aria-controls") || "ui-tabs-" + i()
        },
        _sanitizeSelector: function (t) {
            return t ? t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g, "\\$&") : ""
        },
        refresh: function () {
            var e = this.options,
                i = this.tablist.children(":has(a[href])");
            e.disabled = t.map(i.filter(".ui-state-disabled"), function (t) {
                    return i.index(t)
                }), this._processTabs(), e.active !== !1 && this.anchors.length ? this.active.length && !t.contains(this.tablist[0], this.active[0]) ?
                this.tabs.length === e.disabled.length ? (e.active = !1, this.active = t()) : this._activate(this._findNextTab(Math.max(0, e.active -
                    1), !1)) : e.active = this.tabs.index(this.active) : (e.active = !1, this.active = t()), this._refresh()
        },
        _refresh: function () {
            this._setupDisabled(this.options.disabled), this._setupEvents(this.options.event), this._setupHeightStyle(this.options.heightStyle),
                this.tabs.not(this.active)
                .attr({
                    "aria-selected": "false",
                    tabIndex: -1
                }), this.panels.not(this._getPanelForTab(this.active))
                .hide()
                .attr({
                    "aria-expanded": "false",
                    "aria-hidden": "true"
                }), this.active.length ? (this.active.addClass("ui-tabs-active ui-state-active")
                    .attr({
                        "aria-selected": "true",
                        tabIndex: 0
                    }), this._getPanelForTab(this.active)
                    .show()
                    .attr({
                        "aria-expanded": "true",
                        "aria-hidden": "false"
                    })) : this.tabs.eq(0)
                .attr("tabIndex", 0)
        },
        _processTabs: function () {
            var e = this;
            this.tablist = this._getList()
                .addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all")
                .attr("role", "tablist"), this.tabs = this.tablist.find("> li:has(a[href])")
                .addClass("ui-state-default ui-corner-top")
                .attr({
                    role: "tab",
                    tabIndex: -1
                }), this.anchors = this.tabs.map(function () {
                    return t("a", this)[0]
                })
                .addClass("ui-tabs-anchor")
                .attr({
                    role: "presentation",
                    tabIndex: -1
                }), this.panels = t(), this.anchors.each(function (i, n) {
                    var o, a, r, h = t(n)
                        .uniqueId()
                        .attr("id"),
                        l = t(n)
                        .closest("li"),
                        c = l.attr("aria-controls");
                    s(n) ? (o = n.hash, a = e.element.find(e._sanitizeSelector(o))) : (r = e._tabId(l), o = "#" + r, a = e.element.find(o), a.length ||
                        (a = e._createPanel(r), a.insertAfter(e.panels[i - 1] || e.tablist)), a.attr("aria-live", "polite")), a.length && (
                        e.panels = e.panels.add(a)), c && l.data("ui-tabs-aria-controls", c), l.attr({
                        "aria-controls": o.substring(1),
                        "aria-labelledby": h
                    }), a.attr("aria-labelledby", h)
                }), this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom")
                .attr("role", "tabpanel")
        },
        _getList: function () {
            return this.element.find("ol,ul")
                .eq(0)
        },
        _createPanel: function (e) {
            return t("<div>")
                .attr("id", e)
                .addClass("ui-tabs-panel ui-widget-content ui-corner-bottom")
                .data("ui-tabs-destroy", !0)
        },
        _setupDisabled: function (e) {
            t.isArray(e) && (e.length ? e.length === this.anchors.length && (e = !0) : e = !1);
            for (var i, s = 0; i = this.tabs[s]; s++) e === !0 || -1 !== t.inArray(s, e) ? t(i)
                .addClass("ui-state-disabled")
                .attr("aria-disabled", "true") : t(i)
                .removeClass("ui-state-disabled")
                .removeAttr("aria-disabled");
            this.options.disabled = e
        },
        _setupEvents: function (e) {
            var i = {
                click: function (t) {
                    t.preventDefault()
                }
            };
            e && t.each(e.split(" "), function (t, e) {
                i[e] = "_eventHandler"
            }), this._off(this.anchors.add(this.tabs)
                .add(this.panels)), this._on(this.anchors, i), this._on(this.tabs, {
                keydown: "_tabKeydown"
            }), this._on(this.panels, {
                keydown: "_panelKeydown"
            }), this._focusable(this.tabs), this._hoverable(this.tabs)
        },
        _setupHeightStyle: function (e) {
            var i, s = this.element.parent();
            "fill" === e ? (i = s.height(), i -= this.element.outerHeight() - this.element.height(), this.element.siblings(":visible")
                .each(function () {
                    var e = t(this),
                        s = e.css("position");
                    "absolute" !== s && "fixed" !== s && (i -= e.outerHeight(!0))
                }), this.element.children()
                .not(this.panels)
                .each(function () {
                    i -= t(this)
                        .outerHeight(!0)
                }), this.panels.each(function () {
                    t(this)
                        .height(Math.max(0, i - t(this)
                            .innerHeight() + t(this)
                            .height()))
                })
                .css("overflow", "auto")) : "auto" === e && (i = 0, this.panels.each(function () {
                    i = Math.max(i, t(this)
                        .height("")
                        .height())
                })
                .height(i))
        },
        _eventHandler: function (e) {
            var i = this.options,
                s = this.active,
                n = t(e.currentTarget),
                o = n.closest("li"),
                a = o[0] === s[0],
                r = a && i.collapsible,
                h = r ? t() : this._getPanelForTab(o),
                l = s.length ? this._getPanelForTab(s) : t(),
                c = {
                    oldTab: s,
                    oldPanel: l,
                    newTab: r ? t() : o,
                    newPanel: h
                };
            e.preventDefault(), o.hasClass("ui-state-disabled") || o.hasClass("ui-tabs-loading") || this.running || a && !i.collapsible || this._trigger(
                "beforeActivate", e, c) === !1 || (i.active = r ? !1 : this.tabs.index(o), this.active = a ? t() : o, this.xhr && this.xhr.abort(),
                l.length || h.length || t.error("jQuery UI Tabs: Mismatching fragment identifier."), h.length && this.load(this.tabs.index(o),
                    e), this._toggle(e, c))
        },
        _toggle: function (e, i) {
            function s() {
                o.running = !1, o._trigger("activate", e, i)
            }

            function n() {
                i.newTab.closest("li")
                    .addClass("ui-tabs-active ui-state-active"), a.length && o.options.show ? o._show(a, o.options.show, s) : (a.show(), s())
            }
            var o = this,
                a = i.newPanel,
                r = i.oldPanel;
            this.running = !0, r.length && this.options.hide ? this._hide(r, this.options.hide, function () {
                    i.oldTab.closest("li")
                        .removeClass("ui-tabs-active ui-state-active"), n()
                }) : (i.oldTab.closest("li")
                    .removeClass("ui-tabs-active ui-state-active"), r.hide(), n()), r.attr({
                    "aria-expanded": "false",
                    "aria-hidden": "true"
                }), i.oldTab.attr("aria-selected", "false"), a.length && r.length ? i.oldTab.attr("tabIndex", -1) : a.length && this.tabs.filter(
                    function () {
                        return 0 === t(this)
                            .attr("tabIndex")
                    })
                .attr("tabIndex", -1), a.attr({
                    "aria-expanded": "true",
                    "aria-hidden": "false"
                }), i.newTab.attr({
                    "aria-selected": "true",
                    tabIndex: 0
                })
        },
        _activate: function (e) {
            var i, s = this._findActive(e);
            s[0] !== this.active[0] && (s.length || (s = this.active), i = s.find(".ui-tabs-anchor")[0], this._eventHandler({
                target: i,
                currentTarget: i,
                preventDefault: t.noop
            }))
        },
        _findActive: function (e) {
            return e === !1 ? t() : this.tabs.eq(e)
        },
        _getIndex: function (t) {
            return "string" == typeof t && (t = this.anchors.index(this.anchors.filter("[href$='" + t + "']"))), t
        },
        _destroy: function () {
            this.xhr && this.xhr.abort(), this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"), this.tablist
                .removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all")
                .removeAttr("role"), this.anchors.removeClass("ui-tabs-anchor")
                .removeAttr("role")
                .removeAttr("tabIndex")
                .removeUniqueId(), this.tabs.add(this.panels)
                .each(function () {
                    t.data(this, "ui-tabs-destroy") ? t(this)
                        .remove() : t(this)
                        .removeClass(
                            "ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel"
                        )
                        .removeAttr("tabIndex")
                        .removeAttr("aria-live")
                        .removeAttr("aria-busy")
                        .removeAttr("aria-selected")
                        .removeAttr("aria-labelledby")
                        .removeAttr("aria-hidden")
                        .removeAttr("aria-expanded")
                        .removeAttr("role")
                }), this.tabs.each(function () {
                    var e = t(this),
                        i = e.data("ui-tabs-aria-controls");
                    i ? e.attr("aria-controls", i)
                        .removeData("ui-tabs-aria-controls") : e.removeAttr("aria-controls")
                }), this.panels.show(), "content" !== this.options.heightStyle && this.panels.css("height", "")
        },
        enable: function (i) {
            var s = this.options.disabled;
            s !== !1 && (i === e ? s = !1 : (i = this._getIndex(i), s = t.isArray(s) ? t.map(s, function (t) {
                return t !== i ? t : null
            }) : t.map(this.tabs, function (t, e) {
                return e !== i ? e : null
            })), this._setupDisabled(s))
        },
        disable: function (i) {
            var s = this.options.disabled;
            if (s !== !0) {
                if (i === e) s = !0;
                else {
                    if (i = this._getIndex(i), -1 !== t.inArray(i, s)) return;
                    s = t.isArray(s) ? t.merge([i], s)
                        .sort() : [i]
                }
                this._setupDisabled(s)
            }
        },
        load: function (e, i) {
            e = this._getIndex(e);
            var n = this,
                o = this.tabs.eq(e),
                a = o.find(".ui-tabs-anchor"),
                r = this._getPanelForTab(o),
                h = {
                    tab: o,
                    panel: r
                };
            s(a[0]) || (this.xhr = t.ajax(this._ajaxSettings(a, i, h)), this.xhr && "canceled" !== this.xhr.statusText && (o.addClass(
                    "ui-tabs-loading"), r.attr("aria-busy", "true"), this.xhr.success(function (t) {
                    setTimeout(function () {
                        r.html(t), n._trigger("load", i, h)
                    }, 1)
                })
                .complete(function (t, e) {
                    setTimeout(function () {
                        "abort" === e && n.panels.stop(!1, !0), o.removeClass("ui-tabs-loading"), r.removeAttr("aria-busy"), t ===
                            n.xhr && delete n.xhr
                    }, 1)
                })))
        },
        _ajaxSettings: function (e, i, s) {
            var n = this;
            return {
                url: e.attr("href"),
                beforeSend: function (e, o) {
                    return n._trigger("beforeLoad", i, t.extend({
                        jqXHR: e,
                        ajaxSettings: o
                    }, s))
                }
            }
        },
        _getPanelForTab: function (e) {
            var i = t(e)
                .attr("aria-controls");
            return this.element.find(this._sanitizeSelector("#" + i))
        }
    })
}(jQuery),
function (t) {
    function e(e, i) {
        var s = (e.attr("aria-describedby") || "")
            .split(/\s+/);
        s.push(i), e.data("ui-tooltip-id", i)
            .attr("aria-describedby", t.trim(s.join(" ")))
    }

    function i(e) {
        var i = e.data("ui-tooltip-id"),
            s = (e.attr("aria-describedby") || "")
            .split(/\s+/),
            n = t.inArray(i, s); - 1 !== n && s.splice(n, 1), e.removeData("ui-tooltip-id"), s = t.trim(s.join(" ")), s ? e.attr("aria-describedby", s) : e
            .removeAttr("aria-describedby")
    }
    var s = 0;
    t.widget("ui.tooltip", {
        version: "1.10.3",
        options: {
            content: function () {
                var e = t(this)
                    .attr("title") || "";
                return t("<a>")
                    .text(e)
                    .html()
            },
            hide: !0,
            items: "[title]:not([disabled])",
            position: {
                my: "left top+15",
                at: "left bottom",
                collision: "flipfit flip"
            },
            show: !0,
            tooltipClass: null,
            track: !1,
            close: null,
            open: null
        },
        _create: function () {
            this._on({
                mouseover: "open",
                focusin: "open"
            }), this.tooltips = {}, this.parents = {}, this.options.disabled && this._disable()
        },
        _setOption: function (e, i) {
            var s = this;
            return "disabled" === e ? (this[i ? "_disable" : "_enable"](), this.options[e] = i, void 0) : (this._super(e, i), "content" === e && t.each(
                this.tooltips,
                function (t, e) {
                    s._updateContent(e)
                }), void 0)
        },
        _disable: function () {
            var e = this;
            t.each(this.tooltips, function (i, s) {
                    var n = t.Event("blur");
                    n.target = n.currentTarget = s[0], e.close(n, !0)
                }), this.element.find(this.options.items)
                .addBack()
                .each(function () {
                    var e = t(this);
                    e.is("[title]") && e.data("ui-tooltip-title", e.attr("title"))
                        .attr("title", "")
                })
        },
        _enable: function () {
            this.element.find(this.options.items)
                .addBack()
                .each(function () {
                    var e = t(this);
                    e.data("ui-tooltip-title") && e.attr("title", e.data("ui-tooltip-title"))
                })
        },
        open: function (e) {
            var i = this,
                s = t(e ? e.target : this.element)
                .closest(this.options.items);
            s.length && !s.data("ui-tooltip-id") && (s.attr("title") && s.data("ui-tooltip-title", s.attr("title")), s.data("ui-tooltip-open", !0),
                e && "mouseover" === e.type && s.parents()
                .each(function () {
                    var e, s = t(this);
                    s.data("ui-tooltip-open") && (e = t.Event("blur"), e.target = e.currentTarget = this, i.close(e, !0)), s.attr("title") &&
                        (s.uniqueId(), i.parents[this.id] = {
                            element: this,
                            title: s.attr("title")
                        }, s.attr("title", ""))
                }), this._updateContent(s, e))
        },
        _updateContent: function (t, e) {
            var i, s = this.options.content,
                n = this,
                o = e ? e.type : null;
            return "string" == typeof s ? this._open(e, t, s) : (i = s.call(t[0], function (i) {
                t.data("ui-tooltip-open") && n._delay(function () {
                    e && (e.type = o), this._open(e, t, i)
                })
            }), i && this._open(e, t, i), void 0)
        },
        _open: function (i, s, n) {
            function o(t) {
                l.of = t, a.is(":hidden") || a.position(l)
            }
            var a, r, h, l = t.extend({}, this.options.position);
            if (n) {
                if (a = this._find(s), a.length) return a.find(".ui-tooltip-content")
                    .html(n), void 0;
                s.is("[title]") && (i && "mouseover" === i.type ? s.attr("title", "") : s.removeAttr("title")), a = this._tooltip(s), e(s, a.attr(
                        "id")), a.find(".ui-tooltip-content")
                    .html(n), this.options.track && i && /^mouse/.test(i.type) ? (this._on(this.document, {
                        mousemove: o
                    }), o(i)) : a.position(t.extend({
                        of: s
                    }, this.options.position)), a.hide(), this._show(a, this.options.show), this.options.show && this.options.show.delay && (h =
                        this.delayedShow = setInterval(function () {
                            a.is(":visible") && (o(l.of), clearInterval(h))
                        }, t.fx.interval)), this._trigger("open", i, {
                        tooltip: a
                    }), r = {
                        keyup: function (e) {
                            if (e.keyCode === t.ui.keyCode.ESCAPE) {
                                var i = t.Event(e);
                                i.currentTarget = s[0], this.close(i, !0)
                            }
                        },
                        remove: function () {
                            this._removeTooltip(a)
                        }
                    }, i && "mouseover" !== i.type || (r.mouseleave = "close"), i && "focusin" !== i.type || (r.focusout = "close"), this._on(!0, s,
                        r)
            }
        },
        close: function (e) {
            var s = this,
                n = t(e ? e.currentTarget : this.element),
                o = this._find(n);
            this.closing || (clearInterval(this.delayedShow), n.data("ui-tooltip-title") && n.attr("title", n.data("ui-tooltip-title")), i(n), o.stop(!
                0), this._hide(o, this.options.hide, function () {
                s._removeTooltip(t(this))
            }), n.removeData("ui-tooltip-open"), this._off(n, "mouseleave focusout keyup"), n[0] !== this.element[0] && this._off(n,
                "remove"), this._off(this.document, "mousemove"), e && "mouseleave" === e.type && t.each(this.parents, function (e, i) {
                t(i.element)
                    .attr("title", i.title), delete s.parents[e]
            }), this.closing = !0, this._trigger("close", e, {
                tooltip: o
            }), this.closing = !1)
        },
        _tooltip: function (e) {
            var i = "ui-tooltip-" + s++,
                n = t("<div>")
                .attr({
                    id: i,
                    role: "tooltip"
                })
                .addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content " + (this.options.tooltipClass || ""));
            return t("<div>")
                .addClass("ui-tooltip-content")
                .appendTo(n), n.appendTo(this.document[0].body), this.tooltips[i] = e, n
        },
        _find: function (e) {
            var i = e.data("ui-tooltip-id");
            return i ? t("#" + i) : t()
        },
        _removeTooltip: function (t) {
            t.remove(), delete this.tooltips[t.attr("id")]
        },
        _destroy: function () {
            var e = this;
            t.each(this.tooltips, function (i, s) {
                var n = t.Event("blur");
                n.target = n.currentTarget = s[0], e.close(n, !0), t("#" + i)
                    .remove(), s.data("ui-tooltip-title") && (s.attr("title", s.data("ui-tooltip-title")), s.removeData("ui-tooltip-title"))
            })
        }
    })
}(jQuery);
/**
 * AJAX Upload ( http://valums.com/ajax-upload/ )
 * Copyright (c) Andris Valums
 * Licensed under the MIT license ( http://valums.com/mit-license/ )
 * Thanks to Gary Haran, David Mark, Corey Burns and others for contributions.
 */
(function () {
    function log() {
        if (typeof console != "undefined" && typeof console.log == "function") {
            Array.prototype.unshift.call(arguments, "[Ajax Upload]");
            console.log(Array.prototype.join.call(arguments, " "))
        }
    }

    function addEvent(e, t, n) {
        if (e.addEventListener) {
            e.addEventListener(t, n, false)
        } else if (e.attachEvent) {
            e.attachEvent("on" + t, function () {
                n.call(e)
            })
        } else {
            throw new Error("not supported or DOM not loaded")
        }
    }

    function addResizeEvent(e) {
        var t;
        addEvent(window, "resize", function () {
            if (t) {
                clearTimeout(t)
            }
            t = setTimeout(e, 100)
        })
    }

    function getBox(e) {
        var t, n, r, i;
        var s = getOffset(e);
        t = s.left;
        r = s.top;
        n = t + e.offsetWidth;
        i = r + e.offsetHeight;
        return {
            left: t,
            right: n,
            top: r,
            bottom: i
        }
    }

    function addStyles(e, t) {
        for (var n in t) {
            if (t.hasOwnProperty(n)) {
                e.style[n] = t[n]
            }
        }
    }

    function copyLayout(e, t) {
        var n = getBox(e);
        addStyles(t, {
            position: "absolute",
            left: n.left + "px",
            top: n.top + "px",
            width: e.offsetWidth + "px",
            height: e.offsetHeight + "px"
        })
    }

    function fileFromPath(e) {
        return e.replace(/.*(\/|\\)/, "")
    }

    function getExt(e) {
        return -1 !== e.indexOf(".") ? e.replace(/.*[.]/, "") : ""
    }

    function hasClass(e, t) {
        var n = new RegExp("\\b" + t + "\\b");
        return n.test(e.className)
    }

    function addClass(e, t) {
        if (!hasClass(e, t)) {
            e.className += " " + t
        }
    }

    function removeClass(e, t) {
        var n = new RegExp("\\b" + t + "\\b");
        e.className = e.className.replace(n, "")
    }

    function removeNode(e) {
        e.parentNode.removeChild(e)
    }
    if (document.documentElement.getBoundingClientRect) {
        var getOffset = function (e) {
            var t = e.getBoundingClientRect();
            var n = e.ownerDocument;
            var r = n.body;
            var i = n.documentElement;
            var s = i.clientTop || r.clientTop || 0;
            var o = i.clientLeft || r.clientLeft || 0;
            var u = 1;
            if (r.getBoundingClientRect) {
                var a = r.getBoundingClientRect();
                u = (a.right - a.left) / r.clientWidth
            }
            if (u > 1) {
                s = 0;
                o = 0
            }
            var f = t.top / u + (window.pageYOffset || i && i.scrollTop / u || r.scrollTop / u) - s,
                l = t.left / u + (window.pageXOffset || i && i.scrollLeft / u || r.scrollLeft / u) - o;
            return {
                top: f,
                left: l
            }
        }
    } else {
        var getOffset = function (e) {
            var t = 0,
                n = 0;
            do {
                t += e.offsetTop || 0;
                n += e.offsetLeft || 0;
                e = e.offsetParent
            } while (e);
            return {
                left: n,
                top: t
            }
        }
    }
    var toElement = function () {
        var e = document.createElement("div");
        return function (t) {
            e.innerHTML = t;
            var n = e.firstChild;
            return e.removeChild(n)
        }
    }();
    var getUID = function () {
        var e = 0;
        return function () {
            return "ValumsAjaxUpload" + e++
        }
    }();
    window.AjaxUpload = function (e, t) {
        this._settings = {
            action: "upload.php",
            method: "post",
            name: "userfile",
            data: {},
            autoSubmit: true,
            responseType: false,
            hoverClass: "hover",
            focusClass: "focus",
            disabledClass: "disabled",
            onChange: function (e, t) {},
            onSubmit: function (e, t) {},
            onComplete: function (e, t) {}
        };
        for (var n in t) {
            if (t.hasOwnProperty(n)) {
                this._settings[n] = t[n]
            }
        }
        if (e.jquery) {
            e = e[0]
        } else if (typeof e == "string") {
            if (/^#.*/.test(e)) {
                e = e.slice(1)
            }
            e = document.getElementById(e)
        }
        if (!e || e.nodeType !== 1) {
            throw new Error("Please make sure that you're passing a valid element")
        }
        if (e.nodeName.toUpperCase() == "A") {
            addEvent(e, "click", function (e) {
                if (e && e.preventDefault) {
                    e.preventDefault()
                } else if (window.event) {
                    window.event.returnValue = false
                }
            })
        }
        this._button = e;
        this._input = null;
        this._disabled = false;
        this.enable();
        this._rerouteClicks()
    };
    AjaxUpload.prototype = {
        setData: function (e) {
            this._settings.data = e
        },
        disable: function () {
            addClass(this._button, this._settings.disabledClass);
            this._disabled = true;
            var e = this._button.nodeName.toUpperCase();
            if (e == "INPUT" || e == "BUTTON") {
                this._button.setAttribute("disabled", "disabled")
            }
            if (this._input) {
                this._input.parentNode.style.visibility = "hidden"
            }
        },
        enable: function () {
            removeClass(this._button, this._settings.disabledClass);
            this._button.removeAttribute("disabled");
            this._disabled = false
        },
        _createInput: function () {
            var e = this;
            var t = document.createElement("input");
            t.setAttribute("type", "file");
            t.setAttribute("name", this._settings.name);
            addStyles(t, {
                position: "absolute",
                right: 0,
                margin: 0,
                padding: 0,
                fontSize: "480px",
                fontFamily: "sans-serif",
                cursor: "pointer"
            });
            var n = document.createElement("div");
            addStyles(n, {
                display: "block",
                position: "absolute",
                overflow: "hidden",
                margin: 0,
                padding: 0,
                opacity: 0,
                direction: "ltr",
                zIndex: 2147483583
            });
            if (n.style.opacity !== "0") {
                if (typeof n.filters == "undefined") {
                    throw new Error("Opacity not supported by the browser")
                }
                n.style.filter = "alpha(opacity=0)"
            }
            addEvent(t, "change", function () {
                if (!t || t.value === "") {
                    return
                }
                var n = fileFromPath(t.value);
                if (false === e._settings.onChange.call(e, n, getExt(n))) {
                    e._clearInput();
                    return
                }
                if (e._settings.autoSubmit) {
                    e.submit()
                }
            });
            addEvent(t, "mouseover", function () {
                addClass(e._button, e._settings.hoverClass)
            });
            addEvent(t, "mouseout", function () {
                removeClass(e._button, e._settings.hoverClass);
                removeClass(e._button, e._settings.focusClass);
                t.parentNode.style.visibility = "hidden"
            });
            addEvent(t, "focus", function () {
                addClass(e._button, e._settings.focusClass)
            });
            addEvent(t, "blur", function () {
                removeClass(e._button, e._settings.focusClass)
            });
            n.appendChild(t);
            document.body.appendChild(n);
            this._input = t
        },
        _clearInput: function () {
            if (!this._input) {
                return
            }
            removeNode(this._input.parentNode);
            this._input = null;
            this._createInput();
            removeClass(this._button, this._settings.hoverClass);
            removeClass(this._button, this._settings.focusClass)
        },
        _rerouteClicks: function () {
            var e = this;
            addEvent(e._button, "mouseover", function () {
                if (e._disabled) {
                    return
                }
                if (!e._input) {
                    e._createInput()
                }
                var t = e._input.parentNode;
                copyLayout(e._button, t);
                t.style.visibility = "visible"
            })
        },
        _createIframe: function () {
            var e = getUID();
            var t = toElement('<iframe src="javascript:false;" name="' + e + '" />');
            t.setAttribute("id", e);
            t.style.display = "none";
            document.body.appendChild(t);
            return t
        },
        _createForm: function (e) {
            var t = this._settings;
            var n = toElement('<form method="' + t.method + '" enctype="multipart/form-data"></form>');
            n.setAttribute("action", t.action);
            n.setAttribute("target", e.name);
            n.style.display = "none";
            document.body.appendChild(n);
            for (var r in t.data) {
                if (t.data.hasOwnProperty(r)) {
                    var i = document.createElement("input");
                    i.setAttribute("type", "hidden");
                    i.setAttribute("name", r);
                    i.setAttribute("value", t.data[r]);
                    n.appendChild(i)
                }
            }
            return n
        },
        _getResponse: function (iframe, file) {
            var toDeleteFlag = false,
                self = this,
                settings = this._settings;
            addEvent(iframe, "load", function () {
                if (iframe.src == "javascript:'%3Chtml%3E%3C/html%3E';" || iframe.src == "javascript:'<html></html>';") {
                    if (toDeleteFlag) {
                        setTimeout(function () {
                            removeNode(iframe)
                        }, 0)
                    }
                    return
                }
                var doc = iframe.contentDocument ? iframe.contentDocument : window.frames[iframe.id].document;
                if (doc.readyState && doc.readyState != "complete") {
                    return
                }
                if (doc.body && doc.body.innerHTML == "false") {
                    return
                }
                var response;
                if (doc.XMLDocument) {
                    response = doc.XMLDocument
                } else if (doc.body) {
                    response = doc.body.innerHTML;
                    if (settings.responseType && settings.responseType.toLowerCase() == "json") {
                        if (doc.body.firstChild && doc.body.firstChild.nodeName.toUpperCase() == "PRE") {
                            doc.normalize();
                            response = doc.body.firstChild.firstChild.nodeValue
                        }
                        if (response) {
                            response = eval("(" + response + ")")
                        } else {
                            response = {}
                        }
                    }
                } else {
                    response = doc
                }
                settings.onComplete.call(self, file, response);
                toDeleteFlag = true;
                iframe.src = "javascript:'<html></html>';"
            })
        },
        submit: function () {
            var e = this,
                t = this._settings;
            if (!this._input || this._input.value === "") {
                return
            }
            var n = fileFromPath(this._input.value);
            if (false === t.onSubmit.call(this, n, getExt(n))) {
                this._clearInput();
                return
            }
            var r = this._createIframe();
            var i = this._createForm(r);
            removeNode(this._input.parentNode);
            removeClass(e._button, e._settings.hoverClass);
            removeClass(e._button, e._settings.focusClass);
            i.appendChild(this._input);
            i.submit();
            removeNode(i);
            i = null;
            removeNode(this._input);
            this._input = null;
            this._getResponse(r, n);
            this._createInput()
        }
    }
})();

var reservations = {
	current: null,
	i: null,
	e: null,
	changeAmount: function(){
		if( this.current ){
			$('.reservationPrice').html( parseInt($('[name="eventForm\[amount\]"]').val())*this.current.price);
		}
	},
	openForm: function(r){
		this.current = r;
		this.e.ajax({
			url: "Public/data/forms/zarezerwuj_tor-test.html",
			dataType: "html",
			async: false,
			success: function (e) {
				$('.over-modal').html(e).show();
				if(this.current && this.current.day) {
                    var dDiff = Date.parse(this.current.day);
                    if (dDiff && (dDiff - (new Date()).getTime()) / 1000 / (24 * 3600) > 14) {
                        $(".regulations-interval-14").remove();
                    }
                }
                $('#Form').css({minHeight: '600px'});
                $('.jspContainer').css({minHeight: '600px'});
				$("[name='eventForm\[idScheduleBlock\]']").val(r.id);
				$("[name='eventForm\[amount\]']").attr('max', parseInt(r.miejsca)-parseInt(r.reservations));
				$('.formContent .jspPane, .formContent .jspDrag').css('top','0');
				$('.formContent').jScrollPane({
                        autoReinitialise: true,
                        mouseWheelSpeed: 30
                    });
                $('#lightbox .contentBox').css({
                    maxHeight: '85vh'
                });
				reservations.changeAmount()
			}
		});
	},
    showRegulations: function(r){
        this.current = r;
        var e = '<div class="modal-regulations">regulaminy</div>';
        $('.over-modal').html(e).show();
        // e("#lightbox")
        //     .data("lightBox")
        //     .showSchedule(i, r, t)
    },
	showHideCompany:function(){
		if( $('[name="eventForm\[is_fv\]"]').is(":checked") ){
			$('.form-company').removeClass('hidden');
		}else{
			$('.form-company').addClass('hidden');
		}
	},
	showConfirmation:function(url){
		$("#lightbox").data("lightBox").resetBox();
		$.ajax({
			url: "Public/data/forms/potwierdzenie_view.html",
			dataType: "html",
			async: false,
			success: function (e) {
				$("<div>")
                        .addClass("formContent")
						.html(e)
                        .appendTo($('.contentBox'));
				$("#lightbox").data("lightBox").displayBox();
			}
		});	
	},
    showUserMessage:function(day, eventId, message){
		if( $('.calendar_slide [day="' + day + '"]').length === 0 ){
			return;
		}
		setTimeout( function(){ $('.calendar_slide [day="' + day + '"]').click() }, 100 );
		setTimeout( function(){ $('[eventid="' + eventId + '"] .download_file').click() }, 200 );
		setTimeout( function(){ $('.over-modal .form_box h1').after('<div style="color: red; text-align: center; padding: 15px 20px;">' + message + '</div>') }, 300 );
    },
	setClick: function(e, o){
		$(e).click( function(){ reservations.openForm(o); } );
	},
	showPaymentFailed: function(){
		$("#lightbox").data("lightBox").resetBox();
		$.ajax({
			url: "Public/data/forms/odrzucenie_view.html",
			dataType: "html",
			async: false,
			success: function (e) {
				$("<div>")
                        .addClass("formContent")
						.html(e)
                        .appendTo($('.contentBox'));
				$("#lightbox").data("lightBox").displayBox();
			}
		});	
	}
}

setTimeout( function(){
	$(window).resize()
}, 4000);

setTimeout( function(){
	$(window).resize()
}, 5000);
